"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/openai@4.97.0_zod@3.24.3";
exports.ids = ["vendor-chunks/openai@4.97.0_zod@3.24.3"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/MultipartBody.mjs":
/*!**************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/MultipartBody.mjs ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MultipartBody: () => (/* binding */ MultipartBody)\n/* harmony export */ });\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */ class MultipartBody {\n    constructor(body){\n        this.body = body;\n    }\n    get [Symbol.toStringTag]() {\n        return \"MultipartBody\";\n    }\n} //# sourceMappingURL=MultipartBody.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL011bHRpcGFydEJvZHkubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Q0FFQyxHQUNNLE1BQU1BO0lBQ1RDLFlBQVlDLElBQUksQ0FBRTtRQUNkLElBQUksQ0FBQ0EsSUFBSSxHQUFHQTtJQUNoQjtJQUNBLElBQUksQ0FBQ0MsT0FBT0MsV0FBVyxDQUFDLEdBQUc7UUFDdkIsT0FBTztJQUNYO0FBQ0osRUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL011bHRpcGFydEJvZHkubWpzP2E3MGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgTXVsdGlwYXJ0Qm9keSB7XG4gICAgY29uc3RydWN0b3IoYm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgICAgIHJldHVybiAnTXVsdGlwYXJ0Qm9keSc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlwYXJ0Qm9keS5tanMubWFwIl0sIm5hbWVzIjpbIk11bHRpcGFydEJvZHkiLCJjb25zdHJ1Y3RvciIsImJvZHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/MultipartBody.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blob: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Blob),\n/* harmony export */   File: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.File),\n/* harmony export */   FormData: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.FormData),\n/* harmony export */   Headers: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Headers),\n/* harmony export */   ReadableStream: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.ReadableStream),\n/* harmony export */   Request: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Request),\n/* harmony export */   Response: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.Response),\n/* harmony export */   auto: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.auto),\n/* harmony export */   fetch: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.fetch),\n/* harmony export */   fileFromPath: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.fileFromPath),\n/* harmony export */   getDefaultAgent: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.getDefaultAgent),\n/* harmony export */   getMultipartRequestOptions: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   isFsReadStream: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.isFsReadStream),\n/* harmony export */   kind: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.kind),\n/* harmony export */   setShims: () => (/* reexport safe */ _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.setShims)\n/* harmony export */ });\n/* harmony import */ var _registry_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registry.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/registry.mjs\");\n/* harmony import */ var openai_shims_auto_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! openai/_shims/auto/runtime */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/node-runtime.mjs\");\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */ \n\nconst init = ()=>{\n    if (!_registry_mjs__WEBPACK_IMPORTED_MODULE_0__.kind) _registry_mjs__WEBPACK_IMPORTED_MODULE_0__.setShims(openai_shims_auto_runtime__WEBPACK_IMPORTED_MODULE_1__.getRuntime(), {\n        auto: true\n    });\n};\n\ninit();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUN1QztBQUNXO0FBQzVDLE1BQU1FLE9BQU87SUFDbEIsSUFBSSxDQUFDRiwrQ0FBVSxFQUFFQSxtREFBYyxDQUFDQyxpRUFBZSxJQUFJO1FBQUVBLE1BQU07SUFBSztBQUNsRSxFQUFFO0FBQzZCO0FBRS9CQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvaW5kZXgubWpzPzBhNWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEaXNjbGFpbWVyOiBtb2R1bGVzIGluIF9zaGltcyBhcmVuJ3QgaW50ZW5kZWQgdG8gYmUgaW1wb3J0ZWQgYnkgU0RLIHVzZXJzLlxuICovXG5pbXBvcnQgKiBhcyBzaGltcyBmcm9tICcuL3JlZ2lzdHJ5Lm1qcyc7XG5pbXBvcnQgKiBhcyBhdXRvIGZyb20gJ29wZW5haS9fc2hpbXMvYXV0by9ydW50aW1lJztcbmV4cG9ydCBjb25zdCBpbml0ID0gKCkgPT4ge1xuICBpZiAoIXNoaW1zLmtpbmQpIHNoaW1zLnNldFNoaW1zKGF1dG8uZ2V0UnVudGltZSgpLCB7IGF1dG86IHRydWUgfSk7XG59O1xuZXhwb3J0ICogZnJvbSAnLi9yZWdpc3RyeS5tanMnO1xuXG5pbml0KCk7XG4iXSwibmFtZXMiOlsic2hpbXMiLCJhdXRvIiwiaW5pdCIsImtpbmQiLCJzZXRTaGltcyIsImdldFJ1bnRpbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/node-runtime.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/node-runtime.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRuntime: () => (/* binding */ getRuntime)\n/* harmony export */ });\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node-fetch */ \"(rsc)/./node_modules/.pnpm/node-fetch@2.7.0/node_modules/node-fetch/lib/index.mjs\");\n/* harmony import */ var formdata_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formdata-node */ \"(rsc)/./node_modules/.pnpm/formdata-node@4.4.1/node_modules/formdata-node/lib/esm/index.js\");\n/* harmony import */ var agentkeepalive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! agentkeepalive */ \"(rsc)/./node_modules/.pnpm/agentkeepalive@4.6.0/node_modules/agentkeepalive/index.js\");\n/* harmony import */ var abort_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! abort-controller */ \"(rsc)/./node_modules/.pnpm/abort-controller@3.0.0/node_modules/abort-controller/dist/abort-controller.js\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var form_data_encoder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! form-data-encoder */ \"(rsc)/./node_modules/.pnpm/form-data-encoder@1.7.2/node_modules/form-data-encoder/lib/esm/index.js\");\n/* harmony import */ var node_stream__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! node:stream */ \"node:stream\");\n/* harmony import */ var _MultipartBody_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MultipartBody.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/MultipartBody.mjs\");\n/* harmony import */ var node_stream_web__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! node:stream/web */ \"node:stream/web\");\n\n\n\n\n\n\n\n\n\nlet fileFromPathWarned = false;\nasync function fileFromPath(path, ...args) {\n    // this import fails in environments that don't handle export maps correctly, like old versions of Jest\n    const { fileFromPath: _fileFromPath } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/formdata-node@4.4.1\"), __webpack_require__.e(\"vendor-chunks/node-domexception@1.0.0\")]).then(__webpack_require__.bind(__webpack_require__, /*! formdata-node/file-from-path */ \"(rsc)/./node_modules/.pnpm/formdata-node@4.4.1/node_modules/formdata-node/lib/esm/fileFromPath.js\"));\n    if (!fileFromPathWarned) {\n        console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(path)}) instead`);\n        fileFromPathWarned = true;\n    }\n    // @ts-ignore\n    return await _fileFromPath(path, ...args);\n}\nconst defaultHttpAgent = new agentkeepalive__WEBPACK_IMPORTED_MODULE_2__({\n    keepAlive: true,\n    timeout: 5 * 60 * 1000\n});\nconst defaultHttpsAgent = new agentkeepalive__WEBPACK_IMPORTED_MODULE_2__.HttpsAgent({\n    keepAlive: true,\n    timeout: 5 * 60 * 1000\n});\nasync function getMultipartRequestOptions(form, opts) {\n    const encoder = new form_data_encoder__WEBPACK_IMPORTED_MODULE_5__.FormDataEncoder(form);\n    const readable = node_stream__WEBPACK_IMPORTED_MODULE_6__.Readable.from(encoder);\n    const body = new _MultipartBody_mjs__WEBPACK_IMPORTED_MODULE_8__.MultipartBody(readable);\n    const headers = {\n        ...opts.headers,\n        ...encoder.headers,\n        \"Content-Length\": encoder.contentLength\n    };\n    return {\n        ...opts,\n        body: body,\n        headers\n    };\n}\nfunction getRuntime() {\n    // Polyfill global object if needed.\n    if (typeof AbortController === \"undefined\") {\n        // @ts-expect-error (the types are subtly different, but compatible in practice)\n        globalThis.AbortController = abort_controller__WEBPACK_IMPORTED_MODULE_3__.AbortController;\n    }\n    return {\n        kind: \"node\",\n        fetch: node_fetch__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        Request: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Request,\n        Response: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Response,\n        Headers: node_fetch__WEBPACK_IMPORTED_MODULE_0__.Headers,\n        FormData: formdata_node__WEBPACK_IMPORTED_MODULE_1__.FormData,\n        Blob: formdata_node__WEBPACK_IMPORTED_MODULE_1__.Blob,\n        File: formdata_node__WEBPACK_IMPORTED_MODULE_1__.File,\n        ReadableStream: node_stream_web__WEBPACK_IMPORTED_MODULE_7__.ReadableStream,\n        getMultipartRequestOptions,\n        getDefaultAgent: (url)=>url.startsWith(\"https\") ? defaultHttpsAgent : defaultHttpAgent,\n        fileFromPath,\n        isFsReadStream: (value)=>value instanceof node_fs__WEBPACK_IMPORTED_MODULE_4__.ReadStream\n    };\n} //# sourceMappingURL=node-runtime.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL25vZGUtcnVudGltZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpQztBQUNHO0FBQ1E7QUFDa0M7QUFDekI7QUFDRDtBQUNiO0FBQ2E7QUFDSDtBQUNqRCxJQUFJVyxxQkFBcUI7QUFDekIsZUFBZUMsYUFBYUMsSUFBSSxFQUFFLEdBQUdDLElBQUk7SUFDckMsdUdBQXVHO0lBQ3ZHLE1BQU0sRUFBRUYsY0FBY0csYUFBYSxFQUFFLEdBQUcsTUFBTSxxVkFBTztJQUNyRCxJQUFJLENBQUNKLG9CQUFvQjtRQUNyQkssUUFBUUMsSUFBSSxDQUFDLENBQUMsb0RBQW9ELEVBQUVDLEtBQUtDLFNBQVMsQ0FBQ04sTUFBTSxTQUFTLENBQUM7UUFDbkdGLHFCQUFxQjtJQUN6QjtJQUNBLGFBQWE7SUFDYixPQUFPLE1BQU1JLGNBQWNGLFNBQVNDO0FBQ3hDO0FBQ0EsTUFBTU0sbUJBQW1CLElBQUlsQiwyQ0FBY0EsQ0FBQztJQUFFbUIsV0FBVztJQUFNQyxTQUFTLElBQUksS0FBSztBQUFLO0FBQ3RGLE1BQU1DLG9CQUFvQixJQUFJckIsc0RBQXlCLENBQUM7SUFBRW1CLFdBQVc7SUFBTUMsU0FBUyxJQUFJLEtBQUs7QUFBSztBQUNsRyxlQUFlRywyQkFBMkJDLElBQUksRUFBRUMsSUFBSTtJQUNoRCxNQUFNQyxVQUFVLElBQUlyQiw4REFBZUEsQ0FBQ21CO0lBQ3BDLE1BQU1HLFdBQVdyQixpREFBUUEsQ0FBQ3NCLElBQUksQ0FBQ0Y7SUFDL0IsTUFBTUcsT0FBTyxJQUFJdEIsNkRBQWFBLENBQUNvQjtJQUMvQixNQUFNRyxVQUFVO1FBQ1osR0FBR0wsS0FBS0ssT0FBTztRQUNmLEdBQUdKLFFBQVFJLE9BQU87UUFDbEIsa0JBQWtCSixRQUFRSyxhQUFhO0lBQzNDO0lBQ0EsT0FBTztRQUFFLEdBQUdOLElBQUk7UUFBRUksTUFBTUE7UUFBTUM7SUFBUTtBQUMxQztBQUNPLFNBQVNFO0lBQ1osb0NBQW9DO0lBQ3BDLElBQUksT0FBTy9CLG9CQUFvQixhQUFhO1FBQ3hDLGdGQUFnRjtRQUNoRmdDLFdBQVdoQyxlQUFlLEdBQUdDLDZEQUF1QkE7SUFDeEQ7SUFDQSxPQUFPO1FBQ0hnQyxNQUFNO1FBQ05DLE9BQU9yQyxrREFBVTtRQUNqQnVDLFNBQVN2QywrQ0FBVTtRQUNuQndDLFVBQVV4QyxnREFBVztRQUNyQnlDLFNBQVN6QywrQ0FBVTtRQUNuQjBDLFVBQVV6QyxtREFBVztRQUNyQjBDLE1BQU0xQywrQ0FBTztRQUNiMkMsTUFBTTNDLCtDQUFPO1FBQ2JTLGNBQWNBLDZEQUFBQTtRQUNkZTtRQUNBb0IsaUJBQWlCLENBQUNDLE1BQVNBLElBQUlDLFVBQVUsQ0FBQyxXQUFXeEIsb0JBQW9CSDtRQUN6RVI7UUFDQW9DLGdCQUFnQixDQUFDQyxRQUFVQSxpQkFBaUIzQywrQ0FBWUE7SUFDNUQ7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9fc2hpbXMvbm9kZS1ydW50aW1lLm1qcz81ODFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG5mIGZyb20gJ25vZGUtZmV0Y2gnO1xuaW1wb3J0ICogYXMgZmQgZnJvbSAnZm9ybWRhdGEtbm9kZSc7XG5pbXBvcnQgS2VlcEFsaXZlQWdlbnQgZnJvbSAnYWdlbnRrZWVwYWxpdmUnO1xuaW1wb3J0IHsgQWJvcnRDb250cm9sbGVyIGFzIEFib3J0Q29udHJvbGxlclBvbHlmaWxsIH0gZnJvbSAnYWJvcnQtY29udHJvbGxlcic7XG5pbXBvcnQgeyBSZWFkU3RyZWFtIGFzIEZzUmVhZFN0cmVhbSB9IGZyb20gJ25vZGU6ZnMnO1xuaW1wb3J0IHsgRm9ybURhdGFFbmNvZGVyIH0gZnJvbSAnZm9ybS1kYXRhLWVuY29kZXInO1xuaW1wb3J0IHsgUmVhZGFibGUgfSBmcm9tICdub2RlOnN0cmVhbSc7XG5pbXBvcnQgeyBNdWx0aXBhcnRCb2R5IH0gZnJvbSBcIi4vTXVsdGlwYXJ0Qm9keS5tanNcIjtcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSAnbm9kZTpzdHJlYW0vd2ViJztcbmxldCBmaWxlRnJvbVBhdGhXYXJuZWQgPSBmYWxzZTtcbmFzeW5jIGZ1bmN0aW9uIGZpbGVGcm9tUGF0aChwYXRoLCAuLi5hcmdzKSB7XG4gICAgLy8gdGhpcyBpbXBvcnQgZmFpbHMgaW4gZW52aXJvbm1lbnRzIHRoYXQgZG9uJ3QgaGFuZGxlIGV4cG9ydCBtYXBzIGNvcnJlY3RseSwgbGlrZSBvbGQgdmVyc2lvbnMgb2YgSmVzdFxuICAgIGNvbnN0IHsgZmlsZUZyb21QYXRoOiBfZmlsZUZyb21QYXRoIH0gPSBhd2FpdCBpbXBvcnQoJ2Zvcm1kYXRhLW5vZGUvZmlsZS1mcm9tLXBhdGgnKTtcbiAgICBpZiAoIWZpbGVGcm9tUGF0aFdhcm5lZCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYGZpbGVGcm9tUGF0aCBpcyBkZXByZWNhdGVkOyB1c2UgZnMuY3JlYXRlUmVhZFN0cmVhbSgke0pTT04uc3RyaW5naWZ5KHBhdGgpfSkgaW5zdGVhZGApO1xuICAgICAgICBmaWxlRnJvbVBhdGhXYXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGF3YWl0IF9maWxlRnJvbVBhdGgocGF0aCwgLi4uYXJncyk7XG59XG5jb25zdCBkZWZhdWx0SHR0cEFnZW50ID0gbmV3IEtlZXBBbGl2ZUFnZW50KHsga2VlcEFsaXZlOiB0cnVlLCB0aW1lb3V0OiA1ICogNjAgKiAxMDAwIH0pO1xuY29uc3QgZGVmYXVsdEh0dHBzQWdlbnQgPSBuZXcgS2VlcEFsaXZlQWdlbnQuSHR0cHNBZ2VudCh7IGtlZXBBbGl2ZTogdHJ1ZSwgdGltZW91dDogNSAqIDYwICogMTAwMCB9KTtcbmFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zKGZvcm0sIG9wdHMpIHtcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IEZvcm1EYXRhRW5jb2Rlcihmb3JtKTtcbiAgICBjb25zdCByZWFkYWJsZSA9IFJlYWRhYmxlLmZyb20oZW5jb2Rlcik7XG4gICAgY29uc3QgYm9keSA9IG5ldyBNdWx0aXBhcnRCb2R5KHJlYWRhYmxlKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRzLmhlYWRlcnMsXG4gICAgICAgIC4uLmVuY29kZXIuaGVhZGVycyxcbiAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogZW5jb2Rlci5jb250ZW50TGVuZ3RoLFxuICAgIH07XG4gICAgcmV0dXJuIHsgLi4ub3B0cywgYm9keTogYm9keSwgaGVhZGVycyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJ1bnRpbWUoKSB7XG4gICAgLy8gUG9seWZpbGwgZ2xvYmFsIG9iamVjdCBpZiBuZWVkZWQuXG4gICAgaWYgKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgKHRoZSB0eXBlcyBhcmUgc3VidGx5IGRpZmZlcmVudCwgYnV0IGNvbXBhdGlibGUgaW4gcHJhY3RpY2UpXG4gICAgICAgIGdsb2JhbFRoaXMuQWJvcnRDb250cm9sbGVyID0gQWJvcnRDb250cm9sbGVyUG9seWZpbGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6ICdub2RlJyxcbiAgICAgICAgZmV0Y2g6IG5mLmRlZmF1bHQsXG4gICAgICAgIFJlcXVlc3Q6IG5mLlJlcXVlc3QsXG4gICAgICAgIFJlc3BvbnNlOiBuZi5SZXNwb25zZSxcbiAgICAgICAgSGVhZGVyczogbmYuSGVhZGVycyxcbiAgICAgICAgRm9ybURhdGE6IGZkLkZvcm1EYXRhLFxuICAgICAgICBCbG9iOiBmZC5CbG9iLFxuICAgICAgICBGaWxlOiBmZC5GaWxlLFxuICAgICAgICBSZWFkYWJsZVN0cmVhbSxcbiAgICAgICAgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIGdldERlZmF1bHRBZ2VudDogKHVybCkgPT4gKHVybC5zdGFydHNXaXRoKCdodHRwcycpID8gZGVmYXVsdEh0dHBzQWdlbnQgOiBkZWZhdWx0SHR0cEFnZW50KSxcbiAgICAgICAgZmlsZUZyb21QYXRoLFxuICAgICAgICBpc0ZzUmVhZFN0cmVhbTogKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEZzUmVhZFN0cmVhbSxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9kZS1ydW50aW1lLm1qcy5tYXAiXSwibmFtZXMiOlsibmYiLCJmZCIsIktlZXBBbGl2ZUFnZW50IiwiQWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyUG9seWZpbGwiLCJSZWFkU3RyZWFtIiwiRnNSZWFkU3RyZWFtIiwiRm9ybURhdGFFbmNvZGVyIiwiUmVhZGFibGUiLCJNdWx0aXBhcnRCb2R5IiwiUmVhZGFibGVTdHJlYW0iLCJmaWxlRnJvbVBhdGhXYXJuZWQiLCJmaWxlRnJvbVBhdGgiLCJwYXRoIiwiYXJncyIsIl9maWxlRnJvbVBhdGgiLCJjb25zb2xlIiwid2FybiIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0SHR0cEFnZW50Iiwia2VlcEFsaXZlIiwidGltZW91dCIsImRlZmF1bHRIdHRwc0FnZW50IiwiSHR0cHNBZ2VudCIsImdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zIiwiZm9ybSIsIm9wdHMiLCJlbmNvZGVyIiwicmVhZGFibGUiLCJmcm9tIiwiYm9keSIsImhlYWRlcnMiLCJjb250ZW50TGVuZ3RoIiwiZ2V0UnVudGltZSIsImdsb2JhbFRoaXMiLCJraW5kIiwiZmV0Y2giLCJkZWZhdWx0IiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiSGVhZGVycyIsIkZvcm1EYXRhIiwiQmxvYiIsIkZpbGUiLCJnZXREZWZhdWx0QWdlbnQiLCJ1cmwiLCJzdGFydHNXaXRoIiwiaXNGc1JlYWRTdHJlYW0iLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/node-runtime.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/registry.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/registry.mjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Blob: () => (/* binding */ Blob),\n/* harmony export */   File: () => (/* binding */ File),\n/* harmony export */   FormData: () => (/* binding */ FormData),\n/* harmony export */   Headers: () => (/* binding */ Headers),\n/* harmony export */   ReadableStream: () => (/* binding */ ReadableStream),\n/* harmony export */   Request: () => (/* binding */ Request),\n/* harmony export */   Response: () => (/* binding */ Response),\n/* harmony export */   auto: () => (/* binding */ auto),\n/* harmony export */   fetch: () => (/* binding */ fetch),\n/* harmony export */   fileFromPath: () => (/* binding */ fileFromPath),\n/* harmony export */   getDefaultAgent: () => (/* binding */ getDefaultAgent),\n/* harmony export */   getMultipartRequestOptions: () => (/* binding */ getMultipartRequestOptions),\n/* harmony export */   isFsReadStream: () => (/* binding */ isFsReadStream),\n/* harmony export */   kind: () => (/* binding */ kind),\n/* harmony export */   setShims: () => (/* binding */ setShims)\n/* harmony export */ });\nlet auto = false;\nlet kind = undefined;\nlet fetch = undefined;\nlet Request = undefined;\nlet Response = undefined;\nlet Headers = undefined;\nlet FormData = undefined;\nlet Blob = undefined;\nlet File = undefined;\nlet ReadableStream = undefined;\nlet getMultipartRequestOptions = undefined;\nlet getDefaultAgent = undefined;\nlet fileFromPath = undefined;\nlet isFsReadStream = undefined;\nfunction setShims(shims, options = {\n    auto: false\n}) {\n    if (auto) {\n        throw new Error(`you must \\`import 'openai/shims/${shims.kind}'\\` before importing anything else from openai`);\n    }\n    if (kind) {\n        throw new Error(`can't \\`import 'openai/shims/${shims.kind}'\\` after \\`import 'openai/shims/${kind}'\\``);\n    }\n    auto = options.auto;\n    kind = shims.kind;\n    fetch = shims.fetch;\n    Request = shims.Request;\n    Response = shims.Response;\n    Headers = shims.Headers;\n    FormData = shims.FormData;\n    Blob = shims.Blob;\n    File = shims.File;\n    ReadableStream = shims.ReadableStream;\n    getMultipartRequestOptions = shims.getMultipartRequestOptions;\n    getDefaultAgent = shims.getDefaultAgent;\n    fileFromPath = shims.fileFromPath;\n    isFsReadStream = shims.isFsReadStream;\n} //# sourceMappingURL=registry.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3NoaW1zL3JlZ2lzdHJ5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTyxJQUFJQSxPQUFPLE1BQU07QUFDakIsSUFBSUMsT0FBT0MsVUFBVTtBQUNyQixJQUFJQyxRQUFRRCxVQUFVO0FBQ3RCLElBQUlFLFVBQVVGLFVBQVU7QUFDeEIsSUFBSUcsV0FBV0gsVUFBVTtBQUN6QixJQUFJSSxVQUFVSixVQUFVO0FBQ3hCLElBQUlLLFdBQVdMLFVBQVU7QUFDekIsSUFBSU0sT0FBT04sVUFBVTtBQUNyQixJQUFJTyxPQUFPUCxVQUFVO0FBQ3JCLElBQUlRLGlCQUFpQlIsVUFBVTtBQUMvQixJQUFJUyw2QkFBNkJULFVBQVU7QUFDM0MsSUFBSVUsa0JBQWtCVixVQUFVO0FBQ2hDLElBQUlXLGVBQWVYLFVBQVU7QUFDN0IsSUFBSVksaUJBQWlCWixVQUFVO0FBQy9CLFNBQVNhLFNBQVNDLEtBQUssRUFBRUMsVUFBVTtJQUFFakIsTUFBTTtBQUFNLENBQUM7SUFDckQsSUFBSUEsTUFBTTtRQUNOLE1BQU0sSUFBSWtCLE1BQU0sQ0FBQyxnQ0FBZ0MsRUFBRUYsTUFBTWYsSUFBSSxDQUFDLDhDQUE4QyxDQUFDO0lBQ2pIO0lBQ0EsSUFBSUEsTUFBTTtRQUNOLE1BQU0sSUFBSWlCLE1BQU0sQ0FBQyw2QkFBNkIsRUFBRUYsTUFBTWYsSUFBSSxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLEdBQUcsQ0FBQztJQUMzRztJQUNBRCxPQUFPaUIsUUFBUWpCLElBQUk7SUFDbkJDLE9BQU9lLE1BQU1mLElBQUk7SUFDakJFLFFBQVFhLE1BQU1iLEtBQUs7SUFDbkJDLFVBQVVZLE1BQU1aLE9BQU87SUFDdkJDLFdBQVdXLE1BQU1YLFFBQVE7SUFDekJDLFVBQVVVLE1BQU1WLE9BQU87SUFDdkJDLFdBQVdTLE1BQU1ULFFBQVE7SUFDekJDLE9BQU9RLE1BQU1SLElBQUk7SUFDakJDLE9BQU9PLE1BQU1QLElBQUk7SUFDakJDLGlCQUFpQk0sTUFBTU4sY0FBYztJQUNyQ0MsNkJBQTZCSyxNQUFNTCwwQkFBMEI7SUFDN0RDLGtCQUFrQkksTUFBTUosZUFBZTtJQUN2Q0MsZUFBZUcsTUFBTUgsWUFBWTtJQUNqQ0MsaUJBQWlCRSxNQUFNRixjQUFjO0FBQ3pDLEVBQ0EscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL19zaGltcy9yZWdpc3RyeS5tanM/YmFhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgbGV0IGF1dG8gPSBmYWxzZTtcbmV4cG9ydCBsZXQga2luZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgZmV0Y2ggPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlcXVlc3QgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IFJlc3BvbnNlID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBIZWFkZXJzID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBGb3JtRGF0YSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgQmxvYiA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgRmlsZSA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgUmVhZGFibGVTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zID0gdW5kZWZpbmVkO1xuZXhwb3J0IGxldCBnZXREZWZhdWx0QWdlbnQgPSB1bmRlZmluZWQ7XG5leHBvcnQgbGV0IGZpbGVGcm9tUGF0aCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBsZXQgaXNGc1JlYWRTdHJlYW0gPSB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gc2V0U2hpbXMoc2hpbXMsIG9wdGlvbnMgPSB7IGF1dG86IGZhbHNlIH0pIHtcbiAgICBpZiAoYXV0bykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHlvdSBtdXN0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGJlZm9yZSBpbXBvcnRpbmcgYW55dGhpbmcgZWxzZSBmcm9tIG9wZW5haWApO1xuICAgIH1cbiAgICBpZiAoa2luZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbid0IFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7c2hpbXMua2luZH0nXFxgIGFmdGVyIFxcYGltcG9ydCAnb3BlbmFpL3NoaW1zLyR7a2luZH0nXFxgYCk7XG4gICAgfVxuICAgIGF1dG8gPSBvcHRpb25zLmF1dG87XG4gICAga2luZCA9IHNoaW1zLmtpbmQ7XG4gICAgZmV0Y2ggPSBzaGltcy5mZXRjaDtcbiAgICBSZXF1ZXN0ID0gc2hpbXMuUmVxdWVzdDtcbiAgICBSZXNwb25zZSA9IHNoaW1zLlJlc3BvbnNlO1xuICAgIEhlYWRlcnMgPSBzaGltcy5IZWFkZXJzO1xuICAgIEZvcm1EYXRhID0gc2hpbXMuRm9ybURhdGE7XG4gICAgQmxvYiA9IHNoaW1zLkJsb2I7XG4gICAgRmlsZSA9IHNoaW1zLkZpbGU7XG4gICAgUmVhZGFibGVTdHJlYW0gPSBzaGltcy5SZWFkYWJsZVN0cmVhbTtcbiAgICBnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyA9IHNoaW1zLmdldE11bHRpcGFydFJlcXVlc3RPcHRpb25zO1xuICAgIGdldERlZmF1bHRBZ2VudCA9IHNoaW1zLmdldERlZmF1bHRBZ2VudDtcbiAgICBmaWxlRnJvbVBhdGggPSBzaGltcy5maWxlRnJvbVBhdGg7XG4gICAgaXNGc1JlYWRTdHJlYW0gPSBzaGltcy5pc0ZzUmVhZFN0cmVhbTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJ5Lm1qcy5tYXAiXSwibmFtZXMiOlsiYXV0byIsImtpbmQiLCJ1bmRlZmluZWQiLCJmZXRjaCIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIkhlYWRlcnMiLCJGb3JtRGF0YSIsIkJsb2IiLCJGaWxlIiwiUmVhZGFibGVTdHJlYW0iLCJnZXRNdWx0aXBhcnRSZXF1ZXN0T3B0aW9ucyIsImdldERlZmF1bHRBZ2VudCIsImZpbGVGcm9tUGF0aCIsImlzRnNSZWFkU3RyZWFtIiwic2V0U2hpbXMiLCJzaGltcyIsIm9wdGlvbnMiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/registry.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_vendor/partial-json-parser/parser.mjs":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_vendor/partial-json-parser/parser.mjs ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MalformedJSON: () => (/* binding */ MalformedJSON),\n/* harmony export */   PartialJSON: () => (/* binding */ PartialJSON),\n/* harmony export */   partialParse: () => (/* binding */ partialParse)\n/* harmony export */ });\nconst STR = 1;\nconst NUM = 2;\nconst ARR = 4;\nconst OBJ = 8;\nconst NULL = 16;\nconst BOOL = 32;\nconst NAN = 64;\nconst INFINITY = 128;\nconst MINUS_INFINITY = 256;\nconst INF = INFINITY | MINUS_INFINITY;\nconst SPECIAL = NULL | BOOL | INF | NAN;\nconst ATOM = STR | NUM | SPECIAL;\nconst COLLECTION = ARR | OBJ;\nconst ALL = ATOM | COLLECTION;\nconst Allow = {\n    STR,\n    NUM,\n    ARR,\n    OBJ,\n    NULL,\n    BOOL,\n    NAN,\n    INFINITY,\n    MINUS_INFINITY,\n    INF,\n    SPECIAL,\n    ATOM,\n    COLLECTION,\n    ALL\n};\n// The JSON string segment was unable to be parsed completely\nclass PartialJSON extends Error {\n}\nclass MalformedJSON extends Error {\n}\n/**\n * Parse incomplete JSON\n * @param {string} jsonString Partial JSON to be parsed\n * @param {number} allowPartial Specify what types are allowed to be partial, see {@link Allow} for details\n * @returns The parsed JSON\n * @throws {PartialJSON} If the JSON is incomplete (related to the `allow` parameter)\n * @throws {MalformedJSON} If the JSON is malformed\n */ function parseJSON(jsonString, allowPartial = Allow.ALL) {\n    if (typeof jsonString !== \"string\") {\n        throw new TypeError(`expecting str, got ${typeof jsonString}`);\n    }\n    if (!jsonString.trim()) {\n        throw new Error(`${jsonString} is empty`);\n    }\n    return _parseJSON(jsonString.trim(), allowPartial);\n}\nconst _parseJSON = (jsonString, allow)=>{\n    const length = jsonString.length;\n    let index = 0;\n    const markPartialJSON = (msg)=>{\n        throw new PartialJSON(`${msg} at position ${index}`);\n    };\n    const throwMalformedError = (msg)=>{\n        throw new MalformedJSON(`${msg} at position ${index}`);\n    };\n    const parseAny = ()=>{\n        skipBlank();\n        if (index >= length) markPartialJSON(\"Unexpected end of input\");\n        if (jsonString[index] === '\"') return parseStr();\n        if (jsonString[index] === \"{\") return parseObj();\n        if (jsonString[index] === \"[\") return parseArr();\n        if (jsonString.substring(index, index + 4) === \"null\" || Allow.NULL & allow && length - index < 4 && \"null\".startsWith(jsonString.substring(index))) {\n            index += 4;\n            return null;\n        }\n        if (jsonString.substring(index, index + 4) === \"true\" || Allow.BOOL & allow && length - index < 4 && \"true\".startsWith(jsonString.substring(index))) {\n            index += 4;\n            return true;\n        }\n        if (jsonString.substring(index, index + 5) === \"false\" || Allow.BOOL & allow && length - index < 5 && \"false\".startsWith(jsonString.substring(index))) {\n            index += 5;\n            return false;\n        }\n        if (jsonString.substring(index, index + 8) === \"Infinity\" || Allow.INFINITY & allow && length - index < 8 && \"Infinity\".startsWith(jsonString.substring(index))) {\n            index += 8;\n            return Infinity;\n        }\n        if (jsonString.substring(index, index + 9) === \"-Infinity\" || Allow.MINUS_INFINITY & allow && 1 < length - index && length - index < 9 && \"-Infinity\".startsWith(jsonString.substring(index))) {\n            index += 9;\n            return -Infinity;\n        }\n        if (jsonString.substring(index, index + 3) === \"NaN\" || Allow.NAN & allow && length - index < 3 && \"NaN\".startsWith(jsonString.substring(index))) {\n            index += 3;\n            return NaN;\n        }\n        return parseNum();\n    };\n    const parseStr = ()=>{\n        const start = index;\n        let escape = false;\n        index++; // skip initial quote\n        while(index < length && (jsonString[index] !== '\"' || escape && jsonString[index - 1] === \"\\\\\")){\n            escape = jsonString[index] === \"\\\\\" ? !escape : false;\n            index++;\n        }\n        if (jsonString.charAt(index) == '\"') {\n            try {\n                return JSON.parse(jsonString.substring(start, ++index - Number(escape)));\n            } catch (e) {\n                throwMalformedError(String(e));\n            }\n        } else if (Allow.STR & allow) {\n            try {\n                return JSON.parse(jsonString.substring(start, index - Number(escape)) + '\"');\n            } catch (e) {\n                // SyntaxError: Invalid escape sequence\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf(\"\\\\\")) + '\"');\n            }\n        }\n        markPartialJSON(\"Unterminated string literal\");\n    };\n    const parseObj = ()=>{\n        index++; // skip initial brace\n        skipBlank();\n        const obj = {};\n        try {\n            while(jsonString[index] !== \"}\"){\n                skipBlank();\n                if (index >= length && Allow.OBJ & allow) return obj;\n                const key = parseStr();\n                skipBlank();\n                index++; // skip colon\n                try {\n                    const value = parseAny();\n                    Object.defineProperty(obj, key, {\n                        value,\n                        writable: true,\n                        enumerable: true,\n                        configurable: true\n                    });\n                } catch (e) {\n                    if (Allow.OBJ & allow) return obj;\n                    else throw e;\n                }\n                skipBlank();\n                if (jsonString[index] === \",\") index++; // skip comma\n            }\n        } catch (e) {\n            if (Allow.OBJ & allow) return obj;\n            else markPartialJSON(\"Expected '}' at end of object\");\n        }\n        index++; // skip final brace\n        return obj;\n    };\n    const parseArr = ()=>{\n        index++; // skip initial bracket\n        const arr = [];\n        try {\n            while(jsonString[index] !== \"]\"){\n                arr.push(parseAny());\n                skipBlank();\n                if (jsonString[index] === \",\") {\n                    index++; // skip comma\n                }\n            }\n        } catch (e) {\n            if (Allow.ARR & allow) {\n                return arr;\n            }\n            markPartialJSON(\"Expected ']' at end of array\");\n        }\n        index++; // skip final bracket\n        return arr;\n    };\n    const parseNum = ()=>{\n        if (index === 0) {\n            if (jsonString === \"-\" && Allow.NUM & allow) markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString);\n            } catch (e) {\n                if (Allow.NUM & allow) {\n                    try {\n                        if (\".\" === jsonString[jsonString.length - 1]) return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(\".\")));\n                        return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf(\"e\")));\n                    } catch (e) {}\n                }\n                throwMalformedError(String(e));\n            }\n        }\n        const start = index;\n        if (jsonString[index] === \"-\") index++;\n        while(jsonString[index] && !\",]}\".includes(jsonString[index]))index++;\n        if (index == length && !(Allow.NUM & allow)) markPartialJSON(\"Unterminated number literal\");\n        try {\n            return JSON.parse(jsonString.substring(start, index));\n        } catch (e) {\n            if (jsonString.substring(start, index) === \"-\" && Allow.NUM & allow) markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf(\"e\")));\n            } catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n    };\n    const skipBlank = ()=>{\n        while(index < length && \" \\n\\r\t\".includes(jsonString[index])){\n            index++;\n        }\n    };\n    return parseAny();\n};\n// using this function with malformed JSON is undefined behavior\nconst partialParse = (input)=>parseJSON(input, Allow.ALL ^ Allow.NUM);\n //# sourceMappingURL=parser.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci9wYXJ0aWFsLWpzb24tcGFyc2VyL3BhcnNlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsTUFBTTtBQUNaLE1BQU1DLE1BQU07QUFDWixNQUFNQyxNQUFNO0FBQ1osTUFBTUMsTUFBTTtBQUNaLE1BQU1DLE9BQU87QUFDYixNQUFNQyxPQUFPO0FBQ2IsTUFBTUMsTUFBTTtBQUNaLE1BQU1DLFdBQVc7QUFDakIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLE1BQU1GLFdBQVdDO0FBQ3ZCLE1BQU1FLFVBQVVOLE9BQU9DLE9BQU9JLE1BQU1IO0FBQ3BDLE1BQU1LLE9BQU9YLE1BQU1DLE1BQU1TO0FBQ3pCLE1BQU1FLGFBQWFWLE1BQU1DO0FBQ3pCLE1BQU1VLE1BQU1GLE9BQU9DO0FBQ25CLE1BQU1FLFFBQVE7SUFDVmQ7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7QUFDSjtBQUNBLDZEQUE2RDtBQUM3RCxNQUFNRSxvQkFBb0JDO0FBQzFCO0FBQ0EsTUFBTUMsc0JBQXNCRDtBQUM1QjtBQUNBOzs7Ozs7O0NBT0MsR0FDRCxTQUFTRSxVQUFVQyxVQUFVLEVBQUVDLGVBQWVOLE1BQU1ELEdBQUc7SUFDbkQsSUFBSSxPQUFPTSxlQUFlLFVBQVU7UUFDaEMsTUFBTSxJQUFJRSxVQUFVLENBQUMsbUJBQW1CLEVBQUUsT0FBT0YsV0FBVyxDQUFDO0lBQ2pFO0lBQ0EsSUFBSSxDQUFDQSxXQUFXRyxJQUFJLElBQUk7UUFDcEIsTUFBTSxJQUFJTixNQUFNLENBQUMsRUFBRUcsV0FBVyxTQUFTLENBQUM7SUFDNUM7SUFDQSxPQUFPSSxXQUFXSixXQUFXRyxJQUFJLElBQUlGO0FBQ3pDO0FBQ0EsTUFBTUcsYUFBYSxDQUFD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aUMsUUFBUSxDQUFDeEMsVUFBVSxDQUFDTyxNQUFNLEVBQ3pEQTtRQUNKLElBQUlBLFNBQVNELFVBQVUsQ0FBRVgsQ0FBQUEsTUFBTWIsR0FBRyxHQUFHdUIsS0FBSSxHQUNyQ0csZ0JBQWdCO1FBQ3BCLElBQUk7WUFDQSxPQUFPZ0IsS0FBS0MsS0FBSyxDQUFDekIsV0FBV2dCLFNBQVMsQ0FBQ0ssT0FBT2Q7UUFDbEQsRUFDQSxPQUFPb0IsR0FBRztZQUNOLElBQUkzQixXQUFXZ0IsU0FBUyxDQUFDSyxPQUFPZCxXQUFXLE9BQU9aLE1BQU1iLEdBQUcsR0FBR3VCLE9BQzFERyxnQkFBZ0I7WUFDcEIsSUFBSTtnQkFDQSxPQUFPZ0IsS0FBS0MsS0FBSyxDQUFDekIsV0FBV2dCLFNBQVMsQ0FBQ0ssT0FBT3JCLFdBQVc2QixXQUFXLENBQUM7WUFDekUsRUFDQSxPQUFPRixHQUFHO2dCQUNOakIsb0JBQW9Ca0IsT0FBT0Q7WUFDL0I7UUFDSjtJQUNKO0lBQ0EsTUFBTWYsWUFBWTtRQUNkLE1BQU9MLFFBQVFELFVBQVUsU0FBVWtDLFFBQVEsQ0FBQ3hDLFVBQVUsQ0FBQ08sTUFBTSxFQUFHO1lBQzVEQTtRQUNKO0lBQ0o7SUFDQSxPQUFPSTtBQUNYO0FBQ0EsZ0VBQWdFO0FBQ2hFLE1BQU04QixlQUFlLENBQUNDLFFBQVUzQyxVQUFVMkMsT0FBTy9DLE1BQU1ELEdBQUcsR0FBR0MsTUFBTWIsR0FBRztBQUNsQixDQUNwRCxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvX3ZlbmRvci9wYXJ0aWFsLWpzb24tcGFyc2VyL3BhcnNlci5tanM/YmIwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTVFIgPSAwYjAwMDAwMDAwMTtcbmNvbnN0IE5VTSA9IDBiMDAwMDAwMDEwO1xuY29uc3QgQVJSID0gMGIwMDAwMDAxMDA7XG5jb25zdCBPQkogPSAwYjAwMDAwMTAwMDtcbmNvbnN0IE5VTEwgPSAwYjAwMDAxMDAwMDtcbmNvbnN0IEJPT0wgPSAwYjAwMDEwMDAwMDtcbmNvbnN0IE5BTiA9IDBiMDAxMDAwMDAwO1xuY29uc3QgSU5GSU5JVFkgPSAwYjAxMDAwMDAwMDtcbmNvbnN0IE1JTlVTX0lORklOSVRZID0gMGIxMDAwMDAwMDA7XG5jb25zdCBJTkYgPSBJTkZJTklUWSB8IE1JTlVTX0lORklOSVRZO1xuY29uc3QgU1BFQ0lBTCA9IE5VTEwgfCBCT09MIHwgSU5GIHwgTkFOO1xuY29uc3QgQVRPTSA9IFNUUiB8IE5VTSB8IFNQRUNJQUw7XG5jb25zdCBDT0xMRUNUSU9OID0gQVJSIHwgT0JKO1xuY29uc3QgQUxMID0gQVRPTSB8IENPTExFQ1RJT047XG5jb25zdCBBbGxvdyA9IHtcbiAgICBTVFIsXG4gICAgTlVNLFxuICAgIEFSUixcbiAgICBPQkosXG4gICAgTlVMTCxcbiAgICBCT09MLFxuICAgIE5BTixcbiAgICBJTkZJTklUWSxcbiAgICBNSU5VU19JTkZJTklUWSxcbiAgICBJTkYsXG4gICAgU1BFQ0lBTCxcbiAgICBBVE9NLFxuICAgIENPTExFQ1RJT04sXG4gICAgQUxMLFxufTtcbi8vIFRoZSBKU09OIHN0cmluZyBzZWdtZW50IHdhcyB1bmFibGUgdG8gYmUgcGFyc2VkIGNvbXBsZXRlbHlcbmNsYXNzIFBhcnRpYWxKU09OIGV4dGVuZHMgRXJyb3Ige1xufVxuY2xhc3MgTWFsZm9ybWVkSlNPTiBleHRlbmRzIEVycm9yIHtcbn1cbi8qKlxuICogUGFyc2UgaW5jb21wbGV0ZSBKU09OXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvblN0cmluZyBQYXJ0aWFsIEpTT04gdG8gYmUgcGFyc2VkXG4gKiBAcGFyYW0ge251bWJlcn0gYWxsb3dQYXJ0aWFsIFNwZWNpZnkgd2hhdCB0eXBlcyBhcmUgYWxsb3dlZCB0byBiZSBwYXJ0aWFsLCBzZWUge0BsaW5rIEFsbG93fSBmb3IgZGV0YWlsc1xuICogQHJldHVybnMgVGhlIHBhcnNlZCBKU09OXG4gKiBAdGhyb3dzIHtQYXJ0aWFsSlNPTn0gSWYgdGhlIEpTT04gaXMgaW5jb21wbGV0ZSAocmVsYXRlZCB0byB0aGUgYGFsbG93YCBwYXJhbWV0ZXIpXG4gKiBAdGhyb3dzIHtNYWxmb3JtZWRKU09OfSBJZiB0aGUgSlNPTiBpcyBtYWxmb3JtZWRcbiAqL1xuZnVuY3Rpb24gcGFyc2VKU09OKGpzb25TdHJpbmcsIGFsbG93UGFydGlhbCA9IEFsbG93LkFMTCkge1xuICAgIGlmICh0eXBlb2YganNvblN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0aW5nIHN0ciwgZ290ICR7dHlwZW9mIGpzb25TdHJpbmd9YCk7XG4gICAgfVxuICAgIGlmICghanNvblN0cmluZy50cmltKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2pzb25TdHJpbmd9IGlzIGVtcHR5YCk7XG4gICAgfVxuICAgIHJldHVybiBfcGFyc2VKU09OKGpzb25TdHJpbmcudHJpbSgpLCBhbGxvd1BhcnRpYWwpO1xufVxuY29uc3QgX3BhcnNlSlNPTiA9IChqc29uU3RyaW5nLCBhbGxvdykgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IGpzb25TdHJpbmcubGVuZ3RoO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgY29uc3QgbWFya1BhcnRpYWxKU09OID0gKG1zZykgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgUGFydGlhbEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICAgIH07XG4gICAgY29uc3QgdGhyb3dNYWxmb3JtZWRFcnJvciA9IChtc2cpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IE1hbGZvcm1lZEpTT04oYCR7bXNnfSBhdCBwb3NpdGlvbiAke2luZGV4fWApO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VBbnkgPSAoKSA9PiB7XG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBpZiAoaW5kZXggPj0gbGVuZ3RoKVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKCdVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCcpO1xuICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICdcIicpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VTdHIoKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAneycpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmooKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnWycpXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VBcnIoKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAnbnVsbCcgfHxcbiAgICAgICAgICAgIChBbGxvdy5OVUxMICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICdudWxsJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDQpID09PSAndHJ1ZScgfHxcbiAgICAgICAgICAgIChBbGxvdy5CT09MICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA0ICYmICd0cnVlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDUpID09PSAnZmFsc2UnIHx8XG4gICAgICAgICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNSAmJiAnZmFsc2UnLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDgpID09PSAnSW5maW5pdHknIHx8XG4gICAgICAgICAgICAoQWxsb3cuSU5GSU5JVFkgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDggJiYgJ0luZmluaXR5Jy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA4O1xuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA5KSA9PT0gJy1JbmZpbml0eScgfHxcbiAgICAgICAgICAgIChBbGxvdy5NSU5VU19JTkZJTklUWSAmIGFsbG93ICYmXG4gICAgICAgICAgICAgICAgMSA8IGxlbmd0aCAtIGluZGV4ICYmXG4gICAgICAgICAgICAgICAgbGVuZ3RoIC0gaW5kZXggPCA5ICYmXG4gICAgICAgICAgICAgICAgJy1JbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gOTtcbiAgICAgICAgICAgIHJldHVybiAtSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4LCBpbmRleCArIDMpID09PSAnTmFOJyB8fFxuICAgICAgICAgICAgKEFsbG93Lk5BTiAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgMyAmJiAnTmFOJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSAzO1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VOdW0oKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlU3RyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuICAgICAgICBsZXQgZXNjYXBlID0gZmFsc2U7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBxdW90ZVxuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGggJiYgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXCInIHx8IChlc2NhcGUgJiYganNvblN0cmluZ1tpbmRleCAtIDFdID09PSAnXFxcXCcpKSkge1xuICAgICAgICAgICAgZXNjYXBlID0ganNvblN0cmluZ1tpbmRleF0gPT09ICdcXFxcJyA/ICFlc2NhcGUgOiBmYWxzZTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpzb25TdHJpbmcuY2hhckF0KGluZGV4KSA9PSAnXCInKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCArK2luZGV4IC0gTnVtYmVyKGVzY2FwZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFsbG93LlNUUiAmIGFsbG93KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCAtIE51bWJlcihlc2NhcGUpKSArICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBTeW50YXhFcnJvcjogSW52YWxpZCBlc2NhcGUgc2VxdWVuY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignXFxcXCcpKSArICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW50ZXJtaW5hdGVkIHN0cmluZyBsaXRlcmFsJyk7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZU9iaiA9ICgpID0+IHtcbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBpbml0aWFsIGJyYWNlXG4gICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGxlbmd0aCAmJiBBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYXJzZVN0cigpO1xuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29sb25cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlQW55KCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLCcpXG4gICAgICAgICAgICAgICAgICAgIGluZGV4Kys7IC8vIHNraXAgY29tbWFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKEFsbG93Lk9CSiAmIGFsbG93KVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiRXhwZWN0ZWQgJ30nIGF0IGVuZCBvZiBvYmplY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFjZVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VBcnIgPSAoKSA9PiB7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBicmFja2V0XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChwYXJzZUFueSgpKTtcbiAgICAgICAgICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICcsJykge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbW1hXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoQWxsb3cuQVJSICYgYWxsb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiRXhwZWN0ZWQgJ10nIGF0IGVuZCBvZiBhcnJheVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGZpbmFsIGJyYWNrZXRcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlTnVtID0gKCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChqc29uU3RyaW5nID09PSAnLScgJiYgQWxsb3cuTlVNICYgYWxsb3cpXG4gICAgICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKFwiTm90IHN1cmUgd2hhdCAnLScgaXNcIik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoQWxsb3cuTlVNICYgYWxsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgnLicgPT09IGpzb25TdHJpbmdbanNvblN0cmluZy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZygwLCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCcuJykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKDAsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ2UnKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3dNYWxmb3JtZWRFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gaW5kZXg7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJy0nKVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgd2hpbGUgKGpzb25TdHJpbmdbaW5kZXhdICYmICEnLF19Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSkpXG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICBpZiAoaW5kZXggPT0gbGVuZ3RoICYmICEoQWxsb3cuTlVNICYgYWxsb3cpKVxuICAgICAgICAgICAgbWFya1BhcnRpYWxKU09OKCdVbnRlcm1pbmF0ZWQgbnVtYmVyIGxpdGVyYWwnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGluZGV4KSA9PT0gJy0nICYmIEFsbG93Lk5VTSAmIGFsbG93KVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIk5vdCBzdXJlIHdoYXQgJy0nIGlzXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwganNvblN0cmluZy5sYXN0SW5kZXhPZignZScpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2tpcEJsYW5rID0gKCkgPT4ge1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGggJiYgJyBcXG5cXHJcXHQnLmluY2x1ZGVzKGpzb25TdHJpbmdbaW5kZXhdKSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHBhcnNlQW55KCk7XG59O1xuLy8gdXNpbmcgdGhpcyBmdW5jdGlvbiB3aXRoIG1hbGZvcm1lZCBKU09OIGlzIHVuZGVmaW5lZCBiZWhhdmlvclxuY29uc3QgcGFydGlhbFBhcnNlID0gKGlucHV0KSA9PiBwYXJzZUpTT04oaW5wdXQsIEFsbG93LkFMTCBeIEFsbG93Lk5VTSk7XG5leHBvcnQgeyBwYXJ0aWFsUGFyc2UsIFBhcnRpYWxKU09OLCBNYWxmb3JtZWRKU09OIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJTVFIiLCJOVU0iLCJBUlIiLCJPQkoiLCJOVUxMIiwiQk9PTCIsIk5BTiIsIklORklOSVRZIiwiTUlOVVNfSU5GSU5JVFkiLCJJTkYiLCJTUEVDSUFMIiwiQVRPTSIsIkNPTExFQ1RJT04iLCJBTEwiLCJBbGxvdyIsIlBhcnRpYWxKU09OIiwiRXJyb3IiLCJNYWxmb3JtZWRKU09OIiwicGFyc2VKU09OIiwianNvblN0cmluZyIsImFsbG93UGFydGlhbCIsIlR5cGVFcnJvciIsInRyaW0iLCJfcGFyc2VKU09OIiwiYWxsb3ciLCJsZW5ndGgiLCJpbmRleCIsIm1hcmtQYXJ0aWFsSlNPTiIsIm1zZyIsInRocm93TWFsZm9ybWVkRXJyb3IiLCJwYXJzZUFueSIsInNraXBCbGFuayIsInBhcnNlU3RyIiwicGFyc2VPYmoiLCJwYXJzZUFyciIsInN1YnN0cmluZyIsInN0YXJ0c1dpdGgiLCJJbmZpbml0eSIsIk5hTiIsInBhcnNlTnVtIiwic3RhcnQiLCJlc2NhcGUiLCJjaGFyQXQiLCJKU09OIiwicGFyc2UiLCJOdW1iZXIiLCJlIiwiU3RyaW5nIiwibGFzdEluZGV4T2YiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiYXJyIiwicHVzaCIsImluY2x1ZGVzIiwicGFydGlhbFBhcnNlIiwiaW5wdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_vendor/partial-json-parser/parser.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIClient: () => (/* binding */ APIClient),\n/* harmony export */   APIPromise: () => (/* binding */ APIPromise),\n/* harmony export */   AbstractPage: () => (/* binding */ AbstractPage),\n/* harmony export */   PagePromise: () => (/* binding */ PagePromise),\n/* harmony export */   castToError: () => (/* binding */ castToError),\n/* harmony export */   coerceBoolean: () => (/* binding */ coerceBoolean),\n/* harmony export */   coerceFloat: () => (/* binding */ coerceFloat),\n/* harmony export */   coerceInteger: () => (/* binding */ coerceInteger),\n/* harmony export */   createForm: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.createForm),\n/* harmony export */   createResponseHeaders: () => (/* binding */ createResponseHeaders),\n/* harmony export */   debug: () => (/* binding */ debug),\n/* harmony export */   ensurePresent: () => (/* binding */ ensurePresent),\n/* harmony export */   getHeader: () => (/* binding */ getHeader),\n/* harmony export */   getRequiredHeader: () => (/* binding */ getRequiredHeader),\n/* harmony export */   hasOwn: () => (/* binding */ hasOwn),\n/* harmony export */   isEmptyObj: () => (/* binding */ isEmptyObj),\n/* harmony export */   isHeadersProtocol: () => (/* binding */ isHeadersProtocol),\n/* harmony export */   isObj: () => (/* binding */ isObj),\n/* harmony export */   isRequestOptions: () => (/* binding */ isRequestOptions),\n/* harmony export */   isRunningInBrowser: () => (/* binding */ isRunningInBrowser),\n/* harmony export */   maybeCoerceBoolean: () => (/* binding */ maybeCoerceBoolean),\n/* harmony export */   maybeCoerceFloat: () => (/* binding */ maybeCoerceFloat),\n/* harmony export */   maybeCoerceInteger: () => (/* binding */ maybeCoerceInteger),\n/* harmony export */   maybeMultipartFormRequestOptions: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.maybeMultipartFormRequestOptions),\n/* harmony export */   multipartFormRequestOptions: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions),\n/* harmony export */   readEnv: () => (/* binding */ readEnv),\n/* harmony export */   safeJSON: () => (/* binding */ safeJSON),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   toBase64: () => (/* binding */ toBase64),\n/* harmony export */   toFloat32Array: () => (/* binding */ toFloat32Array)\n/* harmony export */ });\n/* harmony import */ var _version_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./version.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/version.mjs\");\n/* harmony import */ var _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./streaming.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\n\n\n\n\n// try running side effects outside of _shims/index to workaround https://github.com/vercel/next.js/issues/76881\n(0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.init)();\n\n\nasync function defaultParseResponse(props) {\n    const { response } = props;\n    if (props.options.stream) {\n        debug(\"response\", response.status, response.url, response.headers, response.body);\n        // Note: there is an invariant here that isn't represented in the type system\n        // that if you set `stream: true` the response type must also be `Stream<T>`\n        if (props.options.__streamClass) {\n            return props.options.__streamClass.fromSSEResponse(response, props.controller);\n        }\n        return _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__.Stream.fromSSEResponse(response, props.controller);\n    }\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n        return null;\n    }\n    if (props.options.__binaryResponse) {\n        return response;\n    }\n    const contentType = response.headers.get(\"content-type\");\n    const mediaType = contentType?.split(\";\")[0]?.trim();\n    const isJSON = mediaType?.includes(\"application/json\") || mediaType?.endsWith(\"+json\");\n    if (isJSON) {\n        const json = await response.json();\n        debug(\"response\", response.status, response.url, response.headers, json);\n        return _addRequestID(json, response);\n    }\n    const text = await response.text();\n    debug(\"response\", response.status, response.url, response.headers, text);\n    // TODO handle blob, arraybuffer, other content types, etc.\n    return text;\n}\nfunction _addRequestID(value, response) {\n    if (!value || typeof value !== \"object\" || Array.isArray(value)) {\n        return value;\n    }\n    return Object.defineProperty(value, \"_request_id\", {\n        value: response.headers.get(\"x-request-id\"),\n        enumerable: false\n    });\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */ class APIPromise extends Promise {\n    constructor(responsePromise, parseResponse = defaultParseResponse){\n        super((resolve)=>{\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(this.responsePromise, async (props)=>_addRequestID(transform(await this.parseResponse(props), props), props.response));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     *  Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import  from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */ asResponse() {\n        return this.responsePromise.then((p)=>p.response);\n    }\n    /**\n     * Gets the parsed response data, the raw `Response` instance and the ID of the request,\n     * returned via the X-Request-ID header which is useful for debugging requests and reporting\n     * issues to OpenAI.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     *\n     *  Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import  from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */ async withResponse() {\n        const [data, response] = await Promise.all([\n            this.parse(),\n            this.asResponse()\n        ]);\n        return {\n            data,\n            response,\n            request_id: response.headers.get(\"x-request-id\")\n        };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then(this.parseResponse);\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nclass APIClient {\n    constructor({ baseURL, maxRetries = 2, timeout = 600000, httpAgent, fetch: overriddenFetch }){\n        this.baseURL = baseURL;\n        this.maxRetries = validatePositiveInteger(\"maxRetries\", maxRetries);\n        this.timeout = validatePositiveInteger(\"timeout\", timeout);\n        this.httpAgent = httpAgent;\n        this.fetch = overriddenFetch ?? _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.fetch;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */ defaultHeaders(opts) {\n        return {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"User-Agent\": this.getUserAgent(),\n            ...getPlatformHeaders(),\n            ...this.authHeaders(opts)\n        };\n    }\n    /**\n     * Override this to add your own headers validation:\n     */ validateHeaders(headers, customHeaders) {}\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${uuid4()}`;\n    }\n    get(path, opts) {\n        return this.methodRequest(\"get\", path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest(\"post\", path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest(\"patch\", path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest(\"put\", path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest(\"delete\", path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then(async (opts)=>{\n            const body = opts && (0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isBlobLike)(opts?.body) ? new DataView(await opts.body.arrayBuffer()) : opts?.body instanceof DataView ? opts.body : opts?.body instanceof ArrayBuffer ? new DataView(opts.body) : opts && ArrayBuffer.isView(opts?.body) ? new DataView(opts.body.buffer) : opts?.body;\n            return {\n                method,\n                path,\n                ...opts,\n                body\n            };\n        }));\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, {\n            method: \"get\",\n            path,\n            ...opts\n        });\n    }\n    calculateContentLength(body) {\n        if (typeof body === \"string\") {\n            if (typeof Buffer !== \"undefined\") {\n                return Buffer.byteLength(body, \"utf8\").toString();\n            }\n            if (typeof TextEncoder !== \"undefined\") {\n                const encoder = new TextEncoder();\n                const encoded = encoder.encode(body);\n                return encoded.length.toString();\n            }\n        } else if (ArrayBuffer.isView(body)) {\n            return body.byteLength.toString();\n        }\n        return null;\n    }\n    buildRequest(inputOptions, { retryCount = 0 } = {}) {\n        const options = {\n            ...inputOptions\n        };\n        const { method, path, query, headers: headers = {} } = options;\n        const body = ArrayBuffer.isView(options.body) || options.__binaryRequest && typeof options.body === \"string\" ? options.body : (0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isMultipartBody)(options.body) ? options.body.body : options.body ? JSON.stringify(options.body, null, 2) : null;\n        const contentLength = this.calculateContentLength(body);\n        const url = this.buildURL(path, query);\n        if (\"timeout\" in options) validatePositiveInteger(\"timeout\", options.timeout);\n        options.timeout = options.timeout ?? this.timeout;\n        const httpAgent = options.httpAgent ?? this.httpAgent ?? (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getDefaultAgent)(url);\n        const minAgentTimeout = options.timeout + 1000;\n        if (typeof httpAgent?.options?.timeout === \"number\" && minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n            // Allow any given request to bump our agent active socket timeout.\n            // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n            // and without mutating agent we would need to create more of them.\n            // This tradeoff optimizes for performance.\n            httpAgent.options.timeout = minAgentTimeout;\n        }\n        if (this.idempotencyHeader && method !== \"get\") {\n            if (!inputOptions.idempotencyKey) inputOptions.idempotencyKey = this.defaultIdempotencyKey();\n            headers[this.idempotencyHeader] = inputOptions.idempotencyKey;\n        }\n        const reqHeaders = this.buildHeaders({\n            options,\n            headers,\n            contentLength,\n            retryCount\n        });\n        const req = {\n            method,\n            ...body && {\n                body: body\n            },\n            headers: reqHeaders,\n            ...httpAgent && {\n                agent: httpAgent\n            },\n            // @ts-ignore node-fetch uses a custom AbortSignal type that is\n            // not compatible with standard web types\n            signal: options.signal ?? null\n        };\n        return {\n            req,\n            url,\n            timeout: options.timeout\n        };\n    }\n    buildHeaders({ options, headers, contentLength, retryCount }) {\n        const reqHeaders = {};\n        if (contentLength) {\n            reqHeaders[\"content-length\"] = contentLength;\n        }\n        const defaultHeaders = this.defaultHeaders(options);\n        applyHeadersMut(reqHeaders, defaultHeaders);\n        applyHeadersMut(reqHeaders, headers);\n        // let builtin fetch set the Content-Type for multipart bodies\n        if ((0,_uploads_mjs__WEBPACK_IMPORTED_MODULE_1__.isMultipartBody)(options.body) && _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.kind !== \"node\") {\n            delete reqHeaders[\"content-type\"];\n        }\n        // Don't set theses headers if they were already set or removed through default headers or by the caller.\n        // We check `defaultHeaders` and `headers`, which can contain nulls, instead of `reqHeaders` to account\n        // for the removal case.\n        if (getHeader(defaultHeaders, \"x-stainless-retry-count\") === undefined && getHeader(headers, \"x-stainless-retry-count\") === undefined) {\n            reqHeaders[\"x-stainless-retry-count\"] = String(retryCount);\n        }\n        if (getHeader(defaultHeaders, \"x-stainless-timeout\") === undefined && getHeader(headers, \"x-stainless-timeout\") === undefined && options.timeout) {\n            reqHeaders[\"x-stainless-timeout\"] = String(Math.trunc(options.timeout / 1000));\n        }\n        this.validateHeaders(reqHeaders, headers);\n        return reqHeaders;\n    }\n    /**\n     * Used as a callback for mutating the given `FinalRequestOptions` object.\n     */ async prepareOptions(options) {}\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */ async prepareRequest(request, { url, options }) {}\n    parseHeaders(headers) {\n        return !headers ? {} : Symbol.iterator in headers ? Object.fromEntries(Array.from(headers).map((header)=>[\n                ...header\n            ])) : {\n            ...headers\n        };\n    }\n    makeStatusError(status, error, message, headers) {\n        return _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIError.generate(status, error, message, headers);\n    }\n    request(options, remainingRetries = null) {\n        return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n    async makeRequest(optionsInput, retriesRemaining) {\n        const options = await optionsInput;\n        const maxRetries = options.maxRetries ?? this.maxRetries;\n        if (retriesRemaining == null) {\n            retriesRemaining = maxRetries;\n        }\n        await this.prepareOptions(options);\n        const { req, url, timeout } = this.buildRequest(options, {\n            retryCount: maxRetries - retriesRemaining\n        });\n        await this.prepareRequest(req, {\n            url,\n            options\n        });\n        debug(\"request\", url, options, req.headers);\n        if (options.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n        if (response instanceof Error) {\n            if (options.signal?.aborted) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIUserAbortError();\n            }\n            if (retriesRemaining) {\n                return this.retryRequest(options, retriesRemaining);\n            }\n            if (response.name === \"AbortError\") {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionTimeoutError();\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionError({\n                cause: response\n            });\n        }\n        const responseHeaders = createResponseHeaders(response.headers);\n        if (!response.ok) {\n            if (retriesRemaining && this.shouldRetry(response)) {\n                const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n                debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders);\n                return this.retryRequest(options, retriesRemaining, responseHeaders);\n            }\n            const errText = await response.text().catch((e)=>castToError(e).message);\n            const errJSON = safeJSON(errText);\n            const errMessage = errJSON ? undefined : errText;\n            const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;\n            debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);\n            const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n            throw err;\n        }\n        return {\n            response,\n            options,\n            controller\n        };\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null);\n        return new PagePromise(this, request, Page);\n    }\n    buildURL(path, query) {\n        const url = isAbsoluteURL(path) ? new URL(path) : new URL(this.baseURL + (this.baseURL.endsWith(\"/\") && path.startsWith(\"/\") ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!isEmptyObj(defaultQuery)) {\n            query = {\n                ...defaultQuery,\n                ...query\n            };\n        }\n        if (typeof query === \"object\" && query && !Array.isArray(query)) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    stringifyQuery(query) {\n        return Object.entries(query).filter(([_, value])=>typeof value !== \"undefined\").map(([key, value])=>{\n            if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n                return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n            }\n            if (value === null) {\n                return `${encodeURIComponent(key)}=`;\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n        }).join(\"&\");\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, ...options } = init || {};\n        if (signal) signal.addEventListener(\"abort\", ()=>controller.abort());\n        const timeout = setTimeout(()=>controller.abort(), ms);\n        const fetchOptions = {\n            signal: controller.signal,\n            ...options\n        };\n        if (fetchOptions.method) {\n            // Custom methods like 'patch' need to be uppercased\n            // See https://github.com/nodejs/undici/issues/2294\n            fetchOptions.method = fetchOptions.method.toUpperCase();\n        }\n        return(// use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n        this.fetch.call(undefined, url, fetchOptions).finally(()=>{\n            clearTimeout(timeout);\n        }));\n    }\n    shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get(\"x-should-retry\");\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === \"true\") return true;\n        if (shouldRetryHeader === \"false\") return false;\n        // Retry on request timeouts.\n        if (response.status === 408) return true;\n        // Retry on lock timeouts.\n        if (response.status === 409) return true;\n        // Retry on rate limits.\n        if (response.status === 429) return true;\n        // Retry internal errors.\n        if (response.status >= 500) return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, responseHeaders) {\n        let timeoutMillis;\n        // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n        const retryAfterMillisHeader = responseHeaders?.[\"retry-after-ms\"];\n        if (retryAfterMillisHeader) {\n            const timeoutMs = parseFloat(retryAfterMillisHeader);\n            if (!Number.isNaN(timeoutMs)) {\n                timeoutMillis = timeoutMs;\n            }\n        }\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        const retryAfterHeader = responseHeaders?.[\"retry-after\"];\n        if (retryAfterHeader && !timeoutMillis) {\n            const timeoutSeconds = parseFloat(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            } else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await sleep(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${_version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION}`;\n    }\n}\nclass AbstractPage {\n    constructor(client, response, body, options){\n        _AbstractPage_client.set(this, void 0);\n        __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length) return false;\n        return this.nextPageInfo() != null;\n    }\n    async getNextPage() {\n        const nextInfo = this.nextPageInfo();\n        if (!nextInfo) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(\"No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.\");\n        }\n        const nextOptions = {\n            ...this.options\n        };\n        if (\"params\" in nextInfo && typeof nextOptions.query === \"object\") {\n            nextOptions.query = {\n                ...nextOptions.query,\n                ...nextInfo.params\n            };\n        } else if (\"url\" in nextInfo) {\n            const params = [\n                ...Object.entries(nextOptions.query || {}),\n                ...nextInfo.url.searchParams.entries()\n            ];\n            for (const [key, value] of params){\n                nextInfo.url.searchParams.set(key, value);\n            }\n            nextOptions.query = undefined;\n            nextOptions.path = nextInfo.url.toString();\n        }\n        return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let page = this;\n        yield page;\n        while(page.hasNextPage()){\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()){\n            for (const item of page.getPaginatedItems()){\n                yield item;\n            }\n        }\n    }\n}\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */ class PagePromise extends APIPromise {\n    constructor(client, request, Page){\n        super(request, async (props)=>new Page(client, props.response, await defaultParseResponse(props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */ async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page){\n            yield item;\n        }\n    }\n}\nconst createResponseHeaders = (headers)=>{\n    return new Proxy(Object.fromEntries(// @ts-ignore\n    headers.entries()), {\n        get (target, name) {\n            const key = name.toString();\n            return target[key.toLowerCase()] || target[key];\n        }\n    });\n};\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n    method: true,\n    path: true,\n    query: true,\n    body: true,\n    headers: true,\n    maxRetries: true,\n    stream: true,\n    timeout: true,\n    httpAgent: true,\n    signal: true,\n    idempotencyKey: true,\n    __metadata: true,\n    __binaryRequest: true,\n    __binaryResponse: true,\n    __streamClass: true\n};\nconst isRequestOptions = (obj)=>{\n    return typeof obj === \"object\" && obj !== null && !isEmptyObj(obj) && Object.keys(obj).every((k)=>hasOwn(requestOptionsKeys, k));\n};\nconst getPlatformProperties = ()=>{\n    if (typeof Deno !== \"undefined\" && Deno.build != null) {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": normalizePlatform(Deno.build.os),\n            \"X-Stainless-Arch\": normalizeArch(Deno.build.arch),\n            \"X-Stainless-Runtime\": \"deno\",\n            \"X-Stainless-Runtime-Version\": typeof Deno.version === \"string\" ? Deno.version : Deno.version?.deno ?? \"unknown\"\n        };\n    }\n    if (typeof EdgeRuntime !== \"undefined\") {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": \"Unknown\",\n            \"X-Stainless-Arch\": `other:${EdgeRuntime}`,\n            \"X-Stainless-Runtime\": \"edge\",\n            \"X-Stainless-Runtime-Version\": process.version\n        };\n    }\n    // Check if Node.js\n    if (Object.prototype.toString.call(typeof process !== \"undefined\" ? process : 0) === \"[object process]\") {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": normalizePlatform(process.platform),\n            \"X-Stainless-Arch\": normalizeArch(process.arch),\n            \"X-Stainless-Runtime\": \"node\",\n            \"X-Stainless-Runtime-Version\": process.version\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            \"X-Stainless-Lang\": \"js\",\n            \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n            \"X-Stainless-OS\": \"Unknown\",\n            \"X-Stainless-Arch\": \"unknown\",\n            \"X-Stainless-Runtime\": `browser:${browserInfo.browser}`,\n            \"X-Stainless-Runtime-Version\": browserInfo.version\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        \"X-Stainless-Lang\": \"js\",\n        \"X-Stainless-Package-Version\": _version_mjs__WEBPACK_IMPORTED_MODULE_4__.VERSION,\n        \"X-Stainless-OS\": \"Unknown\",\n        \"X-Stainless-Arch\": \"unknown\",\n        \"X-Stainless-Runtime\": \"unknown\",\n        \"X-Stainless-Runtime-Version\": \"unknown\"\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === \"undefined\" || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        {\n            key: \"edge\",\n            pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"ie\",\n            pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"ie\",\n            pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"chrome\",\n            pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"firefox\",\n            pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/\n        },\n        {\n            key: \"safari\",\n            pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/\n        }\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns){\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return {\n                browser: key,\n                version: `${major}.${minor}.${patch}`\n            };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch)=>{\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === \"x32\") return \"x32\";\n    if (arch === \"x86_64\" || arch === \"x64\") return \"x64\";\n    if (arch === \"arm\") return \"arm\";\n    if (arch === \"aarch64\" || arch === \"arm64\") return \"arm64\";\n    if (arch) return `other:${arch}`;\n    return \"unknown\";\n};\nconst normalizePlatform = (platform)=>{\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes(\"ios\")) return \"iOS\";\n    if (platform === \"android\") return \"Android\";\n    if (platform === \"darwin\") return \"MacOS\";\n    if (platform === \"win32\") return \"Windows\";\n    if (platform === \"freebsd\") return \"FreeBSD\";\n    if (platform === \"openbsd\") return \"OpenBSD\";\n    if (platform === \"linux\") return \"Linux\";\n    if (platform) return `Other:${platform}`;\n    return \"Unknown\";\n};\nlet _platformHeaders;\nconst getPlatformHeaders = ()=>{\n    return _platformHeaders ?? (_platformHeaders = getPlatformProperties());\n};\nconst safeJSON = (text)=>{\n    try {\n        return JSON.parse(text);\n    } catch (err) {\n        return undefined;\n    }\n};\n// https://url.spec.whatwg.org/#url-scheme-string\nconst startsWithSchemeRegexp = /^[a-z][a-z0-9+.-]*:/i;\nconst isAbsoluteURL = (url)=>{\n    return startsWithSchemeRegexp.test(url);\n};\nconst sleep = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst validatePositiveInteger = (name, n)=>{\n    if (typeof n !== \"number\" || !Number.isInteger(n)) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nconst castToError = (err)=>{\n    if (err instanceof Error) return err;\n    if (typeof err === \"object\" && err !== null) {\n        try {\n            return new Error(JSON.stringify(err));\n        } catch  {}\n    }\n    return new Error(err);\n};\nconst ensurePresent = (value)=>{\n    if (value == null) throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    return value;\n};\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */ const readEnv = (env)=>{\n    if (typeof process !== \"undefined\") {\n        return process.env?.[env]?.trim() ?? undefined;\n    }\n    if (typeof Deno !== \"undefined\") {\n        return Deno.env?.get?.(env)?.trim();\n    }\n    return undefined;\n};\nconst coerceInteger = (value)=>{\n    if (typeof value === \"number\") return Math.round(value);\n    if (typeof value === \"string\") return parseInt(value, 10);\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nconst coerceFloat = (value)=>{\n    if (typeof value === \"number\") return value;\n    if (typeof value === \"string\") return parseFloat(value);\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nconst coerceBoolean = (value)=>{\n    if (typeof value === \"boolean\") return value;\n    if (typeof value === \"string\") return value === \"true\";\n    return Boolean(value);\n};\nconst maybeCoerceInteger = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceInteger(value);\n};\nconst maybeCoerceFloat = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceFloat(value);\n};\nconst maybeCoerceBoolean = (value)=>{\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceBoolean(value);\n};\n// https://stackoverflow.com/a/34491287\nfunction isEmptyObj(obj) {\n    if (!obj) return true;\n    for(const _k in obj)return false;\n    return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nfunction hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\n * Copies headers from \"newHeaders\" onto \"targetHeaders\",\n * using lower-case for all properties,\n * ignoring any keys with undefined values,\n * and deleting any keys with null values.\n */ function applyHeadersMut(targetHeaders, newHeaders) {\n    for(const k in newHeaders){\n        if (!hasOwn(newHeaders, k)) continue;\n        const lowerKey = k.toLowerCase();\n        if (!lowerKey) continue;\n        const val = newHeaders[k];\n        if (val === null) {\n            delete targetHeaders[lowerKey];\n        } else if (val !== undefined) {\n            targetHeaders[lowerKey] = val;\n        }\n    }\n}\nconst SENSITIVE_HEADERS = new Set([\n    \"authorization\",\n    \"api-key\"\n]);\nfunction debug(action, ...args) {\n    if (typeof process !== \"undefined\" && process?.env?.[\"DEBUG\"] === \"true\") {\n        const modifiedArgs = args.map((arg)=>{\n            if (!arg) {\n                return arg;\n            }\n            // Check for sensitive headers in request body 'headers' object\n            if (arg[\"headers\"]) {\n                // clone so we don't mutate\n                const modifiedArg = {\n                    ...arg,\n                    headers: {\n                        ...arg[\"headers\"]\n                    }\n                };\n                for(const header in arg[\"headers\"]){\n                    if (SENSITIVE_HEADERS.has(header.toLowerCase())) {\n                        modifiedArg[\"headers\"][header] = \"REDACTED\";\n                    }\n                }\n                return modifiedArg;\n            }\n            let modifiedArg = null;\n            // Check for sensitive headers in headers object\n            for(const header in arg){\n                if (SENSITIVE_HEADERS.has(header.toLowerCase())) {\n                    // avoid making a copy until we need to\n                    modifiedArg ?? (modifiedArg = {\n                        ...arg\n                    });\n                    modifiedArg[header] = \"REDACTED\";\n                }\n            }\n            return modifiedArg ?? arg;\n        });\n        console.log(`OpenAI:DEBUG:${action}`, ...modifiedArgs);\n    }\n}\n/**\n * https://stackoverflow.com/a/2117523\n */ const uuid4 = ()=>{\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0;\n        const v = c === \"x\" ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n};\nconst isRunningInBrowser = ()=>{\n    return(// @ts-ignore\n     false && // @ts-ignore\n    0);\n};\nconst isHeadersProtocol = (headers)=>{\n    return typeof headers?.get === \"function\";\n};\nconst getRequiredHeader = (headers, header)=>{\n    const foundHeader = getHeader(headers, header);\n    if (foundHeader === undefined) {\n        throw new Error(`Could not find ${header} header`);\n    }\n    return foundHeader;\n};\nconst getHeader = (headers, header)=>{\n    const lowerCasedHeader = header.toLowerCase();\n    if (isHeadersProtocol(headers)) {\n        // to deal with the case where the header looks like Stainless-Event-Id\n        const intercapsHeader = header[0]?.toUpperCase() + header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2)=>g1 + g2.toUpperCase());\n        for (const key of [\n            header,\n            lowerCasedHeader,\n            header.toUpperCase(),\n            intercapsHeader\n        ]){\n            const value = headers.get(key);\n            if (value) {\n                return value;\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(headers)){\n        if (key.toLowerCase() === lowerCasedHeader) {\n            if (Array.isArray(value)) {\n                if (value.length <= 1) return value[0];\n                console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n                return value[0];\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\n/**\n * Encodes a string to Base64 format.\n */ const toBase64 = (str)=>{\n    if (!str) return \"\";\n    if (typeof Buffer !== \"undefined\") {\n        return Buffer.from(str).toString(\"base64\");\n    }\n    if (typeof btoa !== \"undefined\") {\n        return btoa(str);\n    }\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenAIError(\"Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined\");\n};\n/**\n * Converts a Base64 encoded string to a Float32Array.\n * @param base64Str - The Base64 encoded string.\n * @returns An Array of numbers interpreted as Float32 values.\n */ const toFloat32Array = (base64Str)=>{\n    if (typeof Buffer !== \"undefined\") {\n        // for Node.js environment\n        const buf = Buffer.from(base64Str, \"base64\");\n        return Array.from(new Float32Array(buf.buffer, buf.byteOffset, buf.length / Float32Array.BYTES_PER_ELEMENT));\n    } else {\n        // for legacy web platform APIs\n        const binaryStr = atob(base64Str);\n        const len = binaryStr.length;\n        const bytes = new Uint8Array(len);\n        for(let i = 0; i < len; i++){\n            bytes[i] = binaryStr.charCodeAt(i);\n        }\n        return Array.from(new Float32Array(bytes.buffer));\n    }\n};\nfunction isObj(obj) {\n    return obj != null && typeof obj === \"object\" && !Array.isArray(obj);\n} //# sourceMappingURL=core.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvY29yZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDUCxVQUFVRSxTQUFTRSxJQUFJQSxFQUFFRixLQUFLLEdBQUdBLFFBQVFELE1BQU1PLEdBQUcsQ0FBQ1IsVUFBVUUsUUFBU0E7QUFDeEc7QUFDQSxJQUFJTyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNQLFlBQVlJLElBQUlBLEVBQUVGLEtBQUssR0FBR0QsTUFBTVMsR0FBRyxDQUFDVjtBQUN4RjtBQUNBLElBQUlXO0FBQ29DO0FBQ0M7QUFDOEU7QUFDakM7QUFDdEYsZ0hBQWdIO0FBQ2hIVyxzREFBSUE7QUFDd0Q7QUFDK0M7QUFDM0csZUFBZU0scUJBQXFCQyxLQUFLO0lBQ3JDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdEO0lBQ3JCLElBQUlBLE1BQU1FLE9BQU8sQ0FBQ0MsTUFBTSxFQUFFO1FBQ3RCQyxNQUFNLFlBQVlILFNBQVNJLE1BQU0sRUFBRUosU0FBU0ssR0FBRyxFQUFFTCxTQUFTTSxPQUFPLEVBQUVOLFNBQVNPLElBQUk7UUFDaEYsNkVBQTZFO1FBQzdFLDRFQUE0RTtRQUM1RSxJQUFJUixNQUFNRSxPQUFPLENBQUNPLGFBQWEsRUFBRTtZQUM3QixPQUFPVCxNQUFNRSxPQUFPLENBQUNPLGFBQWEsQ0FBQ0MsZUFBZSxDQUFDVCxVQUFVRCxNQUFNVyxVQUFVO1FBQ2pGO1FBQ0EsT0FBTzNCLGtEQUFNQSxDQUFDMEIsZUFBZSxDQUFDVCxVQUFVRCxNQUFNVyxVQUFVO0lBQzVEO0lBQ0EsOERBQThEO0lBQzlELElBQUlWLFNBQVNJLE1BQU0sS0FBSyxLQUFLO1FBQ3pCLE9BQU87SUFDWDtJQUNBLElBQUlMLE1BQU1FLE9BQU8sQ0FBQ1UsZ0JBQWdCLEVBQUU7UUFDaEMsT0FBT1g7SUFDWDtJQUNBLE1BQU1ZLGNBQWNaLFNBQVNNLE9BQU8sQ0FBQzFCLEdBQUcsQ0FBQztJQUN6QyxNQUFNaUMsWUFBWUQsYUFBYUUsTUFBTSxJQUFJLENBQUMsRUFBRSxFQUFFQztJQUM5QyxNQUFNQyxTQUFTSCxXQUFXSSxTQUFTLHVCQUF1QkosV0FBV0ssU0FBUztJQUM5RSxJQUFJRixRQUFRO1FBQ1IsTUFBTUcsT0FBTyxNQUFNbkIsU0FBU21CLElBQUk7UUFDaENoQixNQUFNLFlBQVlILFNBQVNJLE1BQU0sRUFBRUosU0FBU0ssR0FBRyxFQUFFTCxTQUFTTSxPQUFPLEVBQUVhO1FBQ25FLE9BQU9DLGNBQWNELE1BQU1uQjtJQUMvQjtJQUNBLE1BQU1xQixPQUFPLE1BQU1yQixTQUFTcUIsSUFBSTtJQUNoQ2xCLE1BQU0sWUFBWUgsU0FBU0ksTUFBTSxFQUFFSixTQUFTSyxHQUFHLEVBQUVMLFNBQVNNLE9BQU8sRUFBRWU7SUFDbkUsMkRBQTJEO0lBQzNELE9BQU9BO0FBQ1g7QUFDQSxTQUFTRCxjQUFjaEQsS0FBSyxFQUFFNEIsUUFBUTtJQUNsQyxJQUFJLENBQUM1QixTQUFTLE9BQU9BLFVBQVUsWUFBWWtELE1BQU1DLE9BQU8sQ0FBQ25ELFFBQVE7UUFDN0QsT0FBT0E7SUFDWDtJQUNBLE9BQU9vRCxPQUFPQyxjQUFjLENBQUNyRCxPQUFPLGVBQWU7UUFDL0NBLE9BQU80QixTQUFTTSxPQUFPLENBQUMxQixHQUFHLENBQUM7UUFDNUI4QyxZQUFZO0lBQ2hCO0FBQ0o7QUFDQTs7O0NBR0MsR0FDTSxNQUFNQyxtQkFBbUJDO0lBQzVCQyxZQUFZQyxlQUFlLEVBQUVDLGdCQUFnQmpDLG9CQUFvQixDQUFFO1FBQy9ELEtBQUssQ0FBQyxDQUFDa0M7WUFDSCx5RUFBeUU7WUFDekUsMEVBQTBFO1lBQzFFLHdCQUF3QjtZQUN4QkEsUUFBUTtRQUNaO1FBQ0EsSUFBSSxDQUFDRixlQUFlLEdBQUdBO1FBQ3ZCLElBQUksQ0FBQ0MsYUFBYSxHQUFHQTtJQUN6QjtJQUNBRSxZQUFZQyxTQUFTLEVBQUU7UUFDbkIsT0FBTyxJQUFJUCxXQUFXLElBQUksQ0FBQ0csZUFBZSxFQUFFLE9BQU8vQixRQUFVcUIsY0FBY2MsVUFBVSxNQUFNLElBQUksQ0FBQ0gsYUFBYSxDQUFDaEMsUUFBUUEsUUFBUUEsTUFBTUMsUUFBUTtJQUNoSjtJQUNBOzs7Ozs7Ozs7Ozs7S0FZQyxHQUNEbUMsYUFBYTtRQUNULE9BQU8sSUFBSSxDQUFDTCxlQUFlLENBQUNNLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFckMsUUFBUTtJQUN0RDtJQUNBOzs7Ozs7Ozs7Ozs7OztLQWNDLEdBQ0QsTUFBTXNDLGVBQWU7UUFDakIsTUFBTSxDQUFDQyxNQUFNdkMsU0FBUyxHQUFHLE1BQU00QixRQUFRWSxHQUFHLENBQUM7WUFBQyxJQUFJLENBQUNDLEtBQUs7WUFBSSxJQUFJLENBQUNOLFVBQVU7U0FBRztRQUM1RSxPQUFPO1lBQUVJO1lBQU12QztZQUFVMEMsWUFBWTFDLFNBQVNNLE9BQU8sQ0FBQzFCLEdBQUcsQ0FBQztRQUFnQjtJQUM5RTtJQUNBNkQsUUFBUTtRQUNKLElBQUksQ0FBQyxJQUFJLENBQUNFLGFBQWEsRUFBRTtZQUNyQixJQUFJLENBQUNBLGFBQWEsR0FBRyxJQUFJLENBQUNiLGVBQWUsQ0FBQ00sSUFBSSxDQUFDLElBQUksQ0FBQ0wsYUFBYTtRQUNyRTtRQUNBLE9BQU8sSUFBSSxDQUFDWSxhQUFhO0lBQzdCO0lBQ0FQLEtBQUtRLFdBQVcsRUFBRUMsVUFBVSxFQUFFO1FBQzFCLE9BQU8sSUFBSSxDQUFDSixLQUFLLEdBQUdMLElBQUksQ0FBQ1EsYUFBYUM7SUFDMUM7SUFDQUMsTUFBTUQsVUFBVSxFQUFFO1FBQ2QsT0FBTyxJQUFJLENBQUNKLEtBQUssR0FBR0ssS0FBSyxDQUFDRDtJQUM5QjtJQUNBRSxRQUFRQyxTQUFTLEVBQUU7UUFDZixPQUFPLElBQUksQ0FBQ1AsS0FBSyxHQUFHTSxPQUFPLENBQUNDO0lBQ2hDO0FBQ0o7QUFDTyxNQUFNQztJQUNUcEIsWUFBWSxFQUFFcUIsT0FBTyxFQUFFQyxhQUFhLENBQUMsRUFBRUMsVUFBVSxNQUFNLEVBQ3ZEQyxTQUFTLEVBQUU5RCxPQUFPK0QsZUFBZSxFQUFHLENBQUU7UUFDbEMsSUFBSSxDQUFDSixPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDQyxVQUFVLEdBQUdJLHdCQUF3QixjQUFjSjtRQUN4RCxJQUFJLENBQUNDLE9BQU8sR0FBR0csd0JBQXdCLFdBQVdIO1FBQ2xELElBQUksQ0FBQ0MsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUM5RCxLQUFLLEdBQUcrRCxtQkFBbUIvRCxtREFBS0E7SUFDekM7SUFDQWlFLFlBQVlDLElBQUksRUFBRTtRQUNkLE9BQU8sQ0FBQztJQUNaO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNEQyxlQUFlRCxJQUFJLEVBQUU7UUFDakIsT0FBTztZQUNIRSxRQUFRO1lBQ1IsZ0JBQWdCO1lBQ2hCLGNBQWMsSUFBSSxDQUFDQyxZQUFZO1lBQy9CLEdBQUdDLG9CQUFvQjtZQUN2QixHQUFHLElBQUksQ0FBQ0wsV0FBVyxDQUFDQyxLQUFLO1FBQzdCO0lBQ0o7SUFDQTs7S0FFQyxHQUNESyxnQkFBZ0J4RCxPQUFPLEVBQUV5RCxhQUFhLEVBQUUsQ0FBRTtJQUMxQ0Msd0JBQXdCO1FBQ3BCLE9BQU8sQ0FBQyxxQkFBcUIsRUFBRUMsUUFBUSxDQUFDO0lBQzVDO0lBQ0FyRixJQUFJc0YsSUFBSSxFQUFFVCxJQUFJLEVBQUU7UUFDWixPQUFPLElBQUksQ0FBQ1UsYUFBYSxDQUFDLE9BQU9ELE1BQU1UO0lBQzNDO0lBQ0FXLEtBQUtGLElBQUksRUFBRVQsSUFBSSxFQUFFO1FBQ2IsT0FBTyxJQUFJLENBQUNVLGFBQWEsQ0FBQyxRQUFRRCxNQUFNVDtJQUM1QztJQUNBWSxNQUFNSCxJQUFJLEVBQUVULElBQUksRUFBRTtRQUNkLE9BQU8sSUFBSSxDQUFDVSxhQUFhLENBQUMsU0FBU0QsTUFBTVQ7SUFDN0M7SUFDQWEsSUFBSUosSUFBSSxFQUFFVCxJQUFJLEVBQUU7UUFDWixPQUFPLElBQUksQ0FBQ1UsYUFBYSxDQUFDLE9BQU9ELE1BQU1UO0lBQzNDO0lBQ0FjLE9BQU9MLElBQUksRUFBRVQsSUFBSSxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUNVLGFBQWEsQ0FBQyxVQUFVRCxNQUFNVDtJQUM5QztJQUNBVSxjQUFjSyxNQUFNLEVBQUVOLElBQUksRUFBRVQsSUFBSSxFQUFFO1FBQzlCLE9BQU8sSUFBSSxDQUFDZ0IsT0FBTyxDQUFDN0MsUUFBUUksT0FBTyxDQUFDeUIsTUFBTXJCLElBQUksQ0FBQyxPQUFPcUI7WUFDbEQsTUFBTWxELE9BQU9rRCxRQUFRaEUsd0RBQVVBLENBQUNnRSxNQUFNbEQsUUFBUSxJQUFJbUUsU0FBUyxNQUFNakIsS0FBS2xELElBQUksQ0FBQ29FLFdBQVcsTUFDaEZsQixNQUFNbEQsZ0JBQWdCbUUsV0FBV2pCLEtBQUtsRCxJQUFJLEdBQ3RDa0QsTUFBTWxELGdCQUFnQnFFLGNBQWMsSUFBSUYsU0FBU2pCLEtBQUtsRCxJQUFJLElBQ3REa0QsUUFBUW1CLFlBQVlDLE1BQU0sQ0FBQ3BCLE1BQU1sRCxRQUFRLElBQUltRSxTQUFTakIsS0FBS2xELElBQUksQ0FBQ3VFLE1BQU0sSUFDbEVyQixNQUFNbEQ7WUFDeEIsT0FBTztnQkFBRWlFO2dCQUFRTjtnQkFBTSxHQUFHVCxJQUFJO2dCQUFFbEQ7WUFBSztRQUN6QztJQUNKO0lBQ0F3RSxXQUFXYixJQUFJLEVBQUVjLElBQUksRUFBRXZCLElBQUksRUFBRTtRQUN6QixPQUFPLElBQUksQ0FBQ3dCLGNBQWMsQ0FBQ0QsTUFBTTtZQUFFUixRQUFRO1lBQU9OO1lBQU0sR0FBR1QsSUFBSTtRQUFDO0lBQ3BFO0lBQ0F5Qix1QkFBdUIzRSxJQUFJLEVBQUU7UUFDekIsSUFBSSxPQUFPQSxTQUFTLFVBQVU7WUFDMUIsSUFBSSxPQUFPNEUsV0FBVyxhQUFhO2dCQUMvQixPQUFPQSxPQUFPQyxVQUFVLENBQUM3RSxNQUFNLFFBQVE4RSxRQUFRO1lBQ25EO1lBQ0EsSUFBSSxPQUFPQyxnQkFBZ0IsYUFBYTtnQkFDcEMsTUFBTUMsVUFBVSxJQUFJRDtnQkFDcEIsTUFBTUUsVUFBVUQsUUFBUUUsTUFBTSxDQUFDbEY7Z0JBQy9CLE9BQU9pRixRQUFRRSxNQUFNLENBQUNMLFFBQVE7WUFDbEM7UUFDSixPQUNLLElBQUlULFlBQVlDLE1BQU0sQ0FBQ3RFLE9BQU87WUFDL0IsT0FBT0EsS0FBSzZFLFVBQVUsQ0FBQ0MsUUFBUTtRQUNuQztRQUNBLE9BQU87SUFDWDtJQUNBTSxhQUFhQyxZQUFZLEVBQUUsRUFBRUMsYUFBYSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUNoRCxNQUFNNUYsVUFBVTtZQUFFLEdBQUcyRixZQUFZO1FBQUM7UUFDbEMsTUFBTSxFQUFFcEIsTUFBTSxFQUFFTixJQUFJLEVBQUU0QixLQUFLLEVBQUV4RixTQUFTQSxVQUFVLENBQUMsQ0FBQyxFQUFFLEdBQUdMO1FBQ3ZELE1BQU1NLE9BQU9xRSxZQUFZQyxNQUFNLENBQUM1RSxRQUFRTSxJQUFJLEtBQU1OLFFBQVE4RixlQUFlLElBQUksT0FBTzlGLFFBQVFNLElBQUksS0FBSyxXQUNqR04sUUFBUU0sSUFBSSxHQUNWYiw2REFBZUEsQ0FBQ08sUUFBUU0sSUFBSSxJQUFJTixRQUFRTSxJQUFJLENBQUNBLElBQUksR0FDN0NOLFFBQVFNLElBQUksR0FBR3lGLEtBQUtDLFNBQVMsQ0FBQ2hHLFFBQVFNLElBQUksRUFBRSxNQUFNLEtBQzlDO1FBQ2QsTUFBTTJGLGdCQUFnQixJQUFJLENBQUNoQixzQkFBc0IsQ0FBQzNFO1FBQ2xELE1BQU1GLE1BQU0sSUFBSSxDQUFDOEYsUUFBUSxDQUFDakMsTUFBTTRCO1FBQ2hDLElBQUksYUFBYTdGLFNBQ2JzRCx3QkFBd0IsV0FBV3RELFFBQVFtRCxPQUFPO1FBQ3REbkQsUUFBUW1ELE9BQU8sR0FBR25ELFFBQVFtRCxPQUFPLElBQUksSUFBSSxDQUFDQSxPQUFPO1FBQ2pELE1BQU1DLFlBQVlwRCxRQUFRb0QsU0FBUyxJQUFJLElBQUksQ0FBQ0EsU0FBUyxJQUFJL0QsaUVBQWVBLENBQUNlO1FBQ3pFLE1BQU0rRixrQkFBa0JuRyxRQUFRbUQsT0FBTyxHQUFHO1FBQzFDLElBQUksT0FBT0MsV0FBV3BELFNBQVNtRCxZQUFZLFlBQ3ZDZ0Qsa0JBQW1CL0MsQ0FBQUEsVUFBVXBELE9BQU8sQ0FBQ21ELE9BQU8sSUFBSSxJQUFJO1lBQ3BELG1FQUFtRTtZQUNuRSxxR0FBcUc7WUFDckcsbUVBQW1FO1lBQ25FLDJDQUEyQztZQUMzQ0MsVUFBVXBELE9BQU8sQ0FBQ21ELE9BQU8sR0FBR2dEO1FBQ2hDO1FBQ0EsSUFBSSxJQUFJLENBQUNDLGlCQUFpQixJQUFJN0IsV0FBVyxPQUFPO1lBQzVDLElBQUksQ0FBQ29CLGFBQWFVLGNBQWMsRUFDNUJWLGFBQWFVLGNBQWMsR0FBRyxJQUFJLENBQUN0QyxxQkFBcUI7WUFDNUQxRCxPQUFPLENBQUMsSUFBSSxDQUFDK0YsaUJBQWlCLENBQUMsR0FBR1QsYUFBYVUsY0FBYztRQUNqRTtRQUNBLE1BQU1DLGFBQWEsSUFBSSxDQUFDQyxZQUFZLENBQUM7WUFBRXZHO1lBQVNLO1lBQVM0RjtZQUFlTDtRQUFXO1FBQ25GLE1BQU1ZLE1BQU07WUFDUmpDO1lBQ0EsR0FBSWpFLFFBQVE7Z0JBQUVBLE1BQU1BO1lBQUssQ0FBQztZQUMxQkQsU0FBU2lHO1lBQ1QsR0FBSWxELGFBQWE7Z0JBQUVxRCxPQUFPckQ7WUFBVSxDQUFDO1lBQ3JDLCtEQUErRDtZQUMvRCx5Q0FBeUM7WUFDekNzRCxRQUFRMUcsUUFBUTBHLE1BQU0sSUFBSTtRQUM5QjtRQUNBLE9BQU87WUFBRUY7WUFBS3BHO1lBQUsrQyxTQUFTbkQsUUFBUW1ELE9BQU87UUFBQztJQUNoRDtJQUNBb0QsYUFBYSxFQUFFdkcsT0FBTyxFQUFFSyxPQUFPLEVBQUU0RixhQUFhLEVBQUVMLFVBQVUsRUFBRyxFQUFFO1FBQzNELE1BQU1VLGFBQWEsQ0FBQztRQUNwQixJQUFJTCxlQUFlO1lBQ2ZLLFVBQVUsQ0FBQyxpQkFBaUIsR0FBR0w7UUFDbkM7UUFDQSxNQUFNeEMsaUJBQWlCLElBQUksQ0FBQ0EsY0FBYyxDQUFDekQ7UUFDM0MyRyxnQkFBZ0JMLFlBQVk3QztRQUM1QmtELGdCQUFnQkwsWUFBWWpHO1FBQzVCLDhEQUE4RDtRQUM5RCxJQUFJWiw2REFBZUEsQ0FBQ08sUUFBUU0sSUFBSSxLQUFLbEIsa0RBQVNBLEtBQUssUUFBUTtZQUN2RCxPQUFPa0gsVUFBVSxDQUFDLGVBQWU7UUFDckM7UUFDQSx5R0FBeUc7UUFDekcsdUdBQXVHO1FBQ3ZHLHdCQUF3QjtRQUN4QixJQUFJTSxVQUFVbkQsZ0JBQWdCLCtCQUErQm9ELGFBQ3pERCxVQUFVdkcsU0FBUywrQkFBK0J3RyxXQUFXO1lBQzdEUCxVQUFVLENBQUMsMEJBQTBCLEdBQUdRLE9BQU9sQjtRQUNuRDtRQUNBLElBQUlnQixVQUFVbkQsZ0JBQWdCLDJCQUEyQm9ELGFBQ3JERCxVQUFVdkcsU0FBUywyQkFBMkJ3RyxhQUM5QzdHLFFBQVFtRCxPQUFPLEVBQUU7WUFDakJtRCxVQUFVLENBQUMsc0JBQXNCLEdBQUdRLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ2hILFFBQVFtRCxPQUFPLEdBQUc7UUFDNUU7UUFDQSxJQUFJLENBQUNVLGVBQWUsQ0FBQ3lDLFlBQVlqRztRQUNqQyxPQUFPaUc7SUFDWDtJQUNBOztLQUVDLEdBQ0QsTUFBTVcsZUFBZWpILE9BQU8sRUFBRSxDQUFFO0lBQ2hDOzs7OztLQUtDLEdBQ0QsTUFBTWtILGVBQWUxQyxPQUFPLEVBQUUsRUFBRXBFLEdBQUcsRUFBRUosT0FBTyxFQUFFLEVBQUUsQ0FBRTtJQUNsRG1ILGFBQWE5RyxPQUFPLEVBQUU7UUFDbEIsT0FBUSxDQUFDQSxVQUFVLENBQUMsSUFDZCtHLE9BQU9DLFFBQVEsSUFBSWhILFVBQ2pCa0IsT0FBTytGLFdBQVcsQ0FBQ2pHLE1BQU1rRyxJQUFJLENBQUNsSCxTQUFTbUgsR0FBRyxDQUFDLENBQUNDLFNBQVc7bUJBQUlBO2FBQU8sS0FDaEU7WUFBRSxHQUFHcEgsT0FBTztRQUFDO0lBQzNCO0lBQ0FxSCxnQkFBZ0J2SCxNQUFNLEVBQUV3SCxLQUFLLEVBQUVDLE9BQU8sRUFBRXZILE9BQU8sRUFBRTtRQUM3QyxPQUFPckIsZ0RBQVFBLENBQUM2SSxRQUFRLENBQUMxSCxRQUFRd0gsT0FBT0MsU0FBU3ZIO0lBQ3JEO0lBQ0FtRSxRQUFReEUsT0FBTyxFQUFFOEgsbUJBQW1CLElBQUksRUFBRTtRQUN0QyxPQUFPLElBQUlwRyxXQUFXLElBQUksQ0FBQ3FHLFdBQVcsQ0FBQy9ILFNBQVM4SDtJQUNwRDtJQUNBLE1BQU1DLFlBQVlDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUU7UUFDOUMsTUFBTWpJLFVBQVUsTUFBTWdJO1FBQ3RCLE1BQU05RSxhQUFhbEQsUUFBUWtELFVBQVUsSUFBSSxJQUFJLENBQUNBLFVBQVU7UUFDeEQsSUFBSStFLG9CQUFvQixNQUFNO1lBQzFCQSxtQkFBbUIvRTtRQUN2QjtRQUNBLE1BQU0sSUFBSSxDQUFDK0QsY0FBYyxDQUFDakg7UUFDMUIsTUFBTSxFQUFFd0csR0FBRyxFQUFFcEcsR0FBRyxFQUFFK0MsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDdUMsWUFBWSxDQUFDMUYsU0FBUztZQUFFNEYsWUFBWTFDLGFBQWErRTtRQUFpQjtRQUNyRyxNQUFNLElBQUksQ0FBQ2YsY0FBYyxDQUFDVixLQUFLO1lBQUVwRztZQUFLSjtRQUFRO1FBQzlDRSxNQUFNLFdBQVdFLEtBQUtKLFNBQVN3RyxJQUFJbkcsT0FBTztRQUMxQyxJQUFJTCxRQUFRMEcsTUFBTSxFQUFFd0IsU0FBUztZQUN6QixNQUFNLElBQUkvSSx5REFBaUJBO1FBQy9CO1FBQ0EsTUFBTXNCLGFBQWEsSUFBSTBIO1FBQ3ZCLE1BQU1wSSxXQUFXLE1BQU0sSUFBSSxDQUFDcUksZ0JBQWdCLENBQUNoSSxLQUFLb0csS0FBS3JELFNBQVMxQyxZQUFZb0MsS0FBSyxDQUFDd0Y7UUFDbEYsSUFBSXRJLG9CQUFvQnVJLE9BQU87WUFDM0IsSUFBSXRJLFFBQVEwRyxNQUFNLEVBQUV3QixTQUFTO2dCQUN6QixNQUFNLElBQUkvSSx5REFBaUJBO1lBQy9CO1lBQ0EsSUFBSThJLGtCQUFrQjtnQkFDbEIsT0FBTyxJQUFJLENBQUNNLFlBQVksQ0FBQ3ZJLFNBQVNpSTtZQUN0QztZQUNBLElBQUlsSSxTQUFTeUksSUFBSSxLQUFLLGNBQWM7Z0JBQ2hDLE1BQU0sSUFBSXRKLGlFQUF5QkE7WUFDdkM7WUFDQSxNQUFNLElBQUlELDBEQUFrQkEsQ0FBQztnQkFBRXdKLE9BQU8xSTtZQUFTO1FBQ25EO1FBQ0EsTUFBTTJJLGtCQUFrQkMsc0JBQXNCNUksU0FBU00sT0FBTztRQUM5RCxJQUFJLENBQUNOLFNBQVM2SSxFQUFFLEVBQUU7WUFDZCxJQUFJWCxvQkFBb0IsSUFBSSxDQUFDWSxXQUFXLENBQUM5SSxXQUFXO2dCQUNoRCxNQUFNK0ksZUFBZSxDQUFDLFVBQVUsRUFBRWIsaUJBQWlCLG1CQUFtQixDQUFDO2dCQUN2RS9ILE1BQU0sQ0FBQyxpQkFBaUIsRUFBRTRJLGFBQWEsQ0FBQyxDQUFDLEVBQUUvSSxTQUFTSSxNQUFNLEVBQUVDLEtBQUtzSTtnQkFDakUsT0FBTyxJQUFJLENBQUNILFlBQVksQ0FBQ3ZJLFNBQVNpSSxrQkFBa0JTO1lBQ3hEO1lBQ0EsTUFBTUssVUFBVSxNQUFNaEosU0FBU3FCLElBQUksR0FBR3lCLEtBQUssQ0FBQyxDQUFDbUcsSUFBTVgsWUFBWVcsR0FBR3BCLE9BQU87WUFDekUsTUFBTXFCLFVBQVVDLFNBQVNIO1lBQ3pCLE1BQU1JLGFBQWFGLFVBQVVwQyxZQUFZa0M7WUFDekMsTUFBTUQsZUFBZWIsbUJBQW1CLENBQUMsNkJBQTZCLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDO1lBQ2xHL0gsTUFBTSxDQUFDLGlCQUFpQixFQUFFNEksYUFBYSxDQUFDLENBQUMsRUFBRS9JLFNBQVNJLE1BQU0sRUFBRUMsS0FBS3NJLGlCQUFpQlM7WUFDbEYsTUFBTUMsTUFBTSxJQUFJLENBQUMxQixlQUFlLENBQUMzSCxTQUFTSSxNQUFNLEVBQUU4SSxTQUFTRSxZQUFZVDtZQUN2RSxNQUFNVTtRQUNWO1FBQ0EsT0FBTztZQUFFcko7WUFBVUM7WUFBU1M7UUFBVztJQUMzQztJQUNBdUUsZUFBZUQsSUFBSSxFQUFFL0UsT0FBTyxFQUFFO1FBQzFCLE1BQU13RSxVQUFVLElBQUksQ0FBQ3VELFdBQVcsQ0FBQy9ILFNBQVM7UUFDMUMsT0FBTyxJQUFJcUosWUFBWSxJQUFJLEVBQUU3RSxTQUFTTztJQUMxQztJQUNBbUIsU0FBU2pDLElBQUksRUFBRTRCLEtBQUssRUFBRTtRQUNsQixNQUFNekYsTUFBTWtKLGNBQWNyRixRQUN0QixJQUFJc0YsSUFBSXRGLFFBQ04sSUFBSXNGLElBQUksSUFBSSxDQUFDdEcsT0FBTyxHQUFJLEtBQUksQ0FBQ0EsT0FBTyxDQUFDaEMsUUFBUSxDQUFDLFFBQVFnRCxLQUFLdUYsVUFBVSxDQUFDLE9BQU92RixLQUFLd0YsS0FBSyxDQUFDLEtBQUt4RixJQUFHO1FBQ3RHLE1BQU15RixlQUFlLElBQUksQ0FBQ0EsWUFBWTtRQUN0QyxJQUFJLENBQUNDLFdBQVdELGVBQWU7WUFDM0I3RCxRQUFRO2dCQUFFLEdBQUc2RCxZQUFZO2dCQUFFLEdBQUc3RCxLQUFLO1lBQUM7UUFDeEM7UUFDQSxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsU0FBUyxDQUFDeEUsTUFBTUMsT0FBTyxDQUFDdUUsUUFBUTtZQUM3RHpGLElBQUl3SixNQUFNLEdBQUcsSUFBSSxDQUFDQyxjQUFjLENBQUNoRTtRQUNyQztRQUNBLE9BQU96RixJQUFJZ0YsUUFBUTtJQUN2QjtJQUNBeUUsZUFBZWhFLEtBQUssRUFBRTtRQUNsQixPQUFPdEUsT0FBT3VJLE9BQU8sQ0FBQ2pFLE9BQ2pCa0UsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsR0FBRzdMLE1BQU0sR0FBSyxPQUFPQSxVQUFVLGFBQ3hDcUosR0FBRyxDQUFDLENBQUMsQ0FBQ3lDLEtBQUs5TCxNQUFNO1lBQ2xCLElBQUksT0FBT0EsVUFBVSxZQUFZLE9BQU9BLFVBQVUsWUFBWSxPQUFPQSxVQUFVLFdBQVc7Z0JBQ3RGLE9BQU8sQ0FBQyxFQUFFK0wsbUJBQW1CRCxLQUFLLENBQUMsRUFBRUMsbUJBQW1CL0wsT0FBTyxDQUFDO1lBQ3BFO1lBQ0EsSUFBSUEsVUFBVSxNQUFNO2dCQUNoQixPQUFPLENBQUMsRUFBRStMLG1CQUFtQkQsS0FBSyxDQUFDLENBQUM7WUFDeEM7WUFDQSxNQUFNLElBQUlsTCxtREFBV0EsQ0FBQyxDQUFDLHNCQUFzQixFQUFFLE9BQU9aLE1BQU0saVFBQWlRLENBQUM7UUFDbFUsR0FDS2dNLElBQUksQ0FBQztJQUNkO0lBQ0EsTUFBTS9CLGlCQUFpQmhJLEdBQUcsRUFBRWIsSUFBSSxFQUFFNkssRUFBRSxFQUFFM0osVUFBVSxFQUFFO1FBQzlDLE1BQU0sRUFBRWlHLE1BQU0sRUFBRSxHQUFHMUcsU0FBUyxHQUFHVCxRQUFRLENBQUM7UUFDeEMsSUFBSW1ILFFBQ0FBLE9BQU8yRCxnQkFBZ0IsQ0FBQyxTQUFTLElBQU01SixXQUFXNkosS0FBSztRQUMzRCxNQUFNbkgsVUFBVW9ILFdBQVcsSUFBTTlKLFdBQVc2SixLQUFLLElBQUlGO1FBQ3JELE1BQU1JLGVBQWU7WUFDakI5RCxRQUFRakcsV0FBV2lHLE1BQU07WUFDekIsR0FBRzFHLE9BQU87UUFDZDtRQUNBLElBQUl3SyxhQUFhakcsTUFBTSxFQUFFO1lBQ3JCLG9EQUFvRDtZQUNwRCxtREFBbUQ7WUFDbkRpRyxhQUFhakcsTUFBTSxHQUFHaUcsYUFBYWpHLE1BQU0sQ0FBQ2tHLFdBQVc7UUFDekQ7UUFDQSxPQUNBLDRGQUE0RjtRQUM1RixJQUFJLENBQUNuTCxLQUFLLENBQUNkLElBQUksQ0FBQ3FJLFdBQVd6RyxLQUFLb0ssY0FBYzFILE9BQU8sQ0FBQztZQUNsRDRILGFBQWF2SDtRQUNqQjtJQUNKO0lBQ0EwRixZQUFZOUksUUFBUSxFQUFFO1FBQ2xCLHNDQUFzQztRQUN0QyxNQUFNNEssb0JBQW9CNUssU0FBU00sT0FBTyxDQUFDMUIsR0FBRyxDQUFDO1FBQy9DLCtEQUErRDtRQUMvRCxJQUFJZ00sc0JBQXNCLFFBQ3RCLE9BQU87UUFDWCxJQUFJQSxzQkFBc0IsU0FDdEIsT0FBTztRQUNYLDZCQUE2QjtRQUM3QixJQUFJNUssU0FBU0ksTUFBTSxLQUFLLEtBQ3BCLE9BQU87UUFDWCwwQkFBMEI7UUFDMUIsSUFBSUosU0FBU0ksTUFBTSxLQUFLLEtBQ3BCLE9BQU87UUFDWCx3QkFBd0I7UUFDeEIsSUFBSUosU0FBU0ksTUFBTSxLQUFLLEtBQ3BCLE9BQU87UUFDWCx5QkFBeUI7UUFDekIsSUFBSUosU0FBU0ksTUFBTSxJQUFJLEtBQ25CLE9BQU87UUFDWCxPQUFPO0lBQ1g7SUFDQSxNQUFNb0ksYUFBYXZJLE9BQU8sRUFBRWlJLGdCQUFnQixFQUFFUyxlQUFlLEVBQUU7UUFDM0QsSUFBSWtDO1FBQ0osbUhBQW1IO1FBQ25ILE1BQU1DLHlCQUF5Qm5DLGlCQUFpQixDQUFDLGlCQUFpQjtRQUNsRSxJQUFJbUMsd0JBQXdCO1lBQ3hCLE1BQU1DLFlBQVlDLFdBQVdGO1lBQzdCLElBQUksQ0FBQ0csT0FBT0MsS0FBSyxDQUFDSCxZQUFZO2dCQUMxQkYsZ0JBQWdCRTtZQUNwQjtRQUNKO1FBQ0Esc0dBQXNHO1FBQ3RHLE1BQU1JLG1CQUFtQnhDLGlCQUFpQixDQUFDLGNBQWM7UUFDekQsSUFBSXdDLG9CQUFvQixDQUFDTixlQUFlO1lBQ3BDLE1BQU1PLGlCQUFpQkosV0FBV0c7WUFDbEMsSUFBSSxDQUFDRixPQUFPQyxLQUFLLENBQUNFLGlCQUFpQjtnQkFDL0JQLGdCQUFnQk8saUJBQWlCO1lBQ3JDLE9BQ0s7Z0JBQ0RQLGdCQUFnQlEsS0FBSzVJLEtBQUssQ0FBQzBJLG9CQUFvQkUsS0FBS0MsR0FBRztZQUMzRDtRQUNKO1FBQ0Esc0ZBQXNGO1FBQ3RGLDBEQUEwRDtRQUMxRCxJQUFJLENBQUVULENBQUFBLGlCQUFpQixLQUFLQSxpQkFBaUJBLGdCQUFnQixLQUFLLElBQUcsR0FBSTtZQUNyRSxNQUFNMUgsYUFBYWxELFFBQVFrRCxVQUFVLElBQUksSUFBSSxDQUFDQSxVQUFVO1lBQ3hEMEgsZ0JBQWdCLElBQUksQ0FBQ1Usa0NBQWtDLENBQUNyRCxrQkFBa0IvRTtRQUM5RTtRQUNBLE1BQU1xSSxNQUFNWDtRQUNaLE9BQU8sSUFBSSxDQUFDN0MsV0FBVyxDQUFDL0gsU0FBU2lJLG1CQUFtQjtJQUN4RDtJQUNBcUQsbUNBQW1DckQsZ0JBQWdCLEVBQUUvRSxVQUFVLEVBQUU7UUFDN0QsTUFBTXNJLG9CQUFvQjtRQUMxQixNQUFNQyxnQkFBZ0I7UUFDdEIsTUFBTUMsYUFBYXhJLGFBQWErRTtRQUNoQyx3REFBd0Q7UUFDeEQsTUFBTTBELGVBQWU1RSxLQUFLNkUsR0FBRyxDQUFDSixvQkFBb0J6RSxLQUFLOEUsR0FBRyxDQUFDLEdBQUdILGFBQWFEO1FBQzNFLHNFQUFzRTtRQUN0RSxNQUFNSyxTQUFTLElBQUkvRSxLQUFLZ0YsTUFBTSxLQUFLO1FBQ25DLE9BQU9KLGVBQWVHLFNBQVM7SUFDbkM7SUFDQW5JLGVBQWU7UUFDWCxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUMvQixXQUFXLENBQUM0RyxJQUFJLENBQUMsSUFBSSxFQUFFM0osaURBQU9BLENBQUMsQ0FBQztJQUNuRDtBQUNKO0FBQ08sTUFBTW1OO0lBQ1RwSyxZQUFZcUssTUFBTSxFQUFFbE0sUUFBUSxFQUFFTyxJQUFJLEVBQUVOLE9BQU8sQ0FBRTtRQUN6Q3BCLHFCQUFxQkgsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQ3BDVCx1QkFBdUIsSUFBSSxFQUFFWSxzQkFBc0JxTixRQUFRO1FBQzNELElBQUksQ0FBQ2pNLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNELFFBQVEsR0FBR0E7UUFDaEIsSUFBSSxDQUFDTyxJQUFJLEdBQUdBO0lBQ2hCO0lBQ0E0TCxjQUFjO1FBQ1YsTUFBTUMsUUFBUSxJQUFJLENBQUNDLGlCQUFpQjtRQUNwQyxJQUFJLENBQUNELE1BQU0xRyxNQUFNLEVBQ2IsT0FBTztRQUNYLE9BQU8sSUFBSSxDQUFDNEcsWUFBWSxNQUFNO0lBQ2xDO0lBQ0EsTUFBTUMsY0FBYztRQUNoQixNQUFNQyxXQUFXLElBQUksQ0FBQ0YsWUFBWTtRQUNsQyxJQUFJLENBQUNFLFVBQVU7WUFDWCxNQUFNLElBQUl4TixtREFBV0EsQ0FBQztRQUMxQjtRQUNBLE1BQU15TixjQUFjO1lBQUUsR0FBRyxJQUFJLENBQUN4TSxPQUFPO1FBQUM7UUFDdEMsSUFBSSxZQUFZdU0sWUFBWSxPQUFPQyxZQUFZM0csS0FBSyxLQUFLLFVBQVU7WUFDL0QyRyxZQUFZM0csS0FBSyxHQUFHO2dCQUFFLEdBQUcyRyxZQUFZM0csS0FBSztnQkFBRSxHQUFHMEcsU0FBU0UsTUFBTTtZQUFDO1FBQ25FLE9BQ0ssSUFBSSxTQUFTRixVQUFVO1lBQ3hCLE1BQU1FLFNBQVM7bUJBQUlsTCxPQUFPdUksT0FBTyxDQUFDMEMsWUFBWTNHLEtBQUssSUFBSSxDQUFDO21CQUFPMEcsU0FBU25NLEdBQUcsQ0FBQ3NNLFlBQVksQ0FBQzVDLE9BQU87YUFBRztZQUNuRyxLQUFLLE1BQU0sQ0FBQ0csS0FBSzlMLE1BQU0sSUFBSXNPLE9BQVE7Z0JBQy9CRixTQUFTbk0sR0FBRyxDQUFDc00sWUFBWSxDQUFDak8sR0FBRyxDQUFDd0wsS0FBSzlMO1lBQ3ZDO1lBQ0FxTyxZQUFZM0csS0FBSyxHQUFHZ0I7WUFDcEIyRixZQUFZdkksSUFBSSxHQUFHc0ksU0FBU25NLEdBQUcsQ0FBQ2dGLFFBQVE7UUFDNUM7UUFDQSxPQUFPLE1BQU0xRyx1QkFBdUIsSUFBSSxFQUFFRSxzQkFBc0IsS0FBS29HLGNBQWMsQ0FBQyxJQUFJLENBQUNwRCxXQUFXLEVBQUU0SztJQUMxRztJQUNBLE9BQU9HLFlBQVk7UUFDZiw0REFBNEQ7UUFDNUQsSUFBSUMsT0FBTyxJQUFJO1FBQ2YsTUFBTUE7UUFDTixNQUFPQSxLQUFLVixXQUFXLEdBQUk7WUFDdkJVLE9BQU8sTUFBTUEsS0FBS04sV0FBVztZQUM3QixNQUFNTTtRQUNWO0lBQ0o7SUFDQSxPQUFPLENBQUVoTyxDQUFBQSx1QkFBdUIsSUFBSWlPLFdBQVd6RixPQUFPMEYsYUFBYSxFQUFFLEdBQUc7UUFDcEUsV0FBVyxNQUFNRixRQUFRLElBQUksQ0FBQ0QsU0FBUyxHQUFJO1lBQ3ZDLEtBQUssTUFBTUksUUFBUUgsS0FBS1IsaUJBQWlCLEdBQUk7Z0JBQ3pDLE1BQU1XO1lBQ1Y7UUFDSjtJQUNKO0FBQ0o7QUFDQTs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU0xRCxvQkFBb0IzSDtJQUM3QkUsWUFBWXFLLE1BQU0sRUFBRXpILE9BQU8sRUFBRU8sSUFBSSxDQUFFO1FBQy9CLEtBQUssQ0FBQ1AsU0FBUyxPQUFPMUUsUUFBVSxJQUFJaUYsS0FBS2tILFFBQVFuTSxNQUFNQyxRQUFRLEVBQUUsTUFBTUYscUJBQXFCQyxRQUFRQSxNQUFNRSxPQUFPO0lBQ3JIO0lBQ0E7Ozs7OztLQU1DLEdBQ0QsT0FBTyxDQUFDb0gsT0FBTzBGLGFBQWEsQ0FBQyxHQUFHO1FBQzVCLE1BQU1GLE9BQU8sTUFBTSxJQUFJO1FBQ3ZCLFdBQVcsTUFBTUcsUUFBUUgsS0FBTTtZQUMzQixNQUFNRztRQUNWO0lBQ0o7QUFDSjtBQUNPLE1BQU1wRSx3QkFBd0IsQ0FBQ3RJO0lBQ2xDLE9BQU8sSUFBSTJNLE1BQU16TCxPQUFPK0YsV0FBVyxDQUNuQyxhQUFhO0lBQ2JqSCxRQUFReUosT0FBTyxLQUFLO1FBQ2hCbkwsS0FBSXNPLE1BQU0sRUFBRXpFLElBQUk7WUFDWixNQUFNeUIsTUFBTXpCLEtBQUtwRCxRQUFRO1lBQ3pCLE9BQU82SCxNQUFNLENBQUNoRCxJQUFJaUQsV0FBVyxHQUFHLElBQUlELE1BQU0sQ0FBQ2hELElBQUk7UUFDbkQ7SUFDSjtBQUNKLEVBQUU7QUFDRix5RkFBeUY7QUFDekYscUZBQXFGO0FBQ3JGLHdFQUF3RTtBQUN4RSxNQUFNa0QscUJBQXFCO0lBQ3ZCNUksUUFBUTtJQUNSTixNQUFNO0lBQ040QixPQUFPO0lBQ1B2RixNQUFNO0lBQ05ELFNBQVM7SUFDVDZDLFlBQVk7SUFDWmpELFFBQVE7SUFDUmtELFNBQVM7SUFDVEMsV0FBVztJQUNYc0QsUUFBUTtJQUNSTCxnQkFBZ0I7SUFDaEIrRyxZQUFZO0lBQ1p0SCxpQkFBaUI7SUFDakJwRixrQkFBa0I7SUFDbEJILGVBQWU7QUFDbkI7QUFDTyxNQUFNOE0sbUJBQW1CLENBQUNDO0lBQzdCLE9BQVEsT0FBT0EsUUFBUSxZQUNuQkEsUUFBUSxRQUNSLENBQUMzRCxXQUFXMkQsUUFDWi9MLE9BQU9nTSxJQUFJLENBQUNELEtBQUtFLEtBQUssQ0FBQyxDQUFDQyxJQUFNQyxPQUFPUCxvQkFBb0JNO0FBQ2pFLEVBQUU7QUFDRixNQUFNRSx3QkFBd0I7SUFDMUIsSUFBSSxPQUFPQyxTQUFTLGVBQWVBLEtBQUtDLEtBQUssSUFBSSxNQUFNO1FBQ25ELE9BQU87WUFDSCxvQkFBb0I7WUFDcEIsK0JBQStCaFAsaURBQU9BO1lBQ3RDLGtCQUFrQmlQLGtCQUFrQkYsS0FBS0MsS0FBSyxDQUFDRSxFQUFFO1lBQ2pELG9CQUFvQkMsY0FBY0osS0FBS0MsS0FBSyxDQUFDSSxJQUFJO1lBQ2pELHVCQUF1QjtZQUN2QiwrQkFBK0IsT0FBT0wsS0FBS00sT0FBTyxLQUFLLFdBQVdOLEtBQUtNLE9BQU8sR0FBR04sS0FBS00sT0FBTyxFQUFFQyxRQUFRO1FBQzNHO0lBQ0o7SUFDQSxJQUFJLE9BQU9DLGdCQUFnQixhQUFhO1FBQ3BDLE9BQU87WUFDSCxvQkFBb0I7WUFDcEIsK0JBQStCdlAsaURBQU9BO1lBQ3RDLGtCQUFrQjtZQUNsQixvQkFBb0IsQ0FBQyxNQUFNLEVBQUV1UCxZQUFZLENBQUM7WUFDMUMsdUJBQXVCO1lBQ3ZCLCtCQUErQkMsUUFBUUgsT0FBTztRQUNsRDtJQUNKO0lBQ0EsbUJBQW1CO0lBQ25CLElBQUkzTSxPQUFPK00sU0FBUyxDQUFDbEosUUFBUSxDQUFDNUcsSUFBSSxDQUFDLE9BQU82UCxZQUFZLGNBQWNBLFVBQVUsT0FBTyxvQkFBb0I7UUFDckcsT0FBTztZQUNILG9CQUFvQjtZQUNwQiwrQkFBK0J4UCxpREFBT0E7WUFDdEMsa0JBQWtCaVAsa0JBQWtCTyxRQUFRRSxRQUFRO1lBQ3BELG9CQUFvQlAsY0FBY0ssUUFBUUosSUFBSTtZQUM5Qyx1QkFBdUI7WUFDdkIsK0JBQStCSSxRQUFRSCxPQUFPO1FBQ2xEO0lBQ0o7SUFDQSxNQUFNTSxjQUFjQztJQUNwQixJQUFJRCxhQUFhO1FBQ2IsT0FBTztZQUNILG9CQUFvQjtZQUNwQiwrQkFBK0IzUCxpREFBT0E7WUFDdEMsa0JBQWtCO1lBQ2xCLG9CQUFvQjtZQUNwQix1QkFBdUIsQ0FBQyxRQUFRLEVBQUUyUCxZQUFZRSxPQUFPLENBQUMsQ0FBQztZQUN2RCwrQkFBK0JGLFlBQVlOLE9BQU87UUFDdEQ7SUFDSjtJQUNBLGdEQUFnRDtJQUNoRCxPQUFPO1FBQ0gsb0JBQW9CO1FBQ3BCLCtCQUErQnJQLGlEQUFPQTtRQUN0QyxrQkFBa0I7UUFDbEIsb0JBQW9CO1FBQ3BCLHVCQUF1QjtRQUN2QiwrQkFBK0I7SUFDbkM7QUFDSjtBQUNBLDhJQUE4STtBQUM5SSxTQUFTNFA7SUFDTCxJQUFJLE9BQU9FLGNBQWMsZUFBZSxDQUFDQSxXQUFXO1FBQ2hELE9BQU87SUFDWDtJQUNBLGdDQUFnQztJQUNoQyxNQUFNQyxrQkFBa0I7UUFDcEI7WUFBRTNFLEtBQUs7WUFBUTRFLFNBQVM7UUFBdUM7UUFDL0Q7WUFBRTVFLEtBQUs7WUFBTTRFLFNBQVM7UUFBdUM7UUFDN0Q7WUFBRTVFLEtBQUs7WUFBTTRFLFNBQVM7UUFBNkM7UUFDbkU7WUFBRTVFLEtBQUs7WUFBVTRFLFNBQVM7UUFBeUM7UUFDbkU7WUFBRTVFLEtBQUs7WUFBVzRFLFNBQVM7UUFBMEM7UUFDckU7WUFBRTVFLEtBQUs7WUFBVTRFLFNBQVM7UUFBb0U7S0FDakc7SUFDRCxrQ0FBa0M7SUFDbEMsS0FBSyxNQUFNLEVBQUU1RSxHQUFHLEVBQUU0RSxPQUFPLEVBQUUsSUFBSUQsZ0JBQWlCO1FBQzVDLE1BQU1FLFFBQVFELFFBQVFFLElBQUksQ0FBQ0osVUFBVUssU0FBUztRQUM5QyxJQUFJRixPQUFPO1lBQ1AsTUFBTUcsUUFBUUgsS0FBSyxDQUFDLEVBQUUsSUFBSTtZQUMxQixNQUFNSSxRQUFRSixLQUFLLENBQUMsRUFBRSxJQUFJO1lBQzFCLE1BQU0xSyxRQUFRMEssS0FBSyxDQUFDLEVBQUUsSUFBSTtZQUMxQixPQUFPO2dCQUFFSixTQUFTekU7Z0JBQUtpRSxTQUFTLENBQUMsRUFBRWUsTUFBTSxDQUFDLEVBQUVDLE1BQU0sQ0FBQyxFQUFFOUssTUFBTSxDQUFDO1lBQUM7UUFDakU7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUNBLE1BQU00SixnQkFBZ0IsQ0FBQ0M7SUFDbkIsYUFBYTtJQUNiLG9EQUFvRDtJQUNwRCxhQUFhO0lBQ2IsbURBQW1EO0lBQ25ELElBQUlBLFNBQVMsT0FDVCxPQUFPO0lBQ1gsSUFBSUEsU0FBUyxZQUFZQSxTQUFTLE9BQzlCLE9BQU87SUFDWCxJQUFJQSxTQUFTLE9BQ1QsT0FBTztJQUNYLElBQUlBLFNBQVMsYUFBYUEsU0FBUyxTQUMvQixPQUFPO0lBQ1gsSUFBSUEsTUFDQSxPQUFPLENBQUMsTUFBTSxFQUFFQSxLQUFLLENBQUM7SUFDMUIsT0FBTztBQUNYO0FBQ0EsTUFBTUgsb0JBQW9CLENBQUNTO0lBQ3ZCLGtCQUFrQjtJQUNsQix3REFBd0Q7SUFDeEQsa0JBQWtCO0lBQ2xCLG1EQUFtRDtJQUNuRCxrREFBa0Q7SUFDbERBLFdBQVdBLFNBQVNyQixXQUFXO0lBQy9CLG9EQUFvRDtJQUNwRCx5REFBeUQ7SUFDekQsaURBQWlEO0lBQ2pELDhFQUE4RTtJQUM5RSxJQUFJcUIsU0FBU3ZOLFFBQVEsQ0FBQyxRQUNsQixPQUFPO0lBQ1gsSUFBSXVOLGFBQWEsV0FDYixPQUFPO0lBQ1gsSUFBSUEsYUFBYSxVQUNiLE9BQU87SUFDWCxJQUFJQSxhQUFhLFNBQ2IsT0FBTztJQUNYLElBQUlBLGFBQWEsV0FDYixPQUFPO0lBQ1gsSUFBSUEsYUFBYSxXQUNiLE9BQU87SUFDWCxJQUFJQSxhQUFhLFNBQ2IsT0FBTztJQUNYLElBQUlBLFVBQ0EsT0FBTyxDQUFDLE1BQU0sRUFBRUEsU0FBUyxDQUFDO0lBQzlCLE9BQU87QUFDWDtBQUNBLElBQUlZO0FBQ0osTUFBTXZMLHFCQUFxQjtJQUN2QixPQUFRdUwsb0JBQXFCQSxDQUFBQSxtQkFBbUJ4Qix1QkFBc0I7QUFDMUU7QUFDTyxNQUFNekUsV0FBVyxDQUFDOUg7SUFDckIsSUFBSTtRQUNBLE9BQU8yRSxLQUFLdkQsS0FBSyxDQUFDcEI7SUFDdEIsRUFDQSxPQUFPZ0ksS0FBSztRQUNSLE9BQU92QztJQUNYO0FBQ0osRUFBRTtBQUNGLGlEQUFpRDtBQUNqRCxNQUFNdUkseUJBQXlCO0FBQy9CLE1BQU05RixnQkFBZ0IsQ0FBQ2xKO0lBQ25CLE9BQU9nUCx1QkFBdUJDLElBQUksQ0FBQ2pQO0FBQ3ZDO0FBQ08sTUFBTW1MLFFBQVEsQ0FBQ25CLEtBQU8sSUFBSXpJLFFBQVEsQ0FBQ0ksVUFBWXdJLFdBQVd4SSxTQUFTcUksS0FBSztBQUMvRSxNQUFNOUcsMEJBQTBCLENBQUNrRixNQUFNOEc7SUFDbkMsSUFBSSxPQUFPQSxNQUFNLFlBQVksQ0FBQ3RFLE9BQU91RSxTQUFTLENBQUNELElBQUk7UUFDL0MsTUFBTSxJQUFJdlEsbURBQVdBLENBQUMsQ0FBQyxFQUFFeUosS0FBSyxtQkFBbUIsQ0FBQztJQUN0RDtJQUNBLElBQUk4RyxJQUFJLEdBQUc7UUFDUCxNQUFNLElBQUl2USxtREFBV0EsQ0FBQyxDQUFDLEVBQUV5SixLQUFLLDJCQUEyQixDQUFDO0lBQzlEO0lBQ0EsT0FBTzhHO0FBQ1g7QUFDTyxNQUFNakgsY0FBYyxDQUFDZTtJQUN4QixJQUFJQSxlQUFlZCxPQUNmLE9BQU9jO0lBQ1gsSUFBSSxPQUFPQSxRQUFRLFlBQVlBLFFBQVEsTUFBTTtRQUN6QyxJQUFJO1lBQ0EsT0FBTyxJQUFJZCxNQUFNdkMsS0FBS0MsU0FBUyxDQUFDb0Q7UUFDcEMsRUFDQSxPQUFNLENBQUU7SUFDWjtJQUNBLE9BQU8sSUFBSWQsTUFBTWM7QUFDckIsRUFBRTtBQUNLLE1BQU1vRyxnQkFBZ0IsQ0FBQ3JSO0lBQzFCLElBQUlBLFNBQVMsTUFDVCxNQUFNLElBQUlZLG1EQUFXQSxDQUFDLENBQUMsMENBQTBDLEVBQUVaLE1BQU0sU0FBUyxDQUFDO0lBQ3ZGLE9BQU9BO0FBQ1gsRUFBRTtBQUNGOzs7Ozs7Q0FNQyxHQUNNLE1BQU1zUixVQUFVLENBQUNDO0lBQ3BCLElBQUksT0FBT3JCLFlBQVksYUFBYTtRQUNoQyxPQUFPQSxRQUFRcUIsR0FBRyxFQUFFLENBQUNBLElBQUksRUFBRTVPLFVBQVUrRjtJQUN6QztJQUNBLElBQUksT0FBTytHLFNBQVMsYUFBYTtRQUM3QixPQUFPQSxLQUFLOEIsR0FBRyxFQUFFL1EsTUFBTStRLE1BQU01TztJQUNqQztJQUNBLE9BQU8rRjtBQUNYLEVBQUU7QUFDSyxNQUFNOEksZ0JBQWdCLENBQUN4UjtJQUMxQixJQUFJLE9BQU9BLFVBQVUsVUFDakIsT0FBTzRJLEtBQUs2SSxLQUFLLENBQUN6UjtJQUN0QixJQUFJLE9BQU9BLFVBQVUsVUFDakIsT0FBTzBSLFNBQVMxUixPQUFPO0lBQzNCLE1BQU0sSUFBSVksbURBQVdBLENBQUMsQ0FBQyxpQkFBaUIsRUFBRVosTUFBTSxRQUFRLEVBQUUsT0FBT0EsTUFBTSxlQUFlLENBQUM7QUFDM0YsRUFBRTtBQUNLLE1BQU0yUixjQUFjLENBQUMzUjtJQUN4QixJQUFJLE9BQU9BLFVBQVUsVUFDakIsT0FBT0E7SUFDWCxJQUFJLE9BQU9BLFVBQVUsVUFDakIsT0FBTzRNLFdBQVc1TTtJQUN0QixNQUFNLElBQUlZLG1EQUFXQSxDQUFDLENBQUMsaUJBQWlCLEVBQUVaLE1BQU0sUUFBUSxFQUFFLE9BQU9BLE1BQU0sZUFBZSxDQUFDO0FBQzNGLEVBQUU7QUFDSyxNQUFNNFIsZ0JBQWdCLENBQUM1UjtJQUMxQixJQUFJLE9BQU9BLFVBQVUsV0FDakIsT0FBT0E7SUFDWCxJQUFJLE9BQU9BLFVBQVUsVUFDakIsT0FBT0EsVUFBVTtJQUNyQixPQUFPNlIsUUFBUTdSO0FBQ25CLEVBQUU7QUFDSyxNQUFNOFIscUJBQXFCLENBQUM5UjtJQUMvQixJQUFJQSxVQUFVMEksV0FBVztRQUNyQixPQUFPQTtJQUNYO0lBQ0EsT0FBTzhJLGNBQWN4UjtBQUN6QixFQUFFO0FBQ0ssTUFBTStSLG1CQUFtQixDQUFDL1I7SUFDN0IsSUFBSUEsVUFBVTBJLFdBQVc7UUFDckIsT0FBT0E7SUFDWDtJQUNBLE9BQU9pSixZQUFZM1I7QUFDdkIsRUFBRTtBQUNLLE1BQU1nUyxxQkFBcUIsQ0FBQ2hTO0lBQy9CLElBQUlBLFVBQVUwSSxXQUFXO1FBQ3JCLE9BQU9BO0lBQ1g7SUFDQSxPQUFPa0osY0FBYzVSO0FBQ3pCLEVBQUU7QUFDRix1Q0FBdUM7QUFDaEMsU0FBU3dMLFdBQVcyRCxHQUFHO0lBQzFCLElBQUksQ0FBQ0EsS0FDRCxPQUFPO0lBQ1gsSUFBSyxNQUFNOEMsTUFBTTlDLElBQ2IsT0FBTztJQUNYLE9BQU87QUFDWDtBQUNBLDZEQUE2RDtBQUN0RCxTQUFTSSxPQUFPSixHQUFHLEVBQUVyRCxHQUFHO0lBQzNCLE9BQU8xSSxPQUFPK00sU0FBUyxDQUFDK0IsY0FBYyxDQUFDN1IsSUFBSSxDQUFDOE8sS0FBS3JEO0FBQ3JEO0FBQ0E7Ozs7O0NBS0MsR0FDRCxTQUFTdEQsZ0JBQWdCMkosYUFBYSxFQUFFQyxVQUFVO0lBQzlDLElBQUssTUFBTTlDLEtBQUs4QyxXQUFZO1FBQ3hCLElBQUksQ0FBQzdDLE9BQU82QyxZQUFZOUMsSUFDcEI7UUFDSixNQUFNK0MsV0FBVy9DLEVBQUVQLFdBQVc7UUFDOUIsSUFBSSxDQUFDc0QsVUFDRDtRQUNKLE1BQU1DLE1BQU1GLFVBQVUsQ0FBQzlDLEVBQUU7UUFDekIsSUFBSWdELFFBQVEsTUFBTTtZQUNkLE9BQU9ILGFBQWEsQ0FBQ0UsU0FBUztRQUNsQyxPQUNLLElBQUlDLFFBQVE1SixXQUFXO1lBQ3hCeUosYUFBYSxDQUFDRSxTQUFTLEdBQUdDO1FBQzlCO0lBQ0o7QUFDSjtBQUNBLE1BQU1DLG9CQUFvQixJQUFJQyxJQUFJO0lBQUM7SUFBaUI7Q0FBVTtBQUN2RCxTQUFTelEsTUFBTTBRLE1BQU0sRUFBRSxHQUFHQyxJQUFJO0lBQ2pDLElBQUksT0FBT3hDLFlBQVksZUFBZUEsU0FBU3FCLEtBQUssQ0FBQyxRQUFRLEtBQUssUUFBUTtRQUN0RSxNQUFNb0IsZUFBZUQsS0FBS3JKLEdBQUcsQ0FBQyxDQUFDdUo7WUFDM0IsSUFBSSxDQUFDQSxLQUFLO2dCQUNOLE9BQU9BO1lBQ1g7WUFDQSwrREFBK0Q7WUFDL0QsSUFBSUEsR0FBRyxDQUFDLFVBQVUsRUFBRTtnQkFDaEIsMkJBQTJCO2dCQUMzQixNQUFNQyxjQUFjO29CQUFFLEdBQUdELEdBQUc7b0JBQUUxUSxTQUFTO3dCQUFFLEdBQUcwUSxHQUFHLENBQUMsVUFBVTtvQkFBQztnQkFBRTtnQkFDN0QsSUFBSyxNQUFNdEosVUFBVXNKLEdBQUcsQ0FBQyxVQUFVLENBQUU7b0JBQ2pDLElBQUlMLGtCQUFrQm5TLEdBQUcsQ0FBQ2tKLE9BQU95RixXQUFXLEtBQUs7d0JBQzdDOEQsV0FBVyxDQUFDLFVBQVUsQ0FBQ3ZKLE9BQU8sR0FBRztvQkFDckM7Z0JBQ0o7Z0JBQ0EsT0FBT3VKO1lBQ1g7WUFDQSxJQUFJQSxjQUFjO1lBQ2xCLGdEQUFnRDtZQUNoRCxJQUFLLE1BQU12SixVQUFVc0osSUFBSztnQkFDdEIsSUFBSUwsa0JBQWtCblMsR0FBRyxDQUFDa0osT0FBT3lGLFdBQVcsS0FBSztvQkFDN0MsdUNBQXVDO29CQUN2QzhELGVBQWdCQSxDQUFBQSxjQUFjO3dCQUFFLEdBQUdELEdBQUc7b0JBQUM7b0JBQ3ZDQyxXQUFXLENBQUN2SixPQUFPLEdBQUc7Z0JBQzFCO1lBQ0o7WUFDQSxPQUFPdUosZUFBZUQ7UUFDMUI7UUFDQUUsUUFBUUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFTixPQUFPLENBQUMsS0FBS0U7SUFDN0M7QUFDSjtBQUNBOztDQUVDLEdBQ0QsTUFBTTlNLFFBQVE7SUFDVixPQUFPLHVDQUF1Q21OLE9BQU8sQ0FBQyxTQUFTLENBQUNDO1FBQzVELE1BQU1DLElBQUksS0FBTXRGLE1BQU0sS0FBSyxLQUFNO1FBQ2pDLE1BQU11RixJQUFJRixNQUFNLE1BQU1DLElBQUksSUFBSyxNQUFPO1FBQ3RDLE9BQU9DLEVBQUVsTSxRQUFRLENBQUM7SUFDdEI7QUFDSjtBQUNPLE1BQU1tTSxxQkFBcUI7SUFDOUIsT0FDQSxhQUFhO0lBQ2IsTUFFK0IsSUFDM0IsYUFBYTtJQUNiLENBQXFCO0FBQzdCLEVBQUU7QUFDSyxNQUFNRyxvQkFBb0IsQ0FBQ3JSO0lBQzlCLE9BQU8sT0FBT0EsU0FBUzFCLFFBQVE7QUFDbkMsRUFBRTtBQUNLLE1BQU1nVCxvQkFBb0IsQ0FBQ3RSLFNBQVNvSDtJQUN2QyxNQUFNbUssY0FBY2hMLFVBQVV2RyxTQUFTb0g7SUFDdkMsSUFBSW1LLGdCQUFnQi9LLFdBQVc7UUFDM0IsTUFBTSxJQUFJeUIsTUFBTSxDQUFDLGVBQWUsRUFBRWIsT0FBTyxPQUFPLENBQUM7SUFDckQ7SUFDQSxPQUFPbUs7QUFDWCxFQUFFO0FBQ0ssTUFBTWhMLFlBQVksQ0FBQ3ZHLFNBQVNvSDtJQUMvQixNQUFNb0ssbUJBQW1CcEssT0FBT3lGLFdBQVc7SUFDM0MsSUFBSXdFLGtCQUFrQnJSLFVBQVU7UUFDNUIsdUVBQXVFO1FBQ3ZFLE1BQU15UixrQkFBa0JySyxNQUFNLENBQUMsRUFBRSxFQUFFZ0QsZ0JBQy9CaEQsT0FBT3NLLFNBQVMsQ0FBQyxHQUFHWixPQUFPLENBQUMsZ0JBQWdCLENBQUNhLElBQUlDLElBQUlDLEtBQU9ELEtBQUtDLEdBQUd6SCxXQUFXO1FBQ25GLEtBQUssTUFBTVIsT0FBTztZQUFDeEM7WUFBUW9LO1lBQWtCcEssT0FBT2dELFdBQVc7WUFBSXFIO1NBQWdCLENBQUU7WUFDakYsTUFBTTNULFFBQVFrQyxRQUFRMUIsR0FBRyxDQUFDc0w7WUFDMUIsSUFBSTlMLE9BQU87Z0JBQ1AsT0FBT0E7WUFDWDtRQUNKO0lBQ0o7SUFDQSxLQUFLLE1BQU0sQ0FBQzhMLEtBQUs5TCxNQUFNLElBQUlvRCxPQUFPdUksT0FBTyxDQUFDekosU0FBVTtRQUNoRCxJQUFJNEosSUFBSWlELFdBQVcsT0FBTzJFLGtCQUFrQjtZQUN4QyxJQUFJeFEsTUFBTUMsT0FBTyxDQUFDbkQsUUFBUTtnQkFDdEIsSUFBSUEsTUFBTXNILE1BQU0sSUFBSSxHQUNoQixPQUFPdEgsS0FBSyxDQUFDLEVBQUU7Z0JBQ25COFMsUUFBUWtCLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRWhVLE1BQU1zSCxNQUFNLENBQUMsaUJBQWlCLEVBQUVnQyxPQUFPLCtCQUErQixDQUFDO2dCQUNoRyxPQUFPdEosS0FBSyxDQUFDLEVBQUU7WUFDbkI7WUFDQSxPQUFPQTtRQUNYO0lBQ0o7SUFDQSxPQUFPMEk7QUFDWCxFQUFFO0FBQ0Y7O0NBRUMsR0FDTSxNQUFNdUwsV0FBVyxDQUFDQztJQUNyQixJQUFJLENBQUNBLEtBQ0QsT0FBTztJQUNYLElBQUksT0FBT25OLFdBQVcsYUFBYTtRQUMvQixPQUFPQSxPQUFPcUMsSUFBSSxDQUFDOEssS0FBS2pOLFFBQVEsQ0FBQztJQUNyQztJQUNBLElBQUksT0FBT2tOLFNBQVMsYUFBYTtRQUM3QixPQUFPQSxLQUFLRDtJQUNoQjtJQUNBLE1BQU0sSUFBSXRULG1EQUFXQSxDQUFDO0FBQzFCLEVBQUU7QUFDRjs7OztDQUlDLEdBQ00sTUFBTXdULGlCQUFpQixDQUFDQztJQUMzQixJQUFJLE9BQU90TixXQUFXLGFBQWE7UUFDL0IsMEJBQTBCO1FBQzFCLE1BQU11TixNQUFNdk4sT0FBT3FDLElBQUksQ0FBQ2lMLFdBQVc7UUFDbkMsT0FBT25SLE1BQU1rRyxJQUFJLENBQUMsSUFBSW1MLGFBQWFELElBQUk1TixNQUFNLEVBQUU0TixJQUFJRSxVQUFVLEVBQUVGLElBQUloTixNQUFNLEdBQUdpTixhQUFhRSxpQkFBaUI7SUFDOUcsT0FDSztRQUNELCtCQUErQjtRQUMvQixNQUFNQyxZQUFZQyxLQUFLTjtRQUN2QixNQUFNTyxNQUFNRixVQUFVcE4sTUFBTTtRQUM1QixNQUFNdU4sUUFBUSxJQUFJQyxXQUFXRjtRQUM3QixJQUFLLElBQUlHLElBQUksR0FBR0EsSUFBSUgsS0FBS0csSUFBSztZQUMxQkYsS0FBSyxDQUFDRSxFQUFFLEdBQUdMLFVBQVVNLFVBQVUsQ0FBQ0Q7UUFDcEM7UUFDQSxPQUFPN1IsTUFBTWtHLElBQUksQ0FBQyxJQUFJbUwsYUFBYU0sTUFBTW5PLE1BQU07SUFDbkQ7QUFDSixFQUFFO0FBQ0ssU0FBU3VPLE1BQU05RixHQUFHO0lBQ3JCLE9BQU9BLE9BQU8sUUFBUSxPQUFPQSxRQUFRLFlBQVksQ0FBQ2pNLE1BQU1DLE9BQU8sQ0FBQ2dNO0FBQ3BFLEVBQ0EsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2NvcmUubWpzPzIyYzciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9BYnN0cmFjdFBhZ2VfY2xpZW50O1xuaW1wb3J0IHsgVkVSU0lPTiB9IGZyb20gXCIuL3ZlcnNpb24ubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciwgQVBJRXJyb3IsIEFQSUNvbm5lY3Rpb25FcnJvciwgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciwgQVBJVXNlckFib3J0RXJyb3IsIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBraW5kIGFzIHNoaW1zS2luZCwgZ2V0RGVmYXVsdEFnZW50LCBmZXRjaCwgaW5pdCwgfSBmcm9tIFwiLi9fc2hpbXMvaW5kZXgubWpzXCI7XG4vLyB0cnkgcnVubmluZyBzaWRlIGVmZmVjdHMgb3V0c2lkZSBvZiBfc2hpbXMvaW5kZXggdG8gd29ya2Fyb3VuZCBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanMvaXNzdWVzLzc2ODgxXG5pbml0KCk7XG5pbXBvcnQgeyBpc0Jsb2JMaWtlLCBpc011bHRpcGFydEJvZHkgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IHsgbWF5YmVNdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucywgY3JlYXRlRm9ybSwgfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHJlc3BvbnNlIH0gPSBwcm9wcztcbiAgICBpZiAocHJvcHMub3B0aW9ucy5zdHJlYW0pIHtcbiAgICAgICAgZGVidWcoJ3Jlc3BvbnNlJywgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS51cmwsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAvLyBOb3RlOiB0aGVyZSBpcyBhbiBpbnZhcmlhbnQgaGVyZSB0aGF0IGlzbid0IHJlcHJlc2VudGVkIGluIHRoZSB0eXBlIHN5c3RlbVxuICAgICAgICAvLyB0aGF0IGlmIHlvdSBzZXQgYHN0cmVhbTogdHJ1ZWAgdGhlIHJlc3BvbnNlIHR5cGUgbXVzdCBhbHNvIGJlIGBTdHJlYW08VD5gXG4gICAgICAgIGlmIChwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MuZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyZWFtLmZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgcHJvcHMuY29udHJvbGxlcik7XG4gICAgfVxuICAgIC8vIGZldGNoIHJlZnVzZXMgdG8gcmVhZCB0aGUgYm9keSB3aGVuIHRoZSBzdGF0dXMgY29kZSBpcyAyMDQuXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgY29uc3QgbWVkaWFUeXBlID0gY29udGVudFR5cGU/LnNwbGl0KCc7JylbMF0/LnRyaW0oKTtcbiAgICBjb25zdCBpc0pTT04gPSBtZWRpYVR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykgfHwgbWVkaWFUeXBlPy5lbmRzV2l0aCgnK2pzb24nKTtcbiAgICBpZiAoaXNKU09OKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCBqc29uKTtcbiAgICAgICAgcmV0dXJuIF9hZGRSZXF1ZXN0SUQoanNvbiwgcmVzcG9uc2UpO1xuICAgIH1cbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgIGRlYnVnKCdyZXNwb25zZScsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UudXJsLCByZXNwb25zZS5oZWFkZXJzLCB0ZXh0KTtcbiAgICAvLyBUT0RPIGhhbmRsZSBibG9iLCBhcnJheWJ1ZmZlciwgb3RoZXIgY29udGVudCB0eXBlcywgZXRjLlxuICAgIHJldHVybiB0ZXh0O1xufVxuZnVuY3Rpb24gX2FkZFJlcXVlc3RJRCh2YWx1ZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbHVlLCAnX3JlcXVlc3RfaWQnLCB7XG4gICAgICAgIHZhbHVlOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJyksXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xufVxuLyoqXG4gKiBBIHN1YmNsYXNzIG9mIGBQcm9taXNlYCBwcm92aWRpbmcgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kc1xuICogZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIFNESy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFQSVByb21pc2UgZXh0ZW5kcyBQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihyZXNwb25zZVByb21pc2UsIHBhcnNlUmVzcG9uc2UgPSBkZWZhdWx0UGFyc2VSZXNwb25zZSkge1xuICAgICAgICBzdXBlcigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYXliZSBhIGJpdCB3ZWlyZCBidXQgdGhpcyBoYXMgdG8gYmUgYSBuby1vcCB0byBub3QgaW1wbGljaXRseVxuICAgICAgICAgICAgLy8gcGFyc2UgdGhlIHJlc3BvbnNlIGJvZHk7IGluc3RlYWQgLnRoZW4sIC5jYXRjaCwgLmZpbmFsbHkgYXJlIG92ZXJyaWRkZW5cbiAgICAgICAgICAgIC8vIHRvIHBhcnNlIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzcG9uc2VQcm9taXNlID0gcmVzcG9uc2VQcm9taXNlO1xuICAgICAgICB0aGlzLnBhcnNlUmVzcG9uc2UgPSBwYXJzZVJlc3BvbnNlO1xuICAgIH1cbiAgICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMucmVzcG9uc2VQcm9taXNlLCBhc3luYyAocHJvcHMpID0+IF9hZGRSZXF1ZXN0SUQodHJhbnNmb3JtKGF3YWl0IHRoaXMucGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzKSwgcHJvcHMucmVzcG9uc2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgICAqIGRhdGEuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAgICogaW5zdGFuY2UsIHlvdSBjYW4gdXNlIHtAbGluayB3aXRoUmVzcG9uc2UoKX0uXG4gICAgICpcbiAgICAgKiDwn5GLIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICAgKiBUcnkgc2V0dGluZyBgXCJtb2R1bGVSZXNvbHV0aW9uXCI6IFwiTm9kZU5leHRcImAgaWYgeW91IGNhbixcbiAgICAgKiBvciBhZGQgb25lIG9mIHRoZXNlIGltcG9ydHMgYmVmb3JlIHlvdXIgZmlyc3QgYGltcG9ydCDigKYgZnJvbSAnb3BlbmFpJ2A6XG4gICAgICogLSBgaW1wb3J0ICdvcGVuYWkvc2hpbXMvbm9kZSdgIChpZiB5b3UncmUgcnVubmluZyBvbiBOb2RlKVxuICAgICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL3dlYidgIChvdGhlcndpc2UpXG4gICAgICovXG4gICAgYXNSZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKHApID0+IHAucmVzcG9uc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJzZWQgcmVzcG9uc2UgZGF0YSwgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGFuZCB0aGUgSUQgb2YgdGhlIHJlcXVlc3QsXG4gICAgICogcmV0dXJuZWQgdmlhIHRoZSBYLVJlcXVlc3QtSUQgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXBvcnRpbmdcbiAgICAgKiBpc3N1ZXMgdG8gT3BlbkFJLlxuICAgICAqXG4gICAgICogSWYgeW91IGp1c3Qgd2FudCB0byBnZXQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIHdpdGhvdXQgcGFyc2luZyBpdCxcbiAgICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICAgKlxuICAgICAqXG4gICAgICog8J+RiyBHZXR0aW5nIHRoZSB3cm9uZyBUeXBlU2NyaXB0IHR5cGUgZm9yIGBSZXNwb25zZWA/XG4gICAgICogVHJ5IHNldHRpbmcgYFwibW9kdWxlUmVzb2x1dGlvblwiOiBcIk5vZGVOZXh0XCJgIGlmIHlvdSBjYW4sXG4gICAgICogb3IgYWRkIG9uZSBvZiB0aGVzZSBpbXBvcnRzIGJlZm9yZSB5b3VyIGZpcnN0IGBpbXBvcnQg4oCmIGZyb20gJ29wZW5haSdgOlxuICAgICAqIC0gYGltcG9ydCAnb3BlbmFpL3NoaW1zL25vZGUnYCAoaWYgeW91J3JlIHJ1bm5pbmcgb24gTm9kZSlcbiAgICAgKiAtIGBpbXBvcnQgJ29wZW5haS9zaGltcy93ZWInYCAob3RoZXJ3aXNlKVxuICAgICAqL1xuICAgIGFzeW5jIHdpdGhSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgW2RhdGEsIHJlc3BvbnNlXSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnBhcnNlKCksIHRoaXMuYXNSZXNwb25zZSgpXSk7XG4gICAgICAgIHJldHVybiB7IGRhdGEsIHJlc3BvbnNlLCByZXF1ZXN0X2lkOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJykgfTtcbiAgICB9XG4gICAgcGFyc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJzZWRQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFByb21pc2UgPSB0aGlzLnJlc3BvbnNlUHJvbWlzZS50aGVuKHRoaXMucGFyc2VSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkUHJvbWlzZTtcbiAgICB9XG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZSgpLnRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpO1xuICAgIH1cbiAgICBjYXRjaChvbnJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlKCkuY2F0Y2gob25yZWplY3RlZCk7XG4gICAgfVxuICAgIGZpbmFsbHkob25maW5hbGx5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlKCkuZmluYWxseShvbmZpbmFsbHkpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCwgbWF4UmV0cmllcyA9IDIsIHRpbWVvdXQgPSA2MDAwMDAsIC8vIDEwIG1pbnV0ZXNcbiAgICBodHRwQWdlbnQsIGZldGNoOiBvdmVycmlkZGVuRmV0Y2gsIH0pIHtcbiAgICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ21heFJldHJpZXMnLCBtYXhSZXRyaWVzKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCB0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5odHRwQWdlbnQgPSBodHRwQWdlbnQ7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSBvdmVycmlkZGVuRmV0Y2ggPz8gZmV0Y2g7XG4gICAgfVxuICAgIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGlzIHRvIGFkZCB5b3VyIG93biBkZWZhdWx0IGhlYWRlcnMsIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogIHtcbiAgICAgKiAgICAuLi5zdXBlci5kZWZhdWx0SGVhZGVycygpLFxuICAgICAqICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgMTIzJyxcbiAgICAgKiAgfVxuICAgICAqL1xuICAgIGRlZmF1bHRIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdVc2VyLUFnZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgICAgICAgIC4uLmdldFBsYXRmb3JtSGVhZGVycygpLFxuICAgICAgICAgICAgLi4udGhpcy5hdXRoSGVhZGVycyhvcHRzKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhpcyB0byBhZGQgeW91ciBvd24gaGVhZGVycyB2YWxpZGF0aW9uOlxuICAgICAqL1xuICAgIHZhbGlkYXRlSGVhZGVycyhoZWFkZXJzLCBjdXN0b21IZWFkZXJzKSB7IH1cbiAgICBkZWZhdWx0SWRlbXBvdGVuY3lLZXkoKSB7XG4gICAgICAgIHJldHVybiBgc3RhaW5sZXNzLW5vZGUtcmV0cnktJHt1dWlkNCgpfWA7XG4gICAgfVxuICAgIGdldChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2dldCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBwb3N0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncG9zdCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBwYXRjaChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3BhdGNoJywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHB1dChwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ3B1dCcsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBkZWxldGUocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdkZWxldGUnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgbWV0aG9kUmVxdWVzdChtZXRob2QsIHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChQcm9taXNlLnJlc29sdmUob3B0cykudGhlbihhc3luYyAob3B0cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG9wdHMgJiYgaXNCbG9iTGlrZShvcHRzPy5ib2R5KSA/IG5ldyBEYXRhVmlldyhhd2FpdCBvcHRzLmJvZHkuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgICAgICAgICA6IG9wdHM/LmJvZHkgaW5zdGFuY2VvZiBEYXRhVmlldyA/IG9wdHMuYm9keVxuICAgICAgICAgICAgICAgICAgICA6IG9wdHM/LmJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBEYXRhVmlldyhvcHRzLmJvZHkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9wdHMgJiYgQXJyYXlCdWZmZXIuaXNWaWV3KG9wdHM/LmJvZHkpID8gbmV3IERhdGFWaWV3KG9wdHMuYm9keS5idWZmZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRzPy5ib2R5O1xuICAgICAgICAgICAgcmV0dXJuIHsgbWV0aG9kLCBwYXRoLCAuLi5vcHRzLCBib2R5IH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0QVBJTGlzdChwYXRoLCBQYWdlLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RBUElMaXN0KFBhZ2UsIHsgbWV0aG9kOiAnZ2V0JywgcGF0aCwgLi4ub3B0cyB9KTtcbiAgICB9XG4gICAgY2FsY3VsYXRlQ29udGVudExlbmd0aChib2R5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5LCAndXRmOCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmNvZGVkID0gZW5jb2Rlci5lbmNvZGUoYm9keSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZWQubGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGJvZHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGJ1aWxkUmVxdWVzdChpbnB1dE9wdGlvbnMsIHsgcmV0cnlDb3VudCA9IDAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IC4uLmlucHV0T3B0aW9ucyB9O1xuICAgICAgICBjb25zdCB7IG1ldGhvZCwgcGF0aCwgcXVlcnksIGhlYWRlcnM6IGhlYWRlcnMgPSB7fSB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9keSA9IEFycmF5QnVmZmVyLmlzVmlldyhvcHRpb25zLmJvZHkpIHx8IChvcHRpb25zLl9fYmluYXJ5UmVxdWVzdCAmJiB0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAnc3RyaW5nJykgP1xuICAgICAgICAgICAgb3B0aW9ucy5ib2R5XG4gICAgICAgICAgICA6IGlzTXVsdGlwYXJ0Qm9keShvcHRpb25zLmJvZHkpID8gb3B0aW9ucy5ib2R5LmJvZHlcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuYm9keSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSwgbnVsbCwgMilcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gdGhpcy5jYWxjdWxhdGVDb250ZW50TGVuZ3RoKGJvZHkpO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmJ1aWxkVVJMKHBhdGgsIHF1ZXJ5KTtcbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRpb25zKVxuICAgICAgICAgICAgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICBvcHRpb25zLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgICAgICBjb25zdCBodHRwQWdlbnQgPSBvcHRpb25zLmh0dHBBZ2VudCA/PyB0aGlzLmh0dHBBZ2VudCA/PyBnZXREZWZhdWx0QWdlbnQodXJsKTtcbiAgICAgICAgY29uc3QgbWluQWdlbnRUaW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0ICsgMTAwMDtcbiAgICAgICAgaWYgKHR5cGVvZiBodHRwQWdlbnQ/Lm9wdGlvbnM/LnRpbWVvdXQgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBtaW5BZ2VudFRpbWVvdXQgPiAoaHR0cEFnZW50Lm9wdGlvbnMudGltZW91dCA/PyAwKSkge1xuICAgICAgICAgICAgLy8gQWxsb3cgYW55IGdpdmVuIHJlcXVlc3QgdG8gYnVtcCBvdXIgYWdlbnQgYWN0aXZlIHNvY2tldCB0aW1lb3V0LlxuICAgICAgICAgICAgLy8gVGhpcyBtYXkgc2VlbSBzdHJhbmdlLCBidXQgbGVha2luZyBhY3RpdmUgc29ja2V0cyBzaG91bGQgYmUgcmFyZSBhbmQgbm90IHBhcnRpY3VsYXJseSBwcm9ibGVtYXRpYyxcbiAgICAgICAgICAgIC8vIGFuZCB3aXRob3V0IG11dGF0aW5nIGFnZW50IHdlIHdvdWxkIG5lZWQgdG8gY3JlYXRlIG1vcmUgb2YgdGhlbS5cbiAgICAgICAgICAgIC8vIFRoaXMgdHJhZGVvZmYgb3B0aW1pemVzIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgICAgICAgIGh0dHBBZ2VudC5vcHRpb25zLnRpbWVvdXQgPSBtaW5BZ2VudFRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbXBvdGVuY3lIZWFkZXIgJiYgbWV0aG9kICE9PSAnZ2V0Jykge1xuICAgICAgICAgICAgaWYgKCFpbnB1dE9wdGlvbnMuaWRlbXBvdGVuY3lLZXkpXG4gICAgICAgICAgICAgICAgaW5wdXRPcHRpb25zLmlkZW1wb3RlbmN5S2V5ID0gdGhpcy5kZWZhdWx0SWRlbXBvdGVuY3lLZXkoKTtcbiAgICAgICAgICAgIGhlYWRlcnNbdGhpcy5pZGVtcG90ZW5jeUhlYWRlcl0gPSBpbnB1dE9wdGlvbnMuaWRlbXBvdGVuY3lLZXk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxSGVhZGVycyA9IHRoaXMuYnVpbGRIZWFkZXJzKHsgb3B0aW9ucywgaGVhZGVycywgY29udGVudExlbmd0aCwgcmV0cnlDb3VudCB9KTtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgLi4uKGJvZHkgJiYgeyBib2R5OiBib2R5IH0pLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgICAgICAgIC4uLihodHRwQWdlbnQgJiYgeyBhZ2VudDogaHR0cEFnZW50IH0pLFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBub2RlLWZldGNoIHVzZXMgYSBjdXN0b20gQWJvcnRTaWduYWwgdHlwZSB0aGF0IGlzXG4gICAgICAgICAgICAvLyBub3QgY29tcGF0aWJsZSB3aXRoIHN0YW5kYXJkIHdlYiB0eXBlc1xuICAgICAgICAgICAgc2lnbmFsOiBvcHRpb25zLnNpZ25hbCA/PyBudWxsLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyByZXEsIHVybCwgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IH07XG4gICAgfVxuICAgIGJ1aWxkSGVhZGVycyh7IG9wdGlvbnMsIGhlYWRlcnMsIGNvbnRlbnRMZW5ndGgsIHJldHJ5Q291bnQsIH0pIHtcbiAgICAgICAgY29uc3QgcmVxSGVhZGVycyA9IHt9O1xuICAgICAgICBpZiAoY29udGVudExlbmd0aCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IGNvbnRlbnRMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmYXVsdEhlYWRlcnMgPSB0aGlzLmRlZmF1bHRIZWFkZXJzKG9wdGlvbnMpO1xuICAgICAgICBhcHBseUhlYWRlcnNNdXQocmVxSGVhZGVycywgZGVmYXVsdEhlYWRlcnMpO1xuICAgICAgICBhcHBseUhlYWRlcnNNdXQocmVxSGVhZGVycywgaGVhZGVycyk7XG4gICAgICAgIC8vIGxldCBidWlsdGluIGZldGNoIHNldCB0aGUgQ29udGVudC1UeXBlIGZvciBtdWx0aXBhcnQgYm9kaWVzXG4gICAgICAgIGlmIChpc011bHRpcGFydEJvZHkob3B0aW9ucy5ib2R5KSAmJiBzaGltc0tpbmQgIT09ICdub2RlJykge1xuICAgICAgICAgICAgZGVsZXRlIHJlcUhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvbid0IHNldCB0aGVzZXMgaGVhZGVycyBpZiB0aGV5IHdlcmUgYWxyZWFkeSBzZXQgb3IgcmVtb3ZlZCB0aHJvdWdoIGRlZmF1bHQgaGVhZGVycyBvciBieSB0aGUgY2FsbGVyLlxuICAgICAgICAvLyBXZSBjaGVjayBgZGVmYXVsdEhlYWRlcnNgIGFuZCBgaGVhZGVyc2AsIHdoaWNoIGNhbiBjb250YWluIG51bGxzLCBpbnN0ZWFkIG9mIGByZXFIZWFkZXJzYCB0byBhY2NvdW50XG4gICAgICAgIC8vIGZvciB0aGUgcmVtb3ZhbCBjYXNlLlxuICAgICAgICBpZiAoZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtcmV0cnktY291bnQnKSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBnZXRIZWFkZXIoaGVhZGVycywgJ3gtc3RhaW5sZXNzLXJldHJ5LWNvdW50JykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtcmV0cnktY291bnQnXSA9IFN0cmluZyhyZXRyeUNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0SGVhZGVyKGRlZmF1bHRIZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIGdldEhlYWRlcihoZWFkZXJzLCAneC1zdGFpbmxlc3MtdGltZW91dCcpID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIG9wdGlvbnMudGltZW91dCkge1xuICAgICAgICAgICAgcmVxSGVhZGVyc1sneC1zdGFpbmxlc3MtdGltZW91dCddID0gU3RyaW5nKE1hdGgudHJ1bmMob3B0aW9ucy50aW1lb3V0IC8gMTAwMCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKHJlcUhlYWRlcnMsIGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gcmVxSGVhZGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCBhcyBhIGNhbGxiYWNrIGZvciBtdXRhdGluZyB0aGUgZ2l2ZW4gYEZpbmFsUmVxdWVzdE9wdGlvbnNgIG9iamVjdC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVwYXJlT3B0aW9ucyhvcHRpb25zKSB7IH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgUmVxdWVzdEluaXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3Ugd2FudCB0byBhZGQgY2VydGFpbiBoZWFkZXJzIGJhc2VkIG9mZiBvZlxuICAgICAqIHRoZSByZXF1ZXN0IHByb3BlcnRpZXMsIGUuZy4gYG1ldGhvZGAgb3IgYHVybGAuXG4gICAgICovXG4gICAgYXN5bmMgcHJlcGFyZVJlcXVlc3QocmVxdWVzdCwgeyB1cmwsIG9wdGlvbnMgfSkgeyB9XG4gICAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuICghaGVhZGVycyA/IHt9XG4gICAgICAgICAgICA6IFN5bWJvbC5pdGVyYXRvciBpbiBoZWFkZXJzID9cbiAgICAgICAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoQXJyYXkuZnJvbShoZWFkZXJzKS5tYXAoKGhlYWRlcikgPT4gWy4uLmhlYWRlcl0pKVxuICAgICAgICAgICAgICAgIDogeyAuLi5oZWFkZXJzIH0pO1xuICAgIH1cbiAgICBtYWtlU3RhdHVzRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gQVBJRXJyb3IuZ2VuZXJhdGUoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxuICAgIHJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgcmVtYWluaW5nUmV0cmllcykpO1xuICAgIH1cbiAgICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IG9wdGlvbnNJbnB1dDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHJpZXNSZW1haW5pbmcgPSBtYXhSZXRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgcmVxLCB1cmwsIHRpbWVvdXQgfSA9IHRoaXMuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHsgcmV0cnlDb3VudDogbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmcgfSk7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZVJlcXVlc3QocmVxLCB7IHVybCwgb3B0aW9ucyB9KTtcbiAgICAgICAgZGVidWcoJ3JlcXVlc3QnLCB1cmwsIG9wdGlvbnMsIHJlcS5oZWFkZXJzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hXaXRoVGltZW91dCh1cmwsIHJlcSwgdGltZW91dCwgY29udHJvbGxlcikuY2F0Y2goY2FzdFRvRXJyb3IpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0cmllc1JlbWFpbmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25FcnJvcih7IGNhdXNlOiByZXNwb25zZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBjcmVhdGVSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nICYmIHRoaXMuc2hvdWxkUmV0cnkocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0cnlNZXNzYWdlID0gYHJldHJ5aW5nLCAke3JldHJpZXNSZW1haW5pbmd9IGF0dGVtcHRzIHJlbWFpbmluZ2A7XG4gICAgICAgICAgICAgICAgZGVidWcoYHJlc3BvbnNlIChlcnJvcjsgJHtyZXRyeU1lc3NhZ2V9KWAsIHJlc3BvbnNlLnN0YXR1cywgdXJsLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXNwb25zZUhlYWRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoZSkgPT4gY2FzdFRvRXJyb3IoZSkubWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zdCBlcnJKU09OID0gc2FmZUpTT04oZXJyVGV4dCk7XG4gICAgICAgICAgICBjb25zdCBlcnJNZXNzYWdlID0gZXJySlNPTiA/IHVuZGVmaW5lZCA6IGVyclRleHQ7XG4gICAgICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSByZXRyaWVzUmVtYWluaW5nID8gYChlcnJvcjsgbm8gbW9yZSByZXRyaWVzIGxlZnQpYCA6IGAoZXJyb3I7IG5vdCByZXRyeWFibGUpYDtcbiAgICAgICAgICAgIGRlYnVnKGByZXNwb25zZSAoZXJyb3I7ICR7cmV0cnlNZXNzYWdlfSlgLCByZXNwb25zZS5zdGF0dXMsIHVybCwgcmVzcG9uc2VIZWFkZXJzLCBlcnJNZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IHRoaXMubWFrZVN0YXR1c0Vycm9yKHJlc3BvbnNlLnN0YXR1cywgZXJySlNPTiwgZXJyTWVzc2FnZSwgcmVzcG9uc2VIZWFkZXJzKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByZXNwb25zZSwgb3B0aW9ucywgY29udHJvbGxlciB9O1xuICAgIH1cbiAgICByZXF1ZXN0QVBJTGlzdChQYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IFBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICAgIH1cbiAgICBidWlsZFVSTChwYXRoLCBxdWVyeSkge1xuICAgICAgICBjb25zdCB1cmwgPSBpc0Fic29sdXRlVVJMKHBhdGgpID9cbiAgICAgICAgICAgIG5ldyBVUkwocGF0aClcbiAgICAgICAgICAgIDogbmV3IFVSTCh0aGlzLmJhc2VVUkwgKyAodGhpcy5iYXNlVVJMLmVuZHNXaXRoKCcvJykgJiYgcGF0aC5zdGFydHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDEpIDogcGF0aCkpO1xuICAgICAgICBjb25zdCBkZWZhdWx0UXVlcnkgPSB0aGlzLmRlZmF1bHRRdWVyeSgpO1xuICAgICAgICBpZiAoIWlzRW1wdHlPYmooZGVmYXVsdFF1ZXJ5KSkge1xuICAgICAgICAgICAgcXVlcnkgPSB7IC4uLmRlZmF1bHRRdWVyeSwgLi4ucXVlcnkgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0JyAmJiBxdWVyeSAmJiAhQXJyYXkuaXNBcnJheShxdWVyeSkpIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2ggPSB0aGlzLnN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhxdWVyeSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtfLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGtleSl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDYW5ub3Qgc3RyaW5naWZ5IHR5cGUgJHt0eXBlb2YgdmFsdWV9OyBFeHBlY3RlZCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb3IgbnVsbC4gSWYgeW91IG5lZWQgdG8gcGFzcyBuZXN0ZWQgcXVlcnkgcGFyYW1ldGVycywgeW91IGNhbiBtYW51YWxseSBlbmNvZGUgdGhlbSwgZS5nLiB7IHF1ZXJ5OiB7ICdmb29ba2V5MV0nOiB2YWx1ZTEsICdmb29ba2V5Ml0nOiB2YWx1ZTIgfSB9LCBhbmQgcGxlYXNlIG9wZW4gYSBHaXRIdWIgaXNzdWUgcmVxdWVzdGluZyBiZXR0ZXIgc3VwcG9ydCBmb3IgeW91ciB1c2UgY2FzZS5gKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcmJyk7XG4gICAgfVxuICAgIGFzeW5jIGZldGNoV2l0aFRpbWVvdXQodXJsLCBpbml0LCBtcywgY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCB7IHNpZ25hbCwgLi4ub3B0aW9ucyB9ID0gaW5pdCB8fCB7fTtcbiAgICAgICAgaWYgKHNpZ25hbClcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuICAgICAgICBjb25zdCBmZXRjaE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGZldGNoT3B0aW9ucy5tZXRob2QpIHtcbiAgICAgICAgICAgIC8vIEN1c3RvbSBtZXRob2RzIGxpa2UgJ3BhdGNoJyBuZWVkIHRvIGJlIHVwcGVyY2FzZWRcbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3VuZGljaS9pc3N1ZXMvMjI5NFxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zLm1ldGhvZCA9IGZldGNoT3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyB1c2UgdW5kZWZpbmVkIHRoaXMgYmluZGluZzsgZmV0Y2ggZXJyb3JzIGlmIGJvdW5kIHRvIHNvbWV0aGluZyBlbHNlIGluIGJyb3dzZXIvY2xvdWRmbGFyZVxuICAgICAgICB0aGlzLmZldGNoLmNhbGwodW5kZWZpbmVkLCB1cmwsIGZldGNoT3B0aW9ucykuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2hvdWxkUmV0cnkocmVzcG9uc2UpIHtcbiAgICAgICAgLy8gTm90ZSB0aGlzIGlzIG5vdCBhIHN0YW5kYXJkIGhlYWRlci5cbiAgICAgICAgY29uc3Qgc2hvdWxkUmV0cnlIZWFkZXIgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1zaG91bGQtcmV0cnknKTtcbiAgICAgICAgLy8gSWYgdGhlIHNlcnZlciBleHBsaWNpdGx5IHNheXMgd2hldGhlciBvciBub3QgdG8gcmV0cnksIG9iZXkuXG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChzaG91bGRSZXRyeUhlYWRlciA9PT0gJ2ZhbHNlJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gUmV0cnkgb24gcmVxdWVzdCB0aW1lb3V0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA4KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IG9uIGxvY2sgdGltZW91dHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBvbiByYXRlIGxpbWl0cy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDI5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIFJldHJ5IGludGVybmFsIGVycm9ycy5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA1MDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyByZXRyeVJlcXVlc3Qob3B0aW9ucywgcmV0cmllc1JlbWFpbmluZywgcmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0aW1lb3V0TWlsbGlzO1xuICAgICAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LlsncmV0cnktYWZ0ZXItbXMnXTtcbiAgICAgICAgaWYgKHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1pbGxpc0hlYWRlcik7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRNcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICAgICAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uWydyZXRyeS1hZnRlciddO1xuICAgICAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXJIZWFkZXIpIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgQVBJIGFza3MgdXMgdG8gd2FpdCBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUgKGFuZCBpdCdzIGEgcmVhc29uYWJsZSBhbW91bnQpLFxuICAgICAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgICAgIGlmICghKHRpbWVvdXRNaWxsaXMgJiYgMCA8PSB0aW1lb3V0TWlsbGlzICYmIHRpbWVvdXRNaWxsaXMgPCA2MCAqIDEwMDApKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcgLSAxKTtcbiAgICB9XG4gICAgY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyhyZXRyaWVzUmVtYWluaW5nLCBtYXhSZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxSZXRyeURlbGF5ID0gMC41O1xuICAgICAgICBjb25zdCBtYXhSZXRyeURlbGF5ID0gOC4wO1xuICAgICAgICBjb25zdCBudW1SZXRyaWVzID0gbWF4UmV0cmllcyAtIHJldHJpZXNSZW1haW5pbmc7XG4gICAgICAgIC8vIEFwcGx5IGV4cG9uZW50aWFsIGJhY2tvZmYsIGJ1dCBub3QgbW9yZSB0aGFuIHRoZSBtYXguXG4gICAgICAgIGNvbnN0IHNsZWVwU2Vjb25kcyA9IE1hdGgubWluKGluaXRpYWxSZXRyeURlbGF5ICogTWF0aC5wb3coMiwgbnVtUmV0cmllcyksIG1heFJldHJ5RGVsYXkpO1xuICAgICAgICAvLyBBcHBseSBzb21lIGppdHRlciwgdGFrZSB1cCB0byBhdCBtb3N0IDI1IHBlcmNlbnQgb2YgdGhlIHJldHJ5IHRpbWUuXG4gICAgICAgIGNvbnN0IGppdHRlciA9IDEgLSBNYXRoLnJhbmRvbSgpICogMC4yNTtcbiAgICAgICAgcmV0dXJuIHNsZWVwU2Vjb25kcyAqIGppdHRlciAqIDEwMDA7XG4gICAgfVxuICAgIGdldFVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBfQWJzdHJhY3RQYWdlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgY2xpZW50LCBcImZcIik7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICB9XG4gICAgaGFzTmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5nZXRQYWdpbmF0ZWRJdGVtcygpO1xuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VJbmZvKCkgIT0gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TmV4dFBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICAgICAgaWYgKCFuZXh0SW5mbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dE9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9O1xuICAgICAgICBpZiAoJ3BhcmFtcycgaW4gbmV4dEluZm8gJiYgdHlwZW9mIG5leHRPcHRpb25zLnF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbmV4dE9wdGlvbnMucXVlcnkgPSB7IC4uLm5leHRPcHRpb25zLnF1ZXJ5LCAuLi5uZXh0SW5mby5wYXJhbXMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgndXJsJyBpbiBuZXh0SW5mbykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gWy4uLk9iamVjdC5lbnRyaWVzKG5leHRPcHRpb25zLnF1ZXJ5IHx8IHt9KSwgLi4ubmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5lbnRyaWVzKCldO1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZm8udXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0T3B0aW9ucy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5leHRPcHRpb25zLnBhdGggPSBuZXh0SW5mby51cmwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RQYWdlX2NsaWVudCwgXCJmXCIpLnJlcXVlc3RBUElMaXN0KHRoaXMuY29uc3RydWN0b3IsIG5leHRPcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgKml0ZXJQYWdlcygpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgIGxldCBwYWdlID0gdGhpcztcbiAgICAgICAgeWllbGQgcGFnZTtcbiAgICAgICAgd2hpbGUgKHBhZ2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgcGFnZSA9IGF3YWl0IHBhZ2UuZ2V0TmV4dFBhZ2UoKTtcbiAgICAgICAgICAgIHlpZWxkIHBhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgKlsoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2UgZXh0ZW5kcyBBUElQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlcXVlc3QsIFBhZ2UpIHtcbiAgICAgICAgc3VwZXIocmVxdWVzdCwgYXN5bmMgKHByb3BzKSA9PiBuZXcgUGFnZShjbGllbnQsIHByb3BzLnJlc3BvbnNlLCBhd2FpdCBkZWZhdWx0UGFyc2VSZXNwb25zZShwcm9wcyksIHByb3BzLm9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAgICAgKlxuICAgICAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gICAgICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgICAqICAgIH1cbiAgICAgKi9cbiAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHRoaXM7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc3BvbnNlSGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGhlYWRlcnMuZW50cmllcygpKSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleS50b0xvd2VyQ2FzZSgpXSB8fCB0YXJnZXRba2V5XTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG4vLyBUaGlzIGlzIHJlcXVpcmVkIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSBpZiBhIGdpdmVuIG9iamVjdCBtYXRjaGVzIHRoZSBSZXF1ZXN0T3B0aW9uc1xuLy8gdHlwZSBhdCBydW50aW1lLiBXaGlsZSB0aGlzIHJlcXVpcmVzIGR1cGxpY2F0aW9uLCBpdCBpcyBlbmZvcmNlZCBieSB0aGUgVHlwZVNjcmlwdFxuLy8gY29tcGlsZXIgc3VjaCB0aGF0IGFueSBtaXNzaW5nIC8gZXh0cmFuZW91cyBrZXlzIHdpbGwgY2F1c2UgYW4gZXJyb3IuXG5jb25zdCByZXF1ZXN0T3B0aW9uc0tleXMgPSB7XG4gICAgbWV0aG9kOiB0cnVlLFxuICAgIHBhdGg6IHRydWUsXG4gICAgcXVlcnk6IHRydWUsXG4gICAgYm9keTogdHJ1ZSxcbiAgICBoZWFkZXJzOiB0cnVlLFxuICAgIG1heFJldHJpZXM6IHRydWUsXG4gICAgc3RyZWFtOiB0cnVlLFxuICAgIHRpbWVvdXQ6IHRydWUsXG4gICAgaHR0cEFnZW50OiB0cnVlLFxuICAgIHNpZ25hbDogdHJ1ZSxcbiAgICBpZGVtcG90ZW5jeUtleTogdHJ1ZSxcbiAgICBfX21ldGFkYXRhOiB0cnVlLFxuICAgIF9fYmluYXJ5UmVxdWVzdDogdHJ1ZSxcbiAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgIF9fc3RyZWFtQ2xhc3M6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGlzUmVxdWVzdE9wdGlvbnMgPSAob2JqKSA9PiB7XG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBvYmogIT09IG51bGwgJiZcbiAgICAgICAgIWlzRW1wdHlPYmoob2JqKSAmJlxuICAgICAgICBPYmplY3Qua2V5cyhvYmopLmV2ZXJ5KChrKSA9PiBoYXNPd24ocmVxdWVzdE9wdGlvbnNLZXlzLCBrKSkpO1xufTtcbmNvbnN0IGdldFBsYXRmb3JtUHJvcGVydGllcyA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnICYmIERlbm8uYnVpbGQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiBub3JtYWxpemVQbGF0Zm9ybShEZW5vLmJ1aWxkLm9zKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1BcmNoJzogbm9ybWFsaXplQXJjaChEZW5vLmJ1aWxkLmFyY2gpLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZGVubycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogdHlwZW9mIERlbm8udmVyc2lvbiA9PT0gJ3N0cmluZycgPyBEZW5vLnZlcnNpb24gOiBEZW5vLnZlcnNpb24/LmRlbm8gPz8gJ3Vua25vd24nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIEVkZ2VSdW50aW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUxhbmcnOiAnanMnLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtT1MnOiAnVW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IGBvdGhlcjoke0VkZ2VSdW50aW1lfWAsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdlZGdlJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIE5vZGUuanNcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKHByb2Nlc3MucGxhdGZvcm0pLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKHByb2Nlc3MuYXJjaCksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBwcm9jZXNzLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgICBpZiAoYnJvd3NlckluZm8pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIENsb3VkZmxhcmUgd29ya2VycywgZXRjLlxuICAgIHJldHVybiB7XG4gICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogJ3Vua25vd24nLFxuICAgIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoZSBvcmRlciBtYXR0ZXJzIGhlcmUhXG4gICAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgICAgICB7IGtleTogJ2VkZ2UnLCBwYXR0ZXJuOiAvRWRnZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2llJywgcGF0dGVybjogL01TSUUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnY2hyb21lJywgcGF0dGVybjogL0Nocm9tZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2ZpcmVmb3gnLCBwYXR0ZXJuOiAvRmlyZWZveCg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgICBdO1xuICAgIC8vIEZpbmQgdGhlIEZJUlNUIG1hdGNoaW5nIGJyb3dzZXJcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ham9yID0gbWF0Y2hbMV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yID0gbWF0Y2hbMl0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbWF0Y2hbM10gfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB7IGJyb3dzZXI6IGtleSwgdmVyc2lvbjogYCR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9YCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY29uc3Qgbm9ybWFsaXplQXJjaCA9IChhcmNoKSA9PiB7XG4gICAgLy8gTm9kZSBkb2NzOlxuICAgIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc2FyY2hcbiAgICAvLyBEZW5vIGRvY3M6XG4gICAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gICAgaWYgKGFyY2ggPT09ICd4MzInKVxuICAgICAgICByZXR1cm4gJ3gzMic7XG4gICAgaWYgKGFyY2ggPT09ICd4ODZfNjQnIHx8IGFyY2ggPT09ICd4NjQnKVxuICAgICAgICByZXR1cm4gJ3g2NCc7XG4gICAgaWYgKGFyY2ggPT09ICdhcm0nKVxuICAgICAgICByZXR1cm4gJ2FybSc7XG4gICAgaWYgKGFyY2ggPT09ICdhYXJjaDY0JyB8fCBhcmNoID09PSAnYXJtNjQnKVxuICAgICAgICByZXR1cm4gJ2FybTY0JztcbiAgICBpZiAoYXJjaClcbiAgICAgICAgcmV0dXJuIGBvdGhlcjoke2FyY2h9YDtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gICAgLy8gTm9kZSBwbGF0Zm9ybXM6XG4gICAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzcGxhdGZvcm1cbiAgICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kZW5vbGFuZC9kZW5vL2lzc3Vlcy8xNDc5OVxuICAgIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgICAvLyBOT1RFOiB0aGlzIGlPUyBjaGVjayBpcyB1bnRlc3RlZCBhbmQgbWF5IG5vdCB3b3JrXG4gICAgLy8gTm9kZSBkb2VzIG5vdCB3b3JrIG5hdGl2ZWx5IG9uIElPUywgdGhlcmUgaXMgYSBmb3JrIGF0XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAgIC8vIGhvd2V2ZXIgaXQgaXMgdW5rbm93biBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGhvdyB0byBkZXRlY3QgaWYgaXQgaXMgcnVubmluZ1xuICAgIGlmIChwbGF0Zm9ybS5pbmNsdWRlcygnaW9zJykpXG4gICAgICAgIHJldHVybiAnaU9TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJylcbiAgICAgICAgcmV0dXJuICdBbmRyb2lkJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKVxuICAgICAgICByZXR1cm4gJ01hY09TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpXG4gICAgICAgIHJldHVybiAnV2luZG93cyc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpXG4gICAgICAgIHJldHVybiAnRnJlZUJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnb3BlbmJzZCcpXG4gICAgICAgIHJldHVybiAnT3BlbkJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnbGludXgnKVxuICAgICAgICByZXR1cm4gJ0xpbnV4JztcbiAgICBpZiAocGxhdGZvcm0pXG4gICAgICAgIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICAgIHJldHVybiAnVW5rbm93bic7XG59O1xubGV0IF9wbGF0Zm9ybUhlYWRlcnM7XG5jb25zdCBnZXRQbGF0Zm9ybUhlYWRlcnMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChfcGxhdGZvcm1IZWFkZXJzID8/IChfcGxhdGZvcm1IZWFkZXJzID0gZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzKCkpKTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUpTT04gPSAodGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXNjaGVtZS1zdHJpbmdcbmNvbnN0IHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAgPSAvXlthLXpdW2EtejAtOSsuLV0qOi9pO1xuY29uc3QgaXNBYnNvbHV0ZVVSTCA9ICh1cmwpID0+IHtcbiAgICByZXR1cm4gc3RhcnRzV2l0aFNjaGVtZVJlZ2V4cC50ZXN0KHVybCk7XG59O1xuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuY29uc3QgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIgPSAobmFtZSwgbikgPT4ge1xuICAgIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgIU51bWJlci5pc0ludGVnZXIobikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYW4gaW50ZWdlcmApO1xuICAgIH1cbiAgICBpZiAobiA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGAke25hbWV9IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyYCk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufTtcbmV4cG9ydCBjb25zdCBjYXN0VG9FcnJvciA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgaWYgKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmIGVyciAhPT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7IH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcihlcnIpO1xufTtcbmV4cG9ydCBjb25zdCBlbnN1cmVQcmVzZW50ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBSZWFkIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLlxuICpcbiAqIFRyaW1zIGJlZ2lubmluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBXaWxsIHJldHVybiB1bmRlZmluZWQgaWYgdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIGRvZXNuJ3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlxuICovXG5leHBvcnQgY29uc3QgcmVhZEVudiA9IChlbnYpID0+IHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmVudj8uW2Vudl0/LnRyaW0oKSA/PyB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRGVubyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIERlbm8uZW52Py5nZXQ/LihlbnYpPy50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuZXhwb3J0IGNvbnN0IGNvZXJjZUludGVnZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUZsb2F0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUJvb2xlYW4odmFsdWUpO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MTI4N1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqKSB7XG4gICAgaWYgKCFvYmopXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAoY29uc3QgX2sgaW4gb2JqKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG4vKipcbiAqIENvcGllcyBoZWFkZXJzIGZyb20gXCJuZXdIZWFkZXJzXCIgb250byBcInRhcmdldEhlYWRlcnNcIixcbiAqIHVzaW5nIGxvd2VyLWNhc2UgZm9yIGFsbCBwcm9wZXJ0aWVzLFxuICogaWdub3JpbmcgYW55IGtleXMgd2l0aCB1bmRlZmluZWQgdmFsdWVzLFxuICogYW5kIGRlbGV0aW5nIGFueSBrZXlzIHdpdGggbnVsbCB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5SGVhZGVyc011dCh0YXJnZXRIZWFkZXJzLCBuZXdIZWFkZXJzKSB7XG4gICAgZm9yIChjb25zdCBrIGluIG5ld0hlYWRlcnMpIHtcbiAgICAgICAgaWYgKCFoYXNPd24obmV3SGVhZGVycywgaykpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbG93ZXJLZXkgPSBrLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghbG93ZXJLZXkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgdmFsID0gbmV3SGVhZGVyc1trXTtcbiAgICAgICAgaWYgKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldEhlYWRlcnNbbG93ZXJLZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXJnZXRIZWFkZXJzW2xvd2VyS2V5XSA9IHZhbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IFNFTlNJVElWRV9IRUFERVJTID0gbmV3IFNldChbJ2F1dGhvcml6YXRpb24nLCAnYXBpLWtleSddKTtcbmV4cG9ydCBmdW5jdGlvbiBkZWJ1ZyhhY3Rpb24sIC4uLmFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3M/LmVudj8uWydERUJVRyddID09PSAndHJ1ZScpIHtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRBcmdzID0gYXJncy5tYXAoKGFyZykgPT4ge1xuICAgICAgICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIHJlcXVlc3QgYm9keSAnaGVhZGVycycgb2JqZWN0XG4gICAgICAgICAgICBpZiAoYXJnWydoZWFkZXJzJ10pIHtcbiAgICAgICAgICAgICAgICAvLyBjbG9uZSBzbyB3ZSBkb24ndCBtdXRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZEFyZyA9IHsgLi4uYXJnLCBoZWFkZXJzOiB7IC4uLmFyZ1snaGVhZGVycyddIH0gfTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmdbJ2hlYWRlcnMnXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoU0VOU0lUSVZFX0hFQURFUlMuaGFzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBcmdbJ2hlYWRlcnMnXVtoZWFkZXJdID0gJ1JFREFDVEVEJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kaWZpZWRBcmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbW9kaWZpZWRBcmcgPSBudWxsO1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNlbnNpdGl2ZSBoZWFkZXJzIGluIGhlYWRlcnMgb2JqZWN0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBpbiBhcmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoU0VOU0lUSVZFX0hFQURFUlMuaGFzKGhlYWRlci50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBtYWtpbmcgYSBjb3B5IHVudGlsIHdlIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRBcmcgPz8gKG1vZGlmaWVkQXJnID0geyAuLi5hcmcgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQXJnW2hlYWRlcl0gPSAnUkVEQUNURUQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllZEFyZyA/PyBhcmc7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhgT3BlbkFJOkRFQlVHOiR7YWN0aW9ufWAsIC4uLm1vZGlmaWVkQXJncyk7XG4gICAgfVxufVxuLyoqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuICovXG5jb25zdCB1dWlkNCA9ICgpID0+IHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICBjb25zdCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKTtcbn07XG5leHBvcnQgY29uc3QgaXNIZWFkZXJzUHJvdG9jb2wgPSAoaGVhZGVycykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgaGVhZGVycz8uZ2V0ID09PSAnZnVuY3Rpb24nO1xufTtcbmV4cG9ydCBjb25zdCBnZXRSZXF1aXJlZEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBmb3VuZEhlYWRlciA9IGdldEhlYWRlcihoZWFkZXJzLCBoZWFkZXIpO1xuICAgIGlmIChmb3VuZEhlYWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgJHtoZWFkZXJ9IGhlYWRlcmApO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmRIZWFkZXI7XG59O1xuZXhwb3J0IGNvbnN0IGdldEhlYWRlciA9IChoZWFkZXJzLCBoZWFkZXIpID0+IHtcbiAgICBjb25zdCBsb3dlckNhc2VkSGVhZGVyID0gaGVhZGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGlzSGVhZGVyc1Byb3RvY29sKGhlYWRlcnMpKSB7XG4gICAgICAgIC8vIHRvIGRlYWwgd2l0aCB0aGUgY2FzZSB3aGVyZSB0aGUgaGVhZGVyIGxvb2tzIGxpa2UgU3RhaW5sZXNzLUV2ZW50LUlkXG4gICAgICAgIGNvbnN0IGludGVyY2Fwc0hlYWRlciA9IGhlYWRlclswXT8udG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICBoZWFkZXIuc3Vic3RyaW5nKDEpLnJlcGxhY2UoLyhbXlxcd10pKFxcdykvZywgKF9tLCBnMSwgZzIpID0+IGcxICsgZzIudG9VcHBlckNhc2UoKSk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIFtoZWFkZXIsIGxvd2VyQ2FzZWRIZWFkZXIsIGhlYWRlci50b1VwcGVyQ2FzZSgpLCBpbnRlcmNhcHNIZWFkZXJdKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGhlYWRlcnMuZ2V0KGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpIHtcbiAgICAgICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpID09PSBsb3dlckNhc2VkSGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkICR7dmFsdWUubGVuZ3RofSBlbnRyaWVzIGZvciB0aGUgJHtoZWFkZXJ9IGhlYWRlciwgdXNpbmcgdGhlIGZpcnN0IGVudHJ5LmApO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8qKlxuICogRW5jb2RlcyBhIHN0cmluZyB0byBCYXNlNjQgZm9ybWF0LlxuICovXG5leHBvcnQgY29uc3QgdG9CYXNlNjQgPSAoc3RyKSA9PiB7XG4gICAgaWYgKCFzdHIpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHN0cikudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBidG9hKHN0cik7XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGdlbmVyYXRlIGI2NCBzdHJpbmc7IEV4cGVjdGVkIGBCdWZmZXJgIG9yIGBidG9hYCB0byBiZSBkZWZpbmVkJyk7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byBhIEZsb2F0MzJBcnJheS5cbiAqIEBwYXJhbSBiYXNlNjRTdHIgLSBUaGUgQmFzZTY0IGVuY29kZWQgc3RyaW5nLlxuICogQHJldHVybnMgQW4gQXJyYXkgb2YgbnVtYmVycyBpbnRlcnByZXRlZCBhcyBGbG9hdDMyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvRmxvYXQzMkFycmF5ID0gKGJhc2U2NFN0cikgPT4ge1xuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICAgICAgICBjb25zdCBidWYgPSBCdWZmZXIuZnJvbShiYXNlNjRTdHIsICdiYXNlNjQnKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IEZsb2F0MzJBcnJheShidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmxlbmd0aCAvIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gZm9yIGxlZ2FjeSB3ZWIgcGxhdGZvcm0gQVBJc1xuICAgICAgICBjb25zdCBiaW5hcnlTdHIgPSBhdG9iKGJhc2U2NFN0cik7XG4gICAgICAgIGNvbnN0IGxlbiA9IGJpbmFyeVN0ci5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgRmxvYXQzMkFycmF5KGJ5dGVzLmJ1ZmZlcikpO1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gaXNPYmoob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLm1qcy5tYXAiXSwibmFtZXMiOlsiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInJlY2VpdmVyIiwic3RhdGUiLCJ2YWx1ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJnZXQiLCJfQWJzdHJhY3RQYWdlX2NsaWVudCIsIlZFUlNJT04iLCJTdHJlYW0iLCJPcGVuQUlFcnJvciIsIkFQSUVycm9yIiwiQVBJQ29ubmVjdGlvbkVycm9yIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwic2hpbXNLaW5kIiwiZ2V0RGVmYXVsdEFnZW50IiwiZmV0Y2giLCJpbml0IiwiaXNCbG9iTGlrZSIsImlzTXVsdGlwYXJ0Qm9keSIsIm1heWJlTXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIiwibXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIiwiY3JlYXRlRm9ybSIsImRlZmF1bHRQYXJzZVJlc3BvbnNlIiwicHJvcHMiLCJyZXNwb25zZSIsIm9wdGlvbnMiLCJzdHJlYW0iLCJkZWJ1ZyIsInN0YXR1cyIsInVybCIsImhlYWRlcnMiLCJib2R5IiwiX19zdHJlYW1DbGFzcyIsImZyb21TU0VSZXNwb25zZSIsImNvbnRyb2xsZXIiLCJfX2JpbmFyeVJlc3BvbnNlIiwiY29udGVudFR5cGUiLCJtZWRpYVR5cGUiLCJzcGxpdCIsInRyaW0iLCJpc0pTT04iLCJpbmNsdWRlcyIsImVuZHNXaXRoIiwianNvbiIsIl9hZGRSZXF1ZXN0SUQiLCJ0ZXh0IiwiQXJyYXkiLCJpc0FycmF5IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiQVBJUHJvbWlzZSIsIlByb21pc2UiLCJjb25zdHJ1Y3RvciIsInJlc3BvbnNlUHJvbWlzZSIsInBhcnNlUmVzcG9uc2UiLCJyZXNvbHZlIiwiX3RoZW5VbndyYXAiLCJ0cmFuc2Zvcm0iLCJhc1Jlc3BvbnNlIiwidGhlbiIsInAiLCJ3aXRoUmVzcG9uc2UiLCJkYXRhIiwiYWxsIiwicGFyc2UiLCJyZXF1ZXN0X2lkIiwicGFyc2VkUHJvbWlzZSIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsImNhdGNoIiwiZmluYWxseSIsIm9uZmluYWxseSIsIkFQSUNsaWVudCIsImJhc2VVUkwiLCJtYXhSZXRyaWVzIiwidGltZW91dCIsImh0dHBBZ2VudCIsIm92ZXJyaWRkZW5GZXRjaCIsInZhbGlkYXRlUG9zaXRpdmVJbnRlZ2VyIiwiYXV0aEhlYWRlcnMiLCJvcHRzIiwiZGVmYXVsdEhlYWRlcnMiLCJBY2NlcHQiLCJnZXRVc2VyQWdlbnQiLCJnZXRQbGF0Zm9ybUhlYWRlcnMiLCJ2YWxpZGF0ZUhlYWRlcnMiLCJjdXN0b21IZWFkZXJzIiwiZGVmYXVsdElkZW1wb3RlbmN5S2V5IiwidXVpZDQiLCJwYXRoIiwibWV0aG9kUmVxdWVzdCIsInBvc3QiLCJwYXRjaCIsInB1dCIsImRlbGV0ZSIsIm1ldGhvZCIsInJlcXVlc3QiLCJEYXRhVmlldyIsImFycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJidWZmZXIiLCJnZXRBUElMaXN0IiwiUGFnZSIsInJlcXVlc3RBUElMaXN0IiwiY2FsY3VsYXRlQ29udGVudExlbmd0aCIsIkJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJ0b1N0cmluZyIsIlRleHRFbmNvZGVyIiwiZW5jb2RlciIsImVuY29kZWQiLCJlbmNvZGUiLCJsZW5ndGgiLCJidWlsZFJlcXVlc3QiLCJpbnB1dE9wdGlvbnMiLCJyZXRyeUNvdW50IiwicXVlcnkiLCJfX2JpbmFyeVJlcXVlc3QiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udGVudExlbmd0aCIsImJ1aWxkVVJMIiwibWluQWdlbnRUaW1lb3V0IiwiaWRlbXBvdGVuY3lIZWFkZXIiLCJpZGVtcG90ZW5jeUtleSIsInJlcUhlYWRlcnMiLCJidWlsZEhlYWRlcnMiLCJyZXEiLCJhZ2VudCIsInNpZ25hbCIsImFwcGx5SGVhZGVyc011dCIsImdldEhlYWRlciIsInVuZGVmaW5lZCIsIlN0cmluZyIsIk1hdGgiLCJ0cnVuYyIsInByZXBhcmVPcHRpb25zIiwicHJlcGFyZVJlcXVlc3QiLCJwYXJzZUhlYWRlcnMiLCJTeW1ib2wiLCJpdGVyYXRvciIsImZyb21FbnRyaWVzIiwiZnJvbSIsIm1hcCIsImhlYWRlciIsIm1ha2VTdGF0dXNFcnJvciIsImVycm9yIiwibWVzc2FnZSIsImdlbmVyYXRlIiwicmVtYWluaW5nUmV0cmllcyIsIm1ha2VSZXF1ZXN0Iiwib3B0aW9uc0lucHV0IiwicmV0cmllc1JlbWFpbmluZyIsImFib3J0ZWQiLCJBYm9ydENvbnRyb2xsZXIiLCJmZXRjaFdpdGhUaW1lb3V0IiwiY2FzdFRvRXJyb3IiLCJFcnJvciIsInJldHJ5UmVxdWVzdCIsIm5hbWUiLCJjYXVzZSIsInJlc3BvbnNlSGVhZGVycyIsImNyZWF0ZVJlc3BvbnNlSGVhZGVycyIsIm9rIiwic2hvdWxkUmV0cnkiLCJyZXRyeU1lc3NhZ2UiLCJlcnJUZXh0IiwiZSIsImVyckpTT04iLCJzYWZlSlNPTiIsImVyck1lc3NhZ2UiLCJlcnIiLCJQYWdlUHJvbWlzZSIsImlzQWJzb2x1dGVVUkwiLCJVUkwiLCJzdGFydHNXaXRoIiwic2xpY2UiLCJkZWZhdWx0UXVlcnkiLCJpc0VtcHR5T2JqIiwic2VhcmNoIiwic3RyaW5naWZ5UXVlcnkiLCJlbnRyaWVzIiwiZmlsdGVyIiwiXyIsImtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJtcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhYm9ydCIsInNldFRpbWVvdXQiLCJmZXRjaE9wdGlvbnMiLCJ0b1VwcGVyQ2FzZSIsImNsZWFyVGltZW91dCIsInNob3VsZFJldHJ5SGVhZGVyIiwidGltZW91dE1pbGxpcyIsInJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIiLCJ0aW1lb3V0TXMiLCJwYXJzZUZsb2F0IiwiTnVtYmVyIiwiaXNOYU4iLCJyZXRyeUFmdGVySGVhZGVyIiwidGltZW91dFNlY29uZHMiLCJEYXRlIiwibm93IiwiY2FsY3VsYXRlRGVmYXVsdFJldHJ5VGltZW91dE1pbGxpcyIsInNsZWVwIiwiaW5pdGlhbFJldHJ5RGVsYXkiLCJtYXhSZXRyeURlbGF5IiwibnVtUmV0cmllcyIsInNsZWVwU2Vjb25kcyIsIm1pbiIsInBvdyIsImppdHRlciIsInJhbmRvbSIsIkFic3RyYWN0UGFnZSIsImNsaWVudCIsImhhc05leHRQYWdlIiwiaXRlbXMiLCJnZXRQYWdpbmF0ZWRJdGVtcyIsIm5leHRQYWdlSW5mbyIsImdldE5leHRQYWdlIiwibmV4dEluZm8iLCJuZXh0T3B0aW9ucyIsInBhcmFtcyIsInNlYXJjaFBhcmFtcyIsIml0ZXJQYWdlcyIsInBhZ2UiLCJXZWFrTWFwIiwiYXN5bmNJdGVyYXRvciIsIml0ZW0iLCJQcm94eSIsInRhcmdldCIsInRvTG93ZXJDYXNlIiwicmVxdWVzdE9wdGlvbnNLZXlzIiwiX19tZXRhZGF0YSIsImlzUmVxdWVzdE9wdGlvbnMiLCJvYmoiLCJrZXlzIiwiZXZlcnkiLCJrIiwiaGFzT3duIiwiZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzIiwiRGVubyIsImJ1aWxkIiwibm9ybWFsaXplUGxhdGZvcm0iLCJvcyIsIm5vcm1hbGl6ZUFyY2giLCJhcmNoIiwidmVyc2lvbiIsImRlbm8iLCJFZGdlUnVudGltZSIsInByb2Nlc3MiLCJwcm90b3R5cGUiLCJwbGF0Zm9ybSIsImJyb3dzZXJJbmZvIiwiZ2V0QnJvd3NlckluZm8iLCJicm93c2VyIiwibmF2aWdhdG9yIiwiYnJvd3NlclBhdHRlcm5zIiwicGF0dGVybiIsIm1hdGNoIiwiZXhlYyIsInVzZXJBZ2VudCIsIm1ham9yIiwibWlub3IiLCJfcGxhdGZvcm1IZWFkZXJzIiwic3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCIsInRlc3QiLCJuIiwiaXNJbnRlZ2VyIiwiZW5zdXJlUHJlc2VudCIsInJlYWRFbnYiLCJlbnYiLCJjb2VyY2VJbnRlZ2VyIiwicm91bmQiLCJwYXJzZUludCIsImNvZXJjZUZsb2F0IiwiY29lcmNlQm9vbGVhbiIsIkJvb2xlYW4iLCJtYXliZUNvZXJjZUludGVnZXIiLCJtYXliZUNvZXJjZUZsb2F0IiwibWF5YmVDb2VyY2VCb29sZWFuIiwiX2siLCJoYXNPd25Qcm9wZXJ0eSIsInRhcmdldEhlYWRlcnMiLCJuZXdIZWFkZXJzIiwibG93ZXJLZXkiLCJ2YWwiLCJTRU5TSVRJVkVfSEVBREVSUyIsIlNldCIsImFjdGlvbiIsImFyZ3MiLCJtb2RpZmllZEFyZ3MiLCJhcmciLCJtb2RpZmllZEFyZyIsImNvbnNvbGUiLCJsb2ciLCJyZXBsYWNlIiwiYyIsInIiLCJ2IiwiaXNSdW5uaW5nSW5Ccm93c2VyIiwid2luZG93IiwiZG9jdW1lbnQiLCJpc0hlYWRlcnNQcm90b2NvbCIsImdldFJlcXVpcmVkSGVhZGVyIiwiZm91bmRIZWFkZXIiLCJsb3dlckNhc2VkSGVhZGVyIiwiaW50ZXJjYXBzSGVhZGVyIiwic3Vic3RyaW5nIiwiX20iLCJnMSIsImcyIiwid2FybiIsInRvQmFzZTY0Iiwic3RyIiwiYnRvYSIsInRvRmxvYXQzMkFycmF5IiwiYmFzZTY0U3RyIiwiYnVmIiwiRmxvYXQzMkFycmF5IiwiYnl0ZU9mZnNldCIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYmluYXJ5U3RyIiwiYXRvYiIsImxlbiIsImJ5dGVzIiwiVWludDhBcnJheSIsImkiLCJjaGFyQ29kZUF0IiwiaXNPYmoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIConnectionError: () => (/* binding */ APIConnectionError),\n/* harmony export */   APIConnectionTimeoutError: () => (/* binding */ APIConnectionTimeoutError),\n/* harmony export */   APIError: () => (/* binding */ APIError),\n/* harmony export */   APIUserAbortError: () => (/* binding */ APIUserAbortError),\n/* harmony export */   AuthenticationError: () => (/* binding */ AuthenticationError),\n/* harmony export */   BadRequestError: () => (/* binding */ BadRequestError),\n/* harmony export */   ConflictError: () => (/* binding */ ConflictError),\n/* harmony export */   ContentFilterFinishReasonError: () => (/* binding */ ContentFilterFinishReasonError),\n/* harmony export */   InternalServerError: () => (/* binding */ InternalServerError),\n/* harmony export */   LengthFinishReasonError: () => (/* binding */ LengthFinishReasonError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError),\n/* harmony export */   OpenAIError: () => (/* binding */ OpenAIError),\n/* harmony export */   PermissionDeniedError: () => (/* binding */ PermissionDeniedError),\n/* harmony export */   RateLimitError: () => (/* binding */ RateLimitError),\n/* harmony export */   UnprocessableEntityError: () => (/* binding */ UnprocessableEntityError)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass OpenAIError extends Error {\n}\nclass APIError extends OpenAIError {\n    constructor(status, error, message, headers){\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        this.request_id = headers?.[\"x-request-id\"];\n        this.error = error;\n        const data = error;\n        this.code = data?.[\"code\"];\n        this.param = data?.[\"param\"];\n        this.type = data?.[\"type\"];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ? typeof error.message === \"string\" ? error.message : JSON.stringify(error.message) : error ? JSON.stringify(error) : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return \"(no status code or body)\";\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status || !headers) {\n            return new APIConnectionError({\n                message,\n                cause: (0,_core_mjs__WEBPACK_IMPORTED_MODULE_0__.castToError)(errorResponse)\n            });\n        }\n        const error = errorResponse?.[\"error\"];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nclass APIUserAbortError extends APIError {\n    constructor({ message } = {}){\n        super(undefined, undefined, message || \"Request was aborted.\", undefined);\n    }\n}\nclass APIConnectionError extends APIError {\n    constructor({ message, cause }){\n        super(undefined, undefined, message || \"Connection error.\", undefined);\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause) this.cause = cause;\n    }\n}\nclass APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}){\n        super({\n            message: message ?? \"Request timed out.\"\n        });\n    }\n}\nclass BadRequestError extends APIError {\n}\nclass AuthenticationError extends APIError {\n}\nclass PermissionDeniedError extends APIError {\n}\nclass NotFoundError extends APIError {\n}\nclass ConflictError extends APIError {\n}\nclass UnprocessableEntityError extends APIError {\n}\nclass RateLimitError extends APIError {\n}\nclass InternalServerError extends APIError {\n}\nclass LengthFinishReasonError extends OpenAIError {\n    constructor(){\n        super(`Could not parse response content as the length limit was reached`);\n    }\n}\nclass ContentFilterFinishReasonError extends OpenAIError {\n    constructor(){\n        super(`Could not parse response content as the request was rejected by the content filter`);\n    }\n} //# sourceMappingURL=error.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDN0M7QUFDbEMsTUFBTUMsb0JBQW9CQztBQUNqQztBQUNPLE1BQU1DLGlCQUFpQkY7SUFDMUJHLFlBQVlDLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sQ0FBRTtRQUN6QyxLQUFLLENBQUMsQ0FBQyxFQUFFTCxTQUFTTSxXQUFXLENBQUNKLFFBQVFDLE9BQU9DLFNBQVMsQ0FBQztRQUN2RCxJQUFJLENBQUNGLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNHLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNFLFVBQVUsR0FBR0YsU0FBUyxDQUFDLGVBQWU7UUFDM0MsSUFBSSxDQUFDRixLQUFLLEdBQUdBO1FBQ2IsTUFBTUssT0FBT0w7UUFDYixJQUFJLENBQUNNLElBQUksR0FBR0QsTUFBTSxDQUFDLE9BQU87UUFDMUIsSUFBSSxDQUFDRSxLQUFLLEdBQUdGLE1BQU0sQ0FBQyxRQUFRO1FBQzVCLElBQUksQ0FBQ0csSUFBSSxHQUFHSCxNQUFNLENBQUMsT0FBTztJQUM5QjtJQUNBLE9BQU9GLFlBQVlKLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUU7UUFDdkMsTUFBTVEsTUFBTVQsT0FBT0MsVUFDZixPQUFPRCxNQUFNQyxPQUFPLEtBQUssV0FDckJELE1BQU1DLE9BQU8sR0FDWFMsS0FBS0MsU0FBUyxDQUFDWCxNQUFNQyxPQUFPLElBQ2hDRCxRQUFRVSxLQUFLQyxTQUFTLENBQUNYLFNBQ25CQztRQUNWLElBQUlGLFVBQVVVLEtBQUs7WUFDZixPQUFPLENBQUMsRUFBRVYsT0FBTyxDQUFDLEVBQUVVLElBQUksQ0FBQztRQUM3QjtRQUNBLElBQUlWLFFBQVE7WUFDUixPQUFPLENBQUMsRUFBRUEsT0FBTyxzQkFBc0IsQ0FBQztRQUM1QztRQUNBLElBQUlVLEtBQUs7WUFDTCxPQUFPQTtRQUNYO1FBQ0EsT0FBTztJQUNYO0lBQ0EsT0FBT0csU0FBU2IsTUFBTSxFQUFFYyxhQUFhLEVBQUVaLE9BQU8sRUFBRUMsT0FBTyxFQUFFO1FBQ3JELElBQUksQ0FBQ0gsVUFBVSxDQUFDRyxTQUFTO1lBQ3JCLE9BQU8sSUFBSVksbUJBQW1CO2dCQUFFYjtnQkFBU2MsT0FBT3JCLHNEQUFXQSxDQUFDbUI7WUFBZTtRQUMvRTtRQUNBLE1BQU1iLFFBQVFhLGVBQWUsQ0FBQyxRQUFRO1FBQ3RDLElBQUlkLFdBQVcsS0FBSztZQUNoQixPQUFPLElBQUlpQixnQkFBZ0JqQixRQUFRQyxPQUFPQyxTQUFTQztRQUN2RDtRQUNBLElBQUlILFdBQVcsS0FBSztZQUNoQixPQUFPLElBQUlrQixvQkFBb0JsQixRQUFRQyxPQUFPQyxTQUFTQztRQUMzRDtRQUNBLElBQUlILFdBQVcsS0FBSztZQUNoQixPQUFPLElBQUltQixzQkFBc0JuQixRQUFRQyxPQUFPQyxTQUFTQztRQUM3RDtRQUNBLElBQUlILFdBQVcsS0FBSztZQUNoQixPQUFPLElBQUlvQixjQUFjcEIsUUFBUUMsT0FBT0MsU0FBU0M7UUFDckQ7UUFDQSxJQUFJSCxXQUFXLEtBQUs7WUFDaEIsT0FBTyxJQUFJcUIsY0FBY3JCLFFBQVFDLE9BQU9DLFNBQVNDO1FBQ3JEO1FBQ0EsSUFBSUgsV0FBVyxLQUFLO1lBQ2hCLE9BQU8sSUFBSXNCLHlCQUF5QnRCLFFBQVFDLE9BQU9DLFNBQVNDO1FBQ2hFO1FBQ0EsSUFBSUgsV0FBVyxLQUFLO1lBQ2hCLE9BQU8sSUFBSXVCLGVBQWV2QixRQUFRQyxPQUFPQyxTQUFTQztRQUN0RDtRQUNBLElBQUlILFVBQVUsS0FBSztZQUNmLE9BQU8sSUFBSXdCLG9CQUFvQnhCLFFBQVFDLE9BQU9DLFNBQVNDO1FBQzNEO1FBQ0EsT0FBTyxJQUFJTCxTQUFTRSxRQUFRQyxPQUFPQyxTQUFTQztJQUNoRDtBQUNKO0FBQ08sTUFBTXNCLDBCQUEwQjNCO0lBQ25DQyxZQUFZLEVBQUVHLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFFO1FBQzFCLEtBQUssQ0FBQ3dCLFdBQVdBLFdBQVd4QixXQUFXLHdCQUF3QndCO0lBQ25FO0FBQ0o7QUFDTyxNQUFNWCwyQkFBMkJqQjtJQUNwQ0MsWUFBWSxFQUFFRyxPQUFPLEVBQUVjLEtBQUssRUFBRSxDQUFFO1FBQzVCLEtBQUssQ0FBQ1UsV0FBV0EsV0FBV3hCLFdBQVcscUJBQXFCd0I7UUFDNUQsZ0VBQWdFO1FBQ2hFLGFBQWE7UUFDYixJQUFJVixPQUNBLElBQUksQ0FBQ0EsS0FBSyxHQUFHQTtJQUNyQjtBQUNKO0FBQ08sTUFBTVcsa0NBQWtDWjtJQUMzQ2hCLFlBQVksRUFBRUcsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUU7UUFDMUIsS0FBSyxDQUFDO1lBQUVBLFNBQVNBLFdBQVc7UUFBcUI7SUFDckQ7QUFDSjtBQUNPLE1BQU1lLHdCQUF3Qm5CO0FBQ3JDO0FBQ08sTUFBTW9CLDRCQUE0QnBCO0FBQ3pDO0FBQ08sTUFBTXFCLDhCQUE4QnJCO0FBQzNDO0FBQ08sTUFBTXNCLHNCQUFzQnRCO0FBQ25DO0FBQ08sTUFBTXVCLHNCQUFzQnZCO0FBQ25DO0FBQ08sTUFBTXdCLGlDQUFpQ3hCO0FBQzlDO0FBQ08sTUFBTXlCLHVCQUF1QnpCO0FBQ3BDO0FBQ08sTUFBTTBCLDRCQUE0QjFCO0FBQ3pDO0FBQ08sTUFBTThCLGdDQUFnQ2hDO0lBQ3pDRyxhQUFjO1FBQ1YsS0FBSyxDQUFDLENBQUMsZ0VBQWdFLENBQUM7SUFDNUU7QUFDSjtBQUNPLE1BQU04Qix1Q0FBdUNqQztJQUNoREcsYUFBYztRQUNWLEtBQUssQ0FBQyxDQUFDLGtGQUFrRixDQUFDO0lBQzlGO0FBQ0osRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvZXJyb3IubWpzP2JlZjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IGNhc3RUb0Vycm9yIH0gZnJvbSBcIi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBPcGVuQUlFcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBBUElFcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKSB7XG4gICAgICAgIHN1cGVyKGAke0FQSUVycm9yLm1ha2VNZXNzYWdlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UpfWApO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgdGhpcy5yZXF1ZXN0X2lkID0gaGVhZGVycz8uWyd4LXJlcXVlc3QtaWQnXTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICBjb25zdCBkYXRhID0gZXJyb3I7XG4gICAgICAgIHRoaXMuY29kZSA9IGRhdGE/LlsnY29kZSddO1xuICAgICAgICB0aGlzLnBhcmFtID0gZGF0YT8uWydwYXJhbSddO1xuICAgICAgICB0aGlzLnR5cGUgPSBkYXRhPy5bJ3R5cGUnXTtcbiAgICB9XG4gICAgc3RhdGljIG1ha2VNZXNzYWdlKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbXNnID0gZXJyb3I/Lm1lc3NhZ2UgP1xuICAgICAgICAgICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09ICdzdHJpbmcnID9cbiAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgOiBlcnJvciA/IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgICAgICAgICAgICAgIDogbWVzc2FnZTtcbiAgICAgICAgaWYgKHN0YXR1cyAmJiBtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtzdGF0dXN9ICR7bXNnfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIGAke3N0YXR1c30gc3RhdHVzIGNvZGUgKG5vIGJvZHkpYDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobXNnKSB7XG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnKG5vIHN0YXR1cyBjb2RlIG9yIGJvZHkpJztcbiAgICB9XG4gICAgc3RhdGljIGdlbmVyYXRlKHN0YXR1cywgZXJyb3JSZXNwb25zZSwgbWVzc2FnZSwgaGVhZGVycykge1xuICAgICAgICBpZiAoIXN0YXR1cyB8fCAhaGVhZGVycykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBUElDb25uZWN0aW9uRXJyb3IoeyBtZXNzYWdlLCBjYXVzZTogY2FzdFRvRXJyb3IoZXJyb3JSZXNwb25zZSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyb3IgPSBlcnJvclJlc3BvbnNlPy5bJ2Vycm9yJ107XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCYWRSZXF1ZXN0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEF1dGhlbnRpY2F0aW9uRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBlcm1pc3Npb25EZW5pZWRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm90Rm91bmRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29uZmxpY3RFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MjIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQyOSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYXRlTGltaXRFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID49IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcm5hbFNlcnZlckVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQVBJRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSVVzZXJBYm9ydEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ1JlcXVlc3Qgd2FzIGFib3J0ZWQuJywgdW5kZWZpbmVkKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY2F1c2UgfSkge1xuICAgICAgICBzdXBlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgbWVzc2FnZSB8fCAnQ29ubmVjdGlvbiBlcnJvci4nLCB1bmRlZmluZWQpO1xuICAgICAgICAvLyBpbiBzb21lIGVudmlyb25tZW50cyB0aGUgJ2NhdXNlJyBwcm9wZXJ0eSBpcyBhbHJlYWR5IGRlY2xhcmVkXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGNhdXNlKVxuICAgICAgICAgICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIGV4dGVuZHMgQVBJQ29ubmVjdGlvbkVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbWVzc2FnZTogbWVzc2FnZSA/PyAnUmVxdWVzdCB0aW1lZCBvdXQuJyB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFkUmVxdWVzdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbkRlbmllZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIE5vdEZvdW5kRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgQ29uZmxpY3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBVbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgUmF0ZUxpbWl0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYENvdWxkIG5vdCBwYXJzZSByZXNwb25zZSBjb250ZW50IGFzIHRoZSBsZW5ndGggbGltaXQgd2FzIHJlYWNoZWRgKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihgQ291bGQgbm90IHBhcnNlIHJlc3BvbnNlIGNvbnRlbnQgYXMgdGhlIHJlcXVlc3Qgd2FzIHJlamVjdGVkIGJ5IHRoZSBjb250ZW50IGZpbHRlcmApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLm1qcy5tYXAiXSwibmFtZXMiOlsiY2FzdFRvRXJyb3IiLCJPcGVuQUlFcnJvciIsIkVycm9yIiwiQVBJRXJyb3IiLCJjb25zdHJ1Y3RvciIsInN0YXR1cyIsImVycm9yIiwibWVzc2FnZSIsImhlYWRlcnMiLCJtYWtlTWVzc2FnZSIsInJlcXVlc3RfaWQiLCJkYXRhIiwiY29kZSIsInBhcmFtIiwidHlwZSIsIm1zZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZW5lcmF0ZSIsImVycm9yUmVzcG9uc2UiLCJBUElDb25uZWN0aW9uRXJyb3IiLCJjYXVzZSIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJQZXJtaXNzaW9uRGVuaWVkRXJyb3IiLCJOb3RGb3VuZEVycm9yIiwiQ29uZmxpY3RFcnJvciIsIlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciIsIlJhdGVMaW1pdEVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwidW5kZWZpbmVkIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkxlbmd0aEZpbmlzaFJlYXNvbkVycm9yIiwiQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/index.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/index.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIConnectionError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionError),\n/* harmony export */   APIConnectionTimeoutError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionTimeoutError),\n/* harmony export */   APIError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIError),\n/* harmony export */   APIUserAbortError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError),\n/* harmony export */   AuthenticationError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthenticationError),\n/* harmony export */   AzureOpenAI: () => (/* binding */ AzureOpenAI),\n/* harmony export */   BadRequestError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.BadRequestError),\n/* harmony export */   ConflictError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.ConflictError),\n/* harmony export */   InternalServerError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalServerError),\n/* harmony export */   NotFoundError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.NotFoundError),\n/* harmony export */   OpenAI: () => (/* binding */ OpenAI),\n/* harmony export */   OpenAIError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError),\n/* harmony export */   PermissionDeniedError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.PermissionDeniedError),\n/* harmony export */   RateLimitError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.RateLimitError),\n/* harmony export */   UnprocessableEntityError: () => (/* reexport safe */ _error_mjs__WEBPACK_IMPORTED_MODULE_1__.UnprocessableEntityError),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   fileFromPath: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_19__.fileFromPath),\n/* harmony export */   toFile: () => (/* reexport safe */ _uploads_mjs__WEBPACK_IMPORTED_MODULE_18__.toFile)\n/* harmony export */ });\n/* harmony import */ var _internal_qs_index_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./internal/qs/index.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/stringify.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n/* harmony import */ var _uploads_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./uploads.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/completions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/completions.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/chat/chat.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/chat.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resources/embeddings.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/embeddings.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./resources/files.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/files.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./resources/images.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/images.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./resources/audio/audio.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/audio.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./resources/moderations.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/moderations.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./resources/models.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/models.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resources/fine-tuning/fine-tuning.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/fine-tuning.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./resources/vector-stores/vector-stores.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/vector-stores.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./resources/beta/beta.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/beta.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./resources/batches.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/batches.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./resources/uploads/uploads.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/uploads.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./resources/responses/responses.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/responses.mjs\");\n/* harmony import */ var _resources_index_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./resources/evals/evals.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/evals.mjs\");\n/* harmony import */ var _resources_chat_completions_completions_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./resources/chat/completions/completions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _a;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * API Client for interfacing with the OpenAI API.\n */ class OpenAI extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.APIClient {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */ constructor({ baseURL = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_BASE_URL\"), apiKey = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_API_KEY\"), organization = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_ORG_ID\") ?? null, project = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_PROJECT_ID\") ?? null, ...opts } = {}){\n        if (apiKey === undefined) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).\");\n        }\n        const options = {\n            apiKey,\n            organization,\n            project,\n            ...opts,\n            baseURL: baseURL || `https://api.openai.com/v1`\n        };\n        if (!options.dangerouslyAllowBrowser && _core_mjs__WEBPACK_IMPORTED_MODULE_0__.isRunningInBrowser()) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        super({\n            baseURL: options.baseURL,\n            timeout: options.timeout ?? 600000 /* 10 minutes */ ,\n            httpAgent: options.httpAgent,\n            maxRetries: options.maxRetries,\n            fetch: options.fetch\n        });\n        this.completions = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__.Completions(this);\n        this.chat = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Chat(this);\n        this.embeddings = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__.Embeddings(this);\n        this.files = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.Files(this);\n        this.images = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__.Images(this);\n        this.audio = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__.Audio(this);\n        this.moderations = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Moderations(this);\n        this.models = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Models(this);\n        this.fineTuning = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__.FineTuning(this);\n        this.vectorStores = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.VectorStores(this);\n        this.beta = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__.Beta(this);\n        this.batches = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__.Batches(this);\n        this.uploads = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_14__.Uploads(this);\n        this.responses = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_15__.Responses(this);\n        this.evals = new _resources_index_mjs__WEBPACK_IMPORTED_MODULE_16__.Evals(this);\n        this._options = options;\n        this.apiKey = apiKey;\n        this.organization = organization;\n        this.project = project;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    defaultHeaders(opts) {\n        return {\n            ...super.defaultHeaders(opts),\n            \"OpenAI-Organization\": this.organization,\n            \"OpenAI-Project\": this.project,\n            ...this._options.defaultHeaders\n        };\n    }\n    authHeaders(opts) {\n        return {\n            Authorization: `Bearer ${this.apiKey}`\n        };\n    }\n    stringifyQuery(query) {\n        return _internal_qs_index_mjs__WEBPACK_IMPORTED_MODULE_17__.stringify(query, {\n            arrayFormat: \"brackets\"\n        });\n    }\n}\n_a = OpenAI;\nOpenAI.OpenAI = _a;\nOpenAI.DEFAULT_TIMEOUT = 600000; // 10 minutes\nOpenAI.OpenAIError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError;\nOpenAI.APIError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIError;\nOpenAI.APIConnectionError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError;\nOpenAI.NotFoundError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.NotFoundError;\nOpenAI.ConflictError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.ConflictError;\nOpenAI.RateLimitError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.RateLimitError;\nOpenAI.BadRequestError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.BadRequestError;\nOpenAI.AuthenticationError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthenticationError;\nOpenAI.InternalServerError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalServerError;\nOpenAI.PermissionDeniedError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = _error_mjs__WEBPACK_IMPORTED_MODULE_1__.UnprocessableEntityError;\nOpenAI.toFile = _uploads_mjs__WEBPACK_IMPORTED_MODULE_18__.toFile;\nOpenAI.fileFromPath = _uploads_mjs__WEBPACK_IMPORTED_MODULE_19__.fileFromPath;\nOpenAI.Completions = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_2__.Completions;\nOpenAI.Chat = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Chat;\nOpenAI.ChatCompletionsPage = _resources_chat_completions_completions_mjs__WEBPACK_IMPORTED_MODULE_20__.ChatCompletionsPage;\nOpenAI.Embeddings = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_4__.Embeddings;\nOpenAI.Files = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.Files;\nOpenAI.FileObjectsPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_5__.FileObjectsPage;\nOpenAI.Images = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_6__.Images;\nOpenAI.Audio = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_7__.Audio;\nOpenAI.Moderations = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Moderations;\nOpenAI.Models = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Models;\nOpenAI.ModelsPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_9__.ModelsPage;\nOpenAI.FineTuning = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_10__.FineTuning;\nOpenAI.VectorStores = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.VectorStores;\nOpenAI.VectorStoresPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.VectorStoresPage;\nOpenAI.VectorStoreSearchResponsesPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_11__.VectorStoreSearchResponsesPage;\nOpenAI.Beta = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_12__.Beta;\nOpenAI.Batches = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__.Batches;\nOpenAI.BatchesPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_13__.BatchesPage;\nOpenAI.Uploads = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_14__.Uploads;\nOpenAI.Responses = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_15__.Responses;\nOpenAI.Evals = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_16__.Evals;\nOpenAI.EvalListResponsesPage = _resources_index_mjs__WEBPACK_IMPORTED_MODULE_16__.EvalListResponsesPage;\n/** API Client for interfacing with the Azure OpenAI API. */ class AzureOpenAI extends OpenAI {\n    /**\n     * API Client for interfacing with the Azure OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiVersion=process.env['OPENAI_API_VERSION'] ?? undefined]\n     * @param {string | undefined} [opts.endpoint=process.env['AZURE_OPENAI_ENDPOINT'] ?? undefined] - Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`\n     * @param {string | undefined} [opts.apiKey=process.env['AZURE_OPENAI_API_KEY'] ?? undefined]\n     * @param {string | undefined} opts.deployment - A model deployment, if given, sets the base client URL to include `/deployments/{deployment}`.\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL']] - Sets the base URL for the API, e.g. `https://example-resource.azure.openai.com/openai/`.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */ constructor({ baseURL = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_BASE_URL\"), apiKey = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"AZURE_OPENAI_API_KEY\"), apiVersion = _core_mjs__WEBPACK_IMPORTED_MODULE_0__.readEnv(\"OPENAI_API_VERSION\"), endpoint, deployment, azureADTokenProvider, dangerouslyAllowBrowser, ...opts } = {}){\n        if (!apiVersion) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).\");\n        }\n        if (typeof azureADTokenProvider === \"function\") {\n            dangerouslyAllowBrowser = true;\n        }\n        if (!azureADTokenProvider && !apiKey) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.\");\n        }\n        if (azureADTokenProvider && apiKey) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.\");\n        }\n        // define a sentinel value to avoid any typing issues\n        apiKey ?? (apiKey = API_KEY_SENTINEL);\n        opts.defaultQuery = {\n            ...opts.defaultQuery,\n            \"api-version\": apiVersion\n        };\n        if (!baseURL) {\n            if (!endpoint) {\n                endpoint = process.env[\"AZURE_OPENAI_ENDPOINT\"];\n            }\n            if (!endpoint) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable\");\n            }\n            baseURL = `${endpoint}/openai`;\n        } else {\n            if (endpoint) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"baseURL and endpoint are mutually exclusive\");\n            }\n        }\n        super({\n            apiKey,\n            baseURL,\n            ...opts,\n            ...dangerouslyAllowBrowser !== undefined ? {\n                dangerouslyAllowBrowser\n            } : {}\n        });\n        this.apiVersion = \"\";\n        this._azureADTokenProvider = azureADTokenProvider;\n        this.apiVersion = apiVersion;\n        this.deploymentName = deployment;\n    }\n    buildRequest(options, props = {}) {\n        if (_deployments_endpoints.has(options.path) && options.method === \"post\" && options.body !== undefined) {\n            if (!_core_mjs__WEBPACK_IMPORTED_MODULE_0__.isObj(options.body)) {\n                throw new Error(\"Expected request body to be an object\");\n            }\n            const model = this.deploymentName || options.body[\"model\"] || options.__metadata?.[\"model\"];\n            if (model !== undefined && !this.baseURL.includes(\"/deployments\")) {\n                options.path = `/deployments/${model}${options.path}`;\n            }\n        }\n        return super.buildRequest(options, props);\n    }\n    async _getAzureADToken() {\n        if (typeof this._azureADTokenProvider === \"function\") {\n            const token = await this._azureADTokenProvider();\n            if (!token || typeof token !== \"string\") {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${token}`);\n            }\n            return token;\n        }\n        return undefined;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    async prepareOptions(opts) {\n        /**\n         * The user should provide a bearer token provider if they want\n         * to use Azure AD authentication. The user shouldn't set the\n         * Authorization header manually because the header is overwritten\n         * with the Azure AD token if a bearer token provider is provided.\n         */ if (opts.headers?.[\"api-key\"]) {\n            return super.prepareOptions(opts);\n        }\n        const token = await this._getAzureADToken();\n        opts.headers ?? (opts.headers = {});\n        if (token) {\n            opts.headers[\"Authorization\"] = `Bearer ${token}`;\n        } else if (this.apiKey !== API_KEY_SENTINEL) {\n            opts.headers[\"api-key\"] = this.apiKey;\n        } else {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"Unable to handle auth\");\n        }\n        return super.prepareOptions(opts);\n    }\n}\nconst _deployments_endpoints = new Set([\n    \"/completions\",\n    \"/chat/completions\",\n    \"/embeddings\",\n    \"/audio/transcriptions\",\n    \"/audio/translations\",\n    \"/audio/speech\",\n    \"/images/generations\"\n]);\nconst API_KEY_SENTINEL = \"<Missing Key>\";\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenAI); //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUN0RixJQUFJQTtBQUMwQztBQUNYO0FBQ0c7QUFDUztBQUNOO0FBQ0k7QUFDbUI7QUFDTDtBQUNGO0FBQ087QUFDZjtBQUNXO0FBQ0Q7QUFDUDtBQUNIO0FBQ0E7QUFDMkI7QUFDUDtBQUNMO0FBQ2dCO0FBQzhDO0FBQzFDO0FBQ3BGOztDQUVDLEdBQ00sTUFBTTZCLGVBQWUzQixnREFBYztJQUN0Qzs7Ozs7Ozs7Ozs7Ozs7S0FjQyxHQUNENkIsWUFBWSxFQUFFQyxVQUFVOUIsOENBQVksQ0FBQyxrQkFBa0IsRUFBRWdDLFNBQVNoQyw4Q0FBWSxDQUFDLGlCQUFpQixFQUFFaUMsZUFBZWpDLDhDQUFZLENBQUMsb0JBQW9CLElBQUksRUFBRWtDLFVBQVVsQyw4Q0FBWSxDQUFDLHdCQUF3QixJQUFJLEVBQUUsR0FBR21DLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBRTtRQUN6TixJQUFJSCxXQUFXSSxXQUFXO1lBQ3RCLE1BQU0sSUFBSW5DLG1EQUFrQixDQUFDO1FBQ2pDO1FBQ0EsTUFBTXFDLFVBQVU7WUFDWk47WUFDQUM7WUFDQUM7WUFDQSxHQUFHQyxJQUFJO1lBQ1BMLFNBQVNBLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQztRQUNuRDtRQUNBLElBQUksQ0FBQ1EsUUFBUUMsdUJBQXVCLElBQUl2Qyx5REFBdUIsSUFBSTtZQUMvRCxNQUFNLElBQUlDLG1EQUFrQixDQUFDO1FBQ2pDO1FBQ0EsS0FBSyxDQUFDO1lBQ0Y2QixTQUFTUSxRQUFRUixPQUFPO1lBQ3hCVyxTQUFTSCxRQUFRRyxPQUFPLElBQUksT0FBTyxjQUFjO1lBQ2pEQyxXQUFXSixRQUFRSSxTQUFTO1lBQzVCQyxZQUFZTCxRQUFRSyxVQUFVO1lBQzlCQyxPQUFPTixRQUFRTSxLQUFLO1FBQ3hCO1FBQ0EsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSXpDLDZEQUFlLENBQUMsSUFBSTtRQUMzQyxJQUFJLENBQUMwQyxJQUFJLEdBQUcsSUFBSTFDLHNEQUFRLENBQUMsSUFBSTtRQUM3QixJQUFJLENBQUMyQyxVQUFVLEdBQUcsSUFBSTNDLDREQUFjLENBQUMsSUFBSTtRQUN6QyxJQUFJLENBQUM0QyxLQUFLLEdBQUcsSUFBSTVDLHVEQUFTLENBQUMsSUFBSTtRQUMvQixJQUFJLENBQUM2QyxNQUFNLEdBQUcsSUFBSTdDLHdEQUFVLENBQUMsSUFBSTtRQUNqQyxJQUFJLENBQUM4QyxLQUFLLEdBQUcsSUFBSTlDLHVEQUFTLENBQUMsSUFBSTtRQUMvQixJQUFJLENBQUMrQyxXQUFXLEdBQUcsSUFBSS9DLDZEQUFlLENBQUMsSUFBSTtRQUMzQyxJQUFJLENBQUNnRCxNQUFNLEdBQUcsSUFBSWhELHdEQUFVLENBQUMsSUFBSTtRQUNqQyxJQUFJLENBQUNpRCxVQUFVLEdBQUcsSUFBSWpELDZEQUFjLENBQUMsSUFBSTtRQUN6QyxJQUFJLENBQUNrRCxZQUFZLEdBQUcsSUFBSWxELCtEQUFnQixDQUFDLElBQUk7UUFDN0MsSUFBSSxDQUFDbUQsSUFBSSxHQUFHLElBQUluRCx1REFBUSxDQUFDLElBQUk7UUFDN0IsSUFBSSxDQUFDb0QsT0FBTyxHQUFHLElBQUlwRCwwREFBVyxDQUFDLElBQUk7UUFDbkMsSUFBSSxDQUFDcUQsT0FBTyxHQUFHLElBQUlyRCwwREFBVyxDQUFDLElBQUk7UUFDbkMsSUFBSSxDQUFDc0QsU0FBUyxHQUFHLElBQUl0RCw0REFBYSxDQUFDLElBQUk7UUFDdkMsSUFBSSxDQUFDdUQsS0FBSyxHQUFHLElBQUl2RCx3REFBUyxDQUFDLElBQUk7UUFDL0IsSUFBSSxDQUFDd0QsUUFBUSxHQUFHdEI7UUFDaEIsSUFBSSxDQUFDTixNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQ0MsT0FBTyxHQUFHQTtJQUNuQjtJQUNBMkIsZUFBZTtRQUNYLE9BQU8sSUFBSSxDQUFDRCxRQUFRLENBQUNDLFlBQVk7SUFDckM7SUFDQUMsZUFBZTNCLElBQUksRUFBRTtRQUNqQixPQUFPO1lBQ0gsR0FBRyxLQUFLLENBQUMyQixlQUFlM0IsS0FBSztZQUM3Qix1QkFBdUIsSUFBSSxDQUFDRixZQUFZO1lBQ3hDLGtCQUFrQixJQUFJLENBQUNDLE9BQU87WUFDOUIsR0FBRyxJQUFJLENBQUMwQixRQUFRLENBQUNFLGNBQWM7UUFDbkM7SUFDSjtJQUNBQyxZQUFZNUIsSUFBSSxFQUFFO1FBQ2QsT0FBTztZQUFFNkIsZUFBZSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUNoQyxNQUFNLENBQUMsQ0FBQztRQUFDO0lBQ3BEO0lBQ0FpQyxlQUFlQyxLQUFLLEVBQUU7UUFDbEIsT0FBT25FLDhEQUFZLENBQUNtRSxPQUFPO1lBQUVFLGFBQWE7UUFBVztJQUN6RDtBQUNKO0FBQ0F0RSxLQUFLNkI7QUFDTEEsT0FBT0EsTUFBTSxHQUFHN0I7QUFDaEI2QixPQUFPMEMsZUFBZSxHQUFHLFFBQVEsYUFBYTtBQUM5QzFDLE9BQU9VLFdBQVcsR0FBR3BDLG1EQUFrQjtBQUN2QzBCLE9BQU8yQyxRQUFRLEdBQUdyRSxnREFBZTtBQUNqQzBCLE9BQU80QyxrQkFBa0IsR0FBR3RFLDBEQUF5QjtBQUNyRDBCLE9BQU82Qyx5QkFBeUIsR0FBR3ZFLGlFQUFnQztBQUNuRTBCLE9BQU84QyxpQkFBaUIsR0FBR3hFLHlEQUF3QjtBQUNuRDBCLE9BQU8rQyxhQUFhLEdBQUd6RSxxREFBb0I7QUFDM0MwQixPQUFPZ0QsYUFBYSxHQUFHMUUscURBQW9CO0FBQzNDMEIsT0FBT2lELGNBQWMsR0FBRzNFLHNEQUFxQjtBQUM3QzBCLE9BQU9rRCxlQUFlLEdBQUc1RSx1REFBc0I7QUFDL0MwQixPQUFPbUQsbUJBQW1CLEdBQUc3RSwyREFBMEI7QUFDdkQwQixPQUFPb0QsbUJBQW1CLEdBQUc5RSwyREFBMEI7QUFDdkQwQixPQUFPcUQscUJBQXFCLEdBQUcvRSw2REFBNEI7QUFDM0QwQixPQUFPc0Qsd0JBQXdCLEdBQUdoRixnRUFBK0I7QUFDakUwQixPQUFPdUQsTUFBTSxHQUFHL0UsaURBQWM7QUFDOUJ3QixPQUFPd0QsWUFBWSxHQUFHaEYsdURBQW9CO0FBQzFDd0IsT0FBT3BCLFdBQVcsR0FBR0EsNkRBQVdBO0FBQ2hDb0IsT0FBT1YsSUFBSSxHQUFHQSxzREFBSUE7QUFDbEJVLE9BQU9ELG1CQUFtQixHQUFHQSw2RkFBbUJBO0FBQ2hEQyxPQUFPbkIsVUFBVSxHQUFHQSw0REFBVUE7QUFDOUJtQixPQUFPakIsS0FBSyxHQUFHQSx1REFBS0E7QUFDcEJpQixPQUFPbEIsZUFBZSxHQUFHQSxpRUFBZUE7QUFDeENrQixPQUFPaEIsTUFBTSxHQUFHQSx3REFBTUE7QUFDdEJnQixPQUFPWixLQUFLLEdBQUdBLHVEQUFLQTtBQUNwQlksT0FBT2IsV0FBVyxHQUFHQSw2REFBV0E7QUFDaENhLE9BQU9mLE1BQU0sR0FBR0Esd0RBQU1BO0FBQ3RCZSxPQUFPZCxVQUFVLEdBQUdBLDREQUFVQTtBQUM5QmMsT0FBT1AsVUFBVSxHQUFHQSw2REFBVUE7QUFDOUJPLE9BQU9ILFlBQVksR0FBR0EsK0RBQVlBO0FBQ2xDRyxPQUFPRixnQkFBZ0IsR0FBR0EsbUVBQWdCQTtBQUMxQ0UsT0FBT0osOEJBQThCLEdBQUdBLGlGQUE4QkE7QUFDdEVJLE9BQU9YLElBQUksR0FBR0EsdURBQUlBO0FBQ2xCVyxPQUFPdEIsT0FBTyxHQUFHQSwwREFBT0E7QUFDeEJzQixPQUFPckIsV0FBVyxHQUFHQSw4REFBV0E7QUFDaENxQixPQUFPeEIsT0FBTyxHQUFHbUIsMERBQWlCQTtBQUNsQ0ssT0FBT04sU0FBUyxHQUFHQSw0REFBU0E7QUFDNUJNLE9BQU9SLEtBQUssR0FBR0Esd0RBQUtBO0FBQ3BCUSxPQUFPVCxxQkFBcUIsR0FBR0Esd0VBQXFCQTtBQUNwRCwwREFBMEQsR0FDbkQsTUFBTWtFLG9CQUFvQnpEO0lBQzdCOzs7Ozs7Ozs7Ozs7Ozs7O0tBZ0JDLEdBQ0RFLFlBQVksRUFBRUMsVUFBVTlCLDhDQUFZLENBQUMsa0JBQWtCLEVBQUVnQyxTQUFTaEMsOENBQVksQ0FBQyx1QkFBdUIsRUFBRXFGLGFBQWFyRiw4Q0FBWSxDQUFDLHFCQUFxQixFQUFFc0YsUUFBUSxFQUFFQyxVQUFVLEVBQUVDLG9CQUFvQixFQUFFakQsdUJBQXVCLEVBQUUsR0FBR0osTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFFO1FBQzFPLElBQUksQ0FBQ2tELFlBQVk7WUFDYixNQUFNLElBQUlwRixtREFBa0IsQ0FBQztRQUNqQztRQUNBLElBQUksT0FBT3VGLHlCQUF5QixZQUFZO1lBQzVDakQsMEJBQTBCO1FBQzlCO1FBQ0EsSUFBSSxDQUFDaUQsd0JBQXdCLENBQUN4RCxRQUFRO1lBQ2xDLE1BQU0sSUFBSS9CLG1EQUFrQixDQUFDO1FBQ2pDO1FBQ0EsSUFBSXVGLHdCQUF3QnhELFFBQVE7WUFDaEMsTUFBTSxJQUFJL0IsbURBQWtCLENBQUM7UUFDakM7UUFDQSxxREFBcUQ7UUFDckQrQixVQUFXQSxDQUFBQSxTQUFTeUQsZ0JBQWU7UUFDbkN0RCxLQUFLMEIsWUFBWSxHQUFHO1lBQUUsR0FBRzFCLEtBQUswQixZQUFZO1lBQUUsZUFBZXdCO1FBQVc7UUFDdEUsSUFBSSxDQUFDdkQsU0FBUztZQUNWLElBQUksQ0FBQ3dELFVBQVU7Z0JBQ1hBLFdBQVdJLFFBQVFDLEdBQUcsQ0FBQyx3QkFBd0I7WUFDbkQ7WUFDQSxJQUFJLENBQUNMLFVBQVU7Z0JBQ1gsTUFBTSxJQUFJckYsbURBQWtCLENBQUM7WUFDakM7WUFDQTZCLFVBQVUsQ0FBQyxFQUFFd0QsU0FBUyxPQUFPLENBQUM7UUFDbEMsT0FDSztZQUNELElBQUlBLFVBQVU7Z0JBQ1YsTUFBTSxJQUFJckYsbURBQWtCLENBQUM7WUFDakM7UUFDSjtRQUNBLEtBQUssQ0FBQztZQUNGK0I7WUFDQUY7WUFDQSxHQUFHSyxJQUFJO1lBQ1AsR0FBSUksNEJBQTRCSCxZQUFZO2dCQUFFRztZQUF3QixJQUFJLENBQUMsQ0FBQztRQUNoRjtRQUNBLElBQUksQ0FBQzhDLFVBQVUsR0FBRztRQUNsQixJQUFJLENBQUNPLHFCQUFxQixHQUFHSjtRQUM3QixJQUFJLENBQUNILFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDUSxjQUFjLEdBQUdOO0lBQzFCO0lBQ0FPLGFBQWF4RCxPQUFPLEVBQUV5RCxRQUFRLENBQUMsQ0FBQyxFQUFFO1FBQzlCLElBQUlDLHVCQUF1QkMsR0FBRyxDQUFDM0QsUUFBUTRELElBQUksS0FBSzVELFFBQVE2RCxNQUFNLEtBQUssVUFBVTdELFFBQVE4RCxJQUFJLEtBQUtoRSxXQUFXO1lBQ3JHLElBQUksQ0FBQ3BDLDRDQUFVLENBQUNzQyxRQUFROEQsSUFBSSxHQUFHO2dCQUMzQixNQUFNLElBQUlFLE1BQU07WUFDcEI7WUFDQSxNQUFNQyxRQUFRLElBQUksQ0FBQ1YsY0FBYyxJQUFJdkQsUUFBUThELElBQUksQ0FBQyxRQUFRLElBQUk5RCxRQUFRa0UsVUFBVSxFQUFFLENBQUMsUUFBUTtZQUMzRixJQUFJRCxVQUFVbkUsYUFBYSxDQUFDLElBQUksQ0FBQ04sT0FBTyxDQUFDMkUsUUFBUSxDQUFDLGlCQUFpQjtnQkFDL0RuRSxRQUFRNEQsSUFBSSxHQUFHLENBQUMsYUFBYSxFQUFFSyxNQUFNLEVBQUVqRSxRQUFRNEQsSUFBSSxDQUFDLENBQUM7WUFDekQ7UUFDSjtRQUNBLE9BQU8sS0FBSyxDQUFDSixhQUFheEQsU0FBU3lEO0lBQ3ZDO0lBQ0EsTUFBTVcsbUJBQW1CO1FBQ3JCLElBQUksT0FBTyxJQUFJLENBQUNkLHFCQUFxQixLQUFLLFlBQVk7WUFDbEQsTUFBTWUsUUFBUSxNQUFNLElBQUksQ0FBQ2YscUJBQXFCO1lBQzlDLElBQUksQ0FBQ2UsU0FBUyxPQUFPQSxVQUFVLFVBQVU7Z0JBQ3JDLE1BQU0sSUFBSTFHLG1EQUFrQixDQUFDLENBQUMsNEVBQTRFLEVBQUUwRyxNQUFNLENBQUM7WUFDdkg7WUFDQSxPQUFPQTtRQUNYO1FBQ0EsT0FBT3ZFO0lBQ1g7SUFDQTJCLFlBQVk1QixJQUFJLEVBQUU7UUFDZCxPQUFPLENBQUM7SUFDWjtJQUNBLE1BQU15RSxlQUFlekUsSUFBSSxFQUFFO1FBQ3ZCOzs7OztTQUtDLEdBQ0QsSUFBSUEsS0FBSzBFLE9BQU8sRUFBRSxDQUFDLFVBQVUsRUFBRTtZQUMzQixPQUFPLEtBQUssQ0FBQ0QsZUFBZXpFO1FBQ2hDO1FBQ0EsTUFBTXdFLFFBQVEsTUFBTSxJQUFJLENBQUNELGdCQUFnQjtRQUN6Q3ZFLEtBQUswRSxPQUFPLElBQUsxRSxDQUFBQSxLQUFLMEUsT0FBTyxHQUFHLENBQUM7UUFDakMsSUFBSUYsT0FBTztZQUNQeEUsS0FBSzBFLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLE9BQU8sRUFBRUYsTUFBTSxDQUFDO1FBQ3JELE9BQ0ssSUFBSSxJQUFJLENBQUMzRSxNQUFNLEtBQUt5RCxrQkFBa0I7WUFDdkN0RCxLQUFLMEUsT0FBTyxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM3RSxNQUFNO1FBQ3pDLE9BQ0s7WUFDRCxNQUFNLElBQUkvQixtREFBa0IsQ0FBQztRQUNqQztRQUNBLE9BQU8sS0FBSyxDQUFDMkcsZUFBZXpFO0lBQ2hDO0FBQ0o7QUFDQSxNQUFNNkQseUJBQXlCLElBQUljLElBQUk7SUFDbkM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDSDtBQUNELE1BQU1yQixtQkFBbUI7QUFDNEI7QUFDNE47QUFDalIsaUVBQWU5RCxNQUFNQSxFQUFDLENBQ3RCLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9pbmRleC5tanM/MjEwYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxudmFyIF9hO1xuaW1wb3J0ICogYXMgcXMgZnJvbSBcIi4vaW50ZXJuYWwvcXMvaW5kZXgubWpzXCI7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgKiBhcyBQYWdpbmF0aW9uIGZyb20gXCIuL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgKiBhcyBVcGxvYWRzIGZyb20gXCIuL3VwbG9hZHMubWpzXCI7XG5pbXBvcnQgKiBhcyBBUEkgZnJvbSBcIi4vcmVzb3VyY2VzL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgQmF0Y2hlcywgQmF0Y2hlc1BhZ2UsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2JhdGNoZXMubWpzXCI7XG5pbXBvcnQgeyBDb21wbGV0aW9ucywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvY29tcGxldGlvbnMubWpzXCI7XG5pbXBvcnQgeyBFbWJlZGRpbmdzLCB9IGZyb20gXCIuL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qc1wiO1xuaW1wb3J0IHsgRmlsZU9iamVjdHNQYWdlLCBGaWxlcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBJbWFnZXMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2ltYWdlcy5tanNcIjtcbmltcG9ydCB7IE1vZGVscywgTW9kZWxzUGFnZSB9IGZyb20gXCIuL3Jlc291cmNlcy9tb2RlbHMubWpzXCI7XG5pbXBvcnQgeyBNb2RlcmF0aW9ucywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBBdWRpbyB9IGZyb20gXCIuL3Jlc291cmNlcy9hdWRpby9hdWRpby5tanNcIjtcbmltcG9ydCB7IEJldGEgfSBmcm9tIFwiLi9yZXNvdXJjZXMvYmV0YS9iZXRhLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdCB9IGZyb20gXCIuL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzXCI7XG5pbXBvcnQgeyBFdmFsTGlzdFJlc3BvbnNlc1BhZ2UsIEV2YWxzLCB9IGZyb20gXCIuL3Jlc291cmNlcy9ldmFscy9ldmFscy5tanNcIjtcbmltcG9ydCB7IEZpbmVUdW5pbmcgfSBmcm9tIFwiLi9yZXNvdXJjZXMvZmluZS10dW5pbmcvZmluZS10dW5pbmcubWpzXCI7XG5pbXBvcnQgeyBSZXNwb25zZXMgfSBmcm9tIFwiLi9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcy5tanNcIjtcbmltcG9ydCB7IFVwbG9hZHMgYXMgVXBsb2Fkc0FQSVVwbG9hZHMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL3VwbG9hZHMvdXBsb2Fkcy5tanNcIjtcbmltcG9ydCB7IFZlY3RvclN0b3JlU2VhcmNoUmVzcG9uc2VzUGFnZSwgVmVjdG9yU3RvcmVzLCBWZWN0b3JTdG9yZXNQYWdlLCB9IGZyb20gXCIuL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL3ZlY3Rvci1zdG9yZXMubWpzXCI7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvbnNQYWdlLCB9IGZyb20gXCIuL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zL2NvbXBsZXRpb25zLm1qc1wiO1xuLyoqXG4gKiBBUEkgQ2xpZW50IGZvciBpbnRlcmZhY2luZyB3aXRoIHRoZSBPcGVuQUkgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgT3BlbkFJIGV4dGVuZHMgQ29yZS5BUElDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpS2V5PXByb2Nlc3MuZW52WydPUEVOQUlfQVBJX0tFWSddID8/IHVuZGVmaW5lZF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLm9yZ2FuaXphdGlvbj1wcm9jZXNzLmVudlsnT1BFTkFJX09SR19JRCddID8/IG51bGxdXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5wcm9qZWN0PXByb2Nlc3MuZW52WydPUEVOQUlfUFJPSkVDVF9JRCddID8/IG51bGxdXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJhc2VVUkw9cHJvY2Vzcy5lbnZbJ09QRU5BSV9CQVNFX1VSTCddID8/IGh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjFdIC0gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmFzZSBVUkwgZm9yIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRpbWVvdXQ9MTAgbWludXRlc10gLSBUaGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSAoaW4gbWlsbGlzZWNvbmRzKSB0aGUgY2xpZW50IHdpbGwgd2FpdCBmb3IgYSByZXNwb25zZSBiZWZvcmUgdGltaW5nIG91dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaHR0cEFnZW50XSAtIEFuIEhUVFAgYWdlbnQgdXNlZCB0byBtYW5hZ2UgSFRUUChzKSBjb25uZWN0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0NvcmUuRmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7Q29yZS5IZWFkZXJzfSBvcHRzLmRlZmF1bHRIZWFkZXJzIC0gRGVmYXVsdCBoZWFkZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtDb3JlLkRlZmF1bHRRdWVyeX0gb3B0cy5kZWZhdWx0UXVlcnkgLSBEZWZhdWx0IHF1ZXJ5IHBhcmFtZXRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyPWZhbHNlXSAtIEJ5IGRlZmF1bHQsIGNsaWVudC1zaWRlIHVzZSBvZiB0aGlzIGxpYnJhcnkgaXMgbm90IGFsbG93ZWQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeyBiYXNlVVJMID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQkFTRV9VUkwnKSwgYXBpS2V5ID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfQVBJX0tFWScpLCBvcmdhbml6YXRpb24gPSBDb3JlLnJlYWRFbnYoJ09QRU5BSV9PUkdfSUQnKSA/PyBudWxsLCBwcm9qZWN0ID0gQ29yZS5yZWFkRW52KCdPUEVOQUlfUFJPSkVDVF9JRCcpID8/IG51bGwsIC4uLm9wdHMgfSA9IHt9KSB7XG4gICAgICAgIGlmIChhcGlLZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcIlRoZSBPUEVOQUlfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBtaXNzaW5nIG9yIGVtcHR5OyBlaXRoZXIgcHJvdmlkZSBpdCwgb3IgaW5zdGFudGlhdGUgdGhlIE9wZW5BSSBjbGllbnQgd2l0aCBhbiBhcGlLZXkgb3B0aW9uLCBsaWtlIG5ldyBPcGVuQUkoeyBhcGlLZXk6ICdNeSBBUEkgS2V5JyB9KS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbixcbiAgICAgICAgICAgIHByb2plY3QsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgYmFzZVVSTDogYmFzZVVSTCB8fCBgaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MWAsXG4gICAgICAgIH07XG4gICAgICAgIGlmICghb3B0aW9ucy5kYW5nZXJvdXNseUFsbG93QnJvd3NlciAmJiBDb3JlLmlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgYmFzZVVSTDogb3B0aW9ucy5iYXNlVVJMLFxuICAgICAgICAgICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0ID8/IDYwMDAwMCAvKiAxMCBtaW51dGVzICovLFxuICAgICAgICAgICAgaHR0cEFnZW50OiBvcHRpb25zLmh0dHBBZ2VudCxcbiAgICAgICAgICAgIG1heFJldHJpZXM6IG9wdGlvbnMubWF4UmV0cmllcyxcbiAgICAgICAgICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBBUEkuQ29tcGxldGlvbnModGhpcyk7XG4gICAgICAgIHRoaXMuY2hhdCA9IG5ldyBBUEkuQ2hhdCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbWJlZGRpbmdzID0gbmV3IEFQSS5FbWJlZGRpbmdzKHRoaXMpO1xuICAgICAgICB0aGlzLmZpbGVzID0gbmV3IEFQSS5GaWxlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5pbWFnZXMgPSBuZXcgQVBJLkltYWdlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5hdWRpbyA9IG5ldyBBUEkuQXVkaW8odGhpcyk7XG4gICAgICAgIHRoaXMubW9kZXJhdGlvbnMgPSBuZXcgQVBJLk1vZGVyYXRpb25zKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVscyA9IG5ldyBBUEkuTW9kZWxzKHRoaXMpO1xuICAgICAgICB0aGlzLmZpbmVUdW5pbmcgPSBuZXcgQVBJLkZpbmVUdW5pbmcodGhpcyk7XG4gICAgICAgIHRoaXMudmVjdG9yU3RvcmVzID0gbmV3IEFQSS5WZWN0b3JTdG9yZXModGhpcyk7XG4gICAgICAgIHRoaXMuYmV0YSA9IG5ldyBBUEkuQmV0YSh0aGlzKTtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbmV3IEFQSS5CYXRjaGVzKHRoaXMpO1xuICAgICAgICB0aGlzLnVwbG9hZHMgPSBuZXcgQVBJLlVwbG9hZHModGhpcyk7XG4gICAgICAgIHRoaXMucmVzcG9uc2VzID0gbmV3IEFQSS5SZXNwb25zZXModGhpcyk7XG4gICAgICAgIHRoaXMuZXZhbHMgPSBuZXcgQVBJLkV2YWxzKHRoaXMpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uID0gb3JnYW5pemF0aW9uO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBkZWZhdWx0UXVlcnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zLmRlZmF1bHRRdWVyeTtcbiAgICB9XG4gICAgZGVmYXVsdEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3VwZXIuZGVmYXVsdEhlYWRlcnMob3B0cyksXG4gICAgICAgICAgICAnT3BlbkFJLU9yZ2FuaXphdGlvbic6IHRoaXMub3JnYW5pemF0aW9uLFxuICAgICAgICAgICAgJ09wZW5BSS1Qcm9qZWN0JzogdGhpcy5wcm9qZWN0LFxuICAgICAgICAgICAgLi4udGhpcy5fb3B0aW9ucy5kZWZhdWx0SGVhZGVycyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXV0aEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCB9O1xuICAgIH1cbiAgICBzdHJpbmdpZnlRdWVyeShxdWVyeSkge1xuICAgICAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHF1ZXJ5LCB7IGFycmF5Rm9ybWF0OiAnYnJhY2tldHMnIH0pO1xuICAgIH1cbn1cbl9hID0gT3BlbkFJO1xuT3BlbkFJLk9wZW5BSSA9IF9hO1xuT3BlbkFJLkRFRkFVTFRfVElNRU9VVCA9IDYwMDAwMDsgLy8gMTAgbWludXRlc1xuT3BlbkFJLk9wZW5BSUVycm9yID0gRXJyb3JzLk9wZW5BSUVycm9yO1xuT3BlbkFJLkFQSUVycm9yID0gRXJyb3JzLkFQSUVycm9yO1xuT3BlbkFJLkFQSUNvbm5lY3Rpb25FcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciA9IEVycm9ycy5BUElDb25uZWN0aW9uVGltZW91dEVycm9yO1xuT3BlbkFJLkFQSVVzZXJBYm9ydEVycm9yID0gRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yO1xuT3BlbkFJLk5vdEZvdW5kRXJyb3IgPSBFcnJvcnMuTm90Rm91bmRFcnJvcjtcbk9wZW5BSS5Db25mbGljdEVycm9yID0gRXJyb3JzLkNvbmZsaWN0RXJyb3I7XG5PcGVuQUkuUmF0ZUxpbWl0RXJyb3IgPSBFcnJvcnMuUmF0ZUxpbWl0RXJyb3I7XG5PcGVuQUkuQmFkUmVxdWVzdEVycm9yID0gRXJyb3JzLkJhZFJlcXVlc3RFcnJvcjtcbk9wZW5BSS5BdXRoZW50aWNhdGlvbkVycm9yID0gRXJyb3JzLkF1dGhlbnRpY2F0aW9uRXJyb3I7XG5PcGVuQUkuSW50ZXJuYWxTZXJ2ZXJFcnJvciA9IEVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yO1xuT3BlbkFJLlBlcm1pc3Npb25EZW5pZWRFcnJvciA9IEVycm9ycy5QZXJtaXNzaW9uRGVuaWVkRXJyb3I7XG5PcGVuQUkuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yID0gRXJyb3JzLlVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcjtcbk9wZW5BSS50b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbk9wZW5BSS5maWxlRnJvbVBhdGggPSBVcGxvYWRzLmZpbGVGcm9tUGF0aDtcbk9wZW5BSS5Db21wbGV0aW9ucyA9IENvbXBsZXRpb25zO1xuT3BlbkFJLkNoYXQgPSBDaGF0O1xuT3BlbkFJLkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuT3BlbkFJLkVtYmVkZGluZ3MgPSBFbWJlZGRpbmdzO1xuT3BlbkFJLkZpbGVzID0gRmlsZXM7XG5PcGVuQUkuRmlsZU9iamVjdHNQYWdlID0gRmlsZU9iamVjdHNQYWdlO1xuT3BlbkFJLkltYWdlcyA9IEltYWdlcztcbk9wZW5BSS5BdWRpbyA9IEF1ZGlvO1xuT3BlbkFJLk1vZGVyYXRpb25zID0gTW9kZXJhdGlvbnM7XG5PcGVuQUkuTW9kZWxzID0gTW9kZWxzO1xuT3BlbkFJLk1vZGVsc1BhZ2UgPSBNb2RlbHNQYWdlO1xuT3BlbkFJLkZpbmVUdW5pbmcgPSBGaW5lVHVuaW5nO1xuT3BlbkFJLlZlY3RvclN0b3JlcyA9IFZlY3RvclN0b3Jlcztcbk9wZW5BSS5WZWN0b3JTdG9yZXNQYWdlID0gVmVjdG9yU3RvcmVzUGFnZTtcbk9wZW5BSS5WZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2UgPSBWZWN0b3JTdG9yZVNlYXJjaFJlc3BvbnNlc1BhZ2U7XG5PcGVuQUkuQmV0YSA9IEJldGE7XG5PcGVuQUkuQmF0Y2hlcyA9IEJhdGNoZXM7XG5PcGVuQUkuQmF0Y2hlc1BhZ2UgPSBCYXRjaGVzUGFnZTtcbk9wZW5BSS5VcGxvYWRzID0gVXBsb2Fkc0FQSVVwbG9hZHM7XG5PcGVuQUkuUmVzcG9uc2VzID0gUmVzcG9uc2VzO1xuT3BlbkFJLkV2YWxzID0gRXZhbHM7XG5PcGVuQUkuRXZhbExpc3RSZXNwb25zZXNQYWdlID0gRXZhbExpc3RSZXNwb25zZXNQYWdlO1xuLyoqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuICovXG5leHBvcnQgY2xhc3MgQXp1cmVPcGVuQUkgZXh0ZW5kcyBPcGVuQUkge1xuICAgIC8qKlxuICAgICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIEF6dXJlIE9wZW5BSSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpVmVyc2lvbj1wcm9jZXNzLmVudlsnT1BFTkFJX0FQSV9WRVJTSU9OJ10gPz8gdW5kZWZpbmVkXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBbb3B0cy5lbmRwb2ludD1wcm9jZXNzLmVudlsnQVpVUkVfT1BFTkFJX0VORFBPSU5UJ10gPz8gdW5kZWZpbmVkXSAtIFlvdXIgQXp1cmUgZW5kcG9pbnQsIGluY2x1ZGluZyB0aGUgcmVzb3VyY2UsIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL2BcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpS2V5PXByb2Nlc3MuZW52WydBWlVSRV9PUEVOQUlfQVBJX0tFWSddID8/IHVuZGVmaW5lZF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gb3B0cy5kZXBsb3ltZW50IC0gQSBtb2RlbCBkZXBsb3ltZW50LCBpZiBnaXZlbiwgc2V0cyB0aGUgYmFzZSBjbGllbnQgVVJMIHRvIGluY2x1ZGUgYC9kZXBsb3ltZW50cy97ZGVwbG95bWVudH1gLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdHMub3JnYW5pemF0aW9uPXByb2Nlc3MuZW52WydPUEVOQUlfT1JHX0lEJ10gPz8gbnVsbF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFzZVVSTD1wcm9jZXNzLmVudlsnT1BFTkFJX0JBU0VfVVJMJ11dIC0gU2V0cyB0aGUgYmFzZSBVUkwgZm9yIHRoZSBBUEksIGUuZy4gYGh0dHBzOi8vZXhhbXBsZS1yZXNvdXJjZS5henVyZS5vcGVuYWkuY29tL29wZW5haS9gLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmh0dHBBZ2VudF0gLSBBbiBIVFRQIGFnZW50IHVzZWQgdG8gbWFuYWdlIEhUVFAocykgY29ubmVjdGlvbnMuXG4gICAgICogQHBhcmFtIHtDb3JlLkZldGNofSBbb3B0cy5mZXRjaF0gLSBTcGVjaWZ5IGEgY3VzdG9tIGBmZXRjaGAgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1heFJldHJpZXM9Ml0gLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdGhlIGNsaWVudCB3aWxsIHJldHJ5IGEgcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0ge0NvcmUuSGVhZGVyc30gb3B0cy5kZWZhdWx0SGVhZGVycyAtIERlZmF1bHQgaGVhZGVycyB0byBpbmNsdWRlIHdpdGggZXZlcnkgcmVxdWVzdCB0byB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7Q29yZS5EZWZhdWx0UXVlcnl9IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCA9IENvcmUucmVhZEVudignT1BFTkFJX0JBU0VfVVJMJyksIGFwaUtleSA9IENvcmUucmVhZEVudignQVpVUkVfT1BFTkFJX0FQSV9LRVknKSwgYXBpVmVyc2lvbiA9IENvcmUucmVhZEVudignT1BFTkFJX0FQSV9WRVJTSU9OJyksIGVuZHBvaW50LCBkZXBsb3ltZW50LCBhenVyZUFEVG9rZW5Qcm92aWRlciwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXIsIC4uLm9wdHMgfSA9IHt9KSB7XG4gICAgICAgIGlmICghYXBpVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihcIlRoZSBPUEVOQUlfQVBJX1ZFUlNJT04gZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbWlzc2luZyBvciBlbXB0eTsgZWl0aGVyIHByb3ZpZGUgaXQsIG9yIGluc3RhbnRpYXRlIHRoZSBBenVyZU9wZW5BSSBjbGllbnQgd2l0aCBhbiBhcGlWZXJzaW9uIG9wdGlvbiwgbGlrZSBuZXcgQXp1cmVPcGVuQUkoeyBhcGlWZXJzaW9uOiAnTXkgQVBJIFZlcnNpb24nIH0pLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGF6dXJlQURUb2tlblByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkYW5nZXJvdXNseUFsbG93QnJvd3NlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhenVyZUFEVG9rZW5Qcm92aWRlciAmJiAhYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdNaXNzaW5nIGNyZWRlbnRpYWxzLiBQbGVhc2UgcGFzcyBvbmUgb2YgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAsIG9yIHNldCB0aGUgYEFaVVJFX09QRU5BSV9BUElfS0VZYCBlbnZpcm9ubWVudCB2YXJpYWJsZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXp1cmVBRFRva2VuUHJvdmlkZXIgJiYgYXBpS2V5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdUaGUgYGFwaUtleWAgYW5kIGBhenVyZUFEVG9rZW5Qcm92aWRlcmAgYXJndW1lbnRzIGFyZSBtdXR1YWxseSBleGNsdXNpdmU7IG9ubHkgb25lIGNhbiBiZSBwYXNzZWQgYXQgYSB0aW1lLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRlZmluZSBhIHNlbnRpbmVsIHZhbHVlIHRvIGF2b2lkIGFueSB0eXBpbmcgaXNzdWVzXG4gICAgICAgIGFwaUtleSA/PyAoYXBpS2V5ID0gQVBJX0tFWV9TRU5USU5FTCk7XG4gICAgICAgIG9wdHMuZGVmYXVsdFF1ZXJ5ID0geyAuLi5vcHRzLmRlZmF1bHRRdWVyeSwgJ2FwaS12ZXJzaW9uJzogYXBpVmVyc2lvbiB9O1xuICAgICAgICBpZiAoIWJhc2VVUkwpIHtcbiAgICAgICAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBlbmRwb2ludCA9IHByb2Nlc3MuZW52WydBWlVSRV9PUEVOQUlfRU5EUE9JTlQnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZW5kcG9pbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdNdXN0IHByb3ZpZGUgb25lIG9mIHRoZSBgYmFzZVVSTGAgb3IgYGVuZHBvaW50YCBhcmd1bWVudHMsIG9yIHRoZSBgQVpVUkVfT1BFTkFJX0VORFBPSU5UYCBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmFzZVVSTCA9IGAke2VuZHBvaW50fS9vcGVuYWlgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcignYmFzZVVSTCBhbmQgZW5kcG9pbnQgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIGJhc2VVUkwsXG4gICAgICAgICAgICAuLi5vcHRzLFxuICAgICAgICAgICAgLi4uKGRhbmdlcm91c2x5QWxsb3dCcm93c2VyICE9PSB1bmRlZmluZWQgPyB7IGRhbmdlcm91c2x5QWxsb3dCcm93c2VyIH0gOiB7fSksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFwaVZlcnNpb24gPSAnJztcbiAgICAgICAgdGhpcy5fYXp1cmVBRFRva2VuUHJvdmlkZXIgPSBhenVyZUFEVG9rZW5Qcm92aWRlcjtcbiAgICAgICAgdGhpcy5hcGlWZXJzaW9uID0gYXBpVmVyc2lvbjtcbiAgICAgICAgdGhpcy5kZXBsb3ltZW50TmFtZSA9IGRlcGxveW1lbnQ7XG4gICAgfVxuICAgIGJ1aWxkUmVxdWVzdChvcHRpb25zLCBwcm9wcyA9IHt9KSB7XG4gICAgICAgIGlmIChfZGVwbG95bWVudHNfZW5kcG9pbnRzLmhhcyhvcHRpb25zLnBhdGgpICYmIG9wdGlvbnMubWV0aG9kID09PSAncG9zdCcgJiYgb3B0aW9ucy5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghQ29yZS5pc09iaihvcHRpb25zLmJvZHkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCByZXF1ZXN0IGJvZHkgdG8gYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZGVwbG95bWVudE5hbWUgfHwgb3B0aW9ucy5ib2R5Wydtb2RlbCddIHx8IG9wdGlvbnMuX19tZXRhZGF0YT8uWydtb2RlbCddO1xuICAgICAgICAgICAgaWYgKG1vZGVsICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuYmFzZVVSTC5pbmNsdWRlcygnL2RlcGxveW1lbnRzJykpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggPSBgL2RlcGxveW1lbnRzLyR7bW9kZWx9JHtvcHRpb25zLnBhdGh9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHByb3BzKTtcbiAgICB9XG4gICAgYXN5bmMgX2dldEF6dXJlQURUb2tlbigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9henVyZUFEVG9rZW5Qcm92aWRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLl9henVyZUFEVG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgICAgaWYgKCF0b2tlbiB8fCB0eXBlb2YgdG9rZW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5PcGVuQUlFcnJvcihgRXhwZWN0ZWQgJ2F6dXJlQURUb2tlblByb3ZpZGVyJyBhcmd1bWVudCB0byByZXR1cm4gYSBzdHJpbmcgYnV0IGl0IHJldHVybmVkICR7dG9rZW59YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYXV0aEhlYWRlcnMob3B0cykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGFzeW5jIHByZXBhcmVPcHRpb25zKG9wdHMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1c2VyIHNob3VsZCBwcm92aWRlIGEgYmVhcmVyIHRva2VuIHByb3ZpZGVyIGlmIHRoZXkgd2FudFxuICAgICAgICAgKiB0byB1c2UgQXp1cmUgQUQgYXV0aGVudGljYXRpb24uIFRoZSB1c2VyIHNob3VsZG4ndCBzZXQgdGhlXG4gICAgICAgICAqIEF1dGhvcml6YXRpb24gaGVhZGVyIG1hbnVhbGx5IGJlY2F1c2UgdGhlIGhlYWRlciBpcyBvdmVyd3JpdHRlblxuICAgICAgICAgKiB3aXRoIHRoZSBBenVyZSBBRCB0b2tlbiBpZiBhIGJlYXJlciB0b2tlbiBwcm92aWRlciBpcyBwcm92aWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRzLmhlYWRlcnM/LlsnYXBpLWtleSddKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucHJlcGFyZU9wdGlvbnMob3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLl9nZXRBenVyZUFEVG9rZW4oKTtcbiAgICAgICAgb3B0cy5oZWFkZXJzID8/IChvcHRzLmhlYWRlcnMgPSB7fSk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgb3B0cy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFwaUtleSAhPT0gQVBJX0tFWV9TRU5USU5FTCkge1xuICAgICAgICAgICAgb3B0cy5oZWFkZXJzWydhcGkta2V5J10gPSB0aGlzLmFwaUtleTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoJ1VuYWJsZSB0byBoYW5kbGUgYXV0aCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5wcmVwYXJlT3B0aW9ucyhvcHRzKTtcbiAgICB9XG59XG5jb25zdCBfZGVwbG95bWVudHNfZW5kcG9pbnRzID0gbmV3IFNldChbXG4gICAgJy9jb21wbGV0aW9ucycsXG4gICAgJy9jaGF0L2NvbXBsZXRpb25zJyxcbiAgICAnL2VtYmVkZGluZ3MnLFxuICAgICcvYXVkaW8vdHJhbnNjcmlwdGlvbnMnLFxuICAgICcvYXVkaW8vdHJhbnNsYXRpb25zJyxcbiAgICAnL2F1ZGlvL3NwZWVjaCcsXG4gICAgJy9pbWFnZXMvZ2VuZXJhdGlvbnMnLFxuXSk7XG5jb25zdCBBUElfS0VZX1NFTlRJTkVMID0gJzxNaXNzaW5nIEtleT4nO1xuZXhwb3J0IHsgdG9GaWxlLCBmaWxlRnJvbVBhdGggfSBmcm9tIFwiLi91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IHsgT3BlbkFJRXJyb3IsIEFQSUVycm9yLCBBUElDb25uZWN0aW9uRXJyb3IsIEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCBOb3RGb3VuZEVycm9yLCBDb25mbGljdEVycm9yLCBSYXRlTGltaXRFcnJvciwgQmFkUmVxdWVzdEVycm9yLCBBdXRoZW50aWNhdGlvbkVycm9yLCBJbnRlcm5hbFNlcnZlckVycm9yLCBQZXJtaXNzaW9uRGVuaWVkRXJyb3IsIFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvciwgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmV4cG9ydCBkZWZhdWx0IE9wZW5BSTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOlsiX2EiLCJxcyIsIkNvcmUiLCJFcnJvcnMiLCJQYWdpbmF0aW9uIiwiVXBsb2FkcyIsIkFQSSIsIkJhdGNoZXMiLCJCYXRjaGVzUGFnZSIsIkNvbXBsZXRpb25zIiwiRW1iZWRkaW5ncyIsIkZpbGVPYmplY3RzUGFnZSIsIkZpbGVzIiwiSW1hZ2VzIiwiTW9kZWxzIiwiTW9kZWxzUGFnZSIsIk1vZGVyYXRpb25zIiwiQXVkaW8iLCJCZXRhIiwiQ2hhdCIsIkV2YWxMaXN0UmVzcG9uc2VzUGFnZSIsIkV2YWxzIiwiRmluZVR1bmluZyIsIlJlc3BvbnNlcyIsIlVwbG9hZHNBUElVcGxvYWRzIiwiVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIiwiVmVjdG9yU3RvcmVzIiwiVmVjdG9yU3RvcmVzUGFnZSIsIkNoYXRDb21wbGV0aW9uc1BhZ2UiLCJPcGVuQUkiLCJBUElDbGllbnQiLCJjb25zdHJ1Y3RvciIsImJhc2VVUkwiLCJyZWFkRW52IiwiYXBpS2V5Iiwib3JnYW5pemF0aW9uIiwicHJvamVjdCIsIm9wdHMiLCJ1bmRlZmluZWQiLCJPcGVuQUlFcnJvciIsIm9wdGlvbnMiLCJkYW5nZXJvdXNseUFsbG93QnJvd3NlciIsImlzUnVubmluZ0luQnJvd3NlciIsInRpbWVvdXQiLCJodHRwQWdlbnQiLCJtYXhSZXRyaWVzIiwiZmV0Y2giLCJjb21wbGV0aW9ucyIsImNoYXQiLCJlbWJlZGRpbmdzIiwiZmlsZXMiLCJpbWFnZXMiLCJhdWRpbyIsIm1vZGVyYXRpb25zIiwibW9kZWxzIiwiZmluZVR1bmluZyIsInZlY3RvclN0b3JlcyIsImJldGEiLCJiYXRjaGVzIiwidXBsb2FkcyIsInJlc3BvbnNlcyIsImV2YWxzIiwiX29wdGlvbnMiLCJkZWZhdWx0UXVlcnkiLCJkZWZhdWx0SGVhZGVycyIsImF1dGhIZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInN0cmluZ2lmeVF1ZXJ5IiwicXVlcnkiLCJzdHJpbmdpZnkiLCJhcnJheUZvcm1hdCIsIkRFRkFVTFRfVElNRU9VVCIsIkFQSUVycm9yIiwiQVBJQ29ubmVjdGlvbkVycm9yIiwiQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwiTm90Rm91bmRFcnJvciIsIkNvbmZsaWN0RXJyb3IiLCJSYXRlTGltaXRFcnJvciIsIkJhZFJlcXVlc3RFcnJvciIsIkF1dGhlbnRpY2F0aW9uRXJyb3IiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiUGVybWlzc2lvbkRlbmllZEVycm9yIiwiVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIiwidG9GaWxlIiwiZmlsZUZyb21QYXRoIiwiQXp1cmVPcGVuQUkiLCJhcGlWZXJzaW9uIiwiZW5kcG9pbnQiLCJkZXBsb3ltZW50IiwiYXp1cmVBRFRva2VuUHJvdmlkZXIiLCJBUElfS0VZX1NFTlRJTkVMIiwicHJvY2VzcyIsImVudiIsIl9henVyZUFEVG9rZW5Qcm92aWRlciIsImRlcGxveW1lbnROYW1lIiwiYnVpbGRSZXF1ZXN0IiwicHJvcHMiLCJfZGVwbG95bWVudHNfZW5kcG9pbnRzIiwiaGFzIiwicGF0aCIsIm1ldGhvZCIsImJvZHkiLCJpc09iaiIsIkVycm9yIiwibW9kZWwiLCJfX21ldGFkYXRhIiwiaW5jbHVkZXMiLCJfZ2V0QXp1cmVBRFRva2VuIiwidG9rZW4iLCJwcmVwYXJlT3B0aW9ucyIsImhlYWRlcnMiLCJTZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/decoders/line.mjs":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/decoders/line.mjs ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineDecoder: () => (/* binding */ LineDecoder),\n/* harmony export */   findDoubleNewlineIndex: () => (/* binding */ findDoubleNewlineIndex)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _LineDecoder_carriageReturnIndex;\n\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */ class LineDecoder {\n    constructor(){\n        _LineDecoder_carriageReturnIndex.set(this, void 0);\n        this.buffer = new Uint8Array();\n        __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n    }\n    decode(chunk) {\n        if (chunk == null) {\n            return [];\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === \"string\" ? new TextEncoder().encode(chunk) : chunk;\n        let newData = new Uint8Array(this.buffer.length + binaryChunk.length);\n        newData.set(this.buffer);\n        newData.set(binaryChunk, this.buffer.length);\n        this.buffer = newData;\n        const lines = [];\n        let patternIndex;\n        while((patternIndex = findNewlineIndex(this.buffer, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\"))) != null){\n            if (patternIndex.carriage && __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") == null) {\n                // skip until we either get a corresponding `\\n`, a new `\\r` or nothing\n                __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, patternIndex.index, \"f\");\n                continue;\n            }\n            // we got double \\r or \\rtext\\n\n            if (__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") != null && (patternIndex.index !== __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") + 1 || patternIndex.carriage)) {\n                lines.push(this.decodeText(this.buffer.slice(0, __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") - 1)));\n                this.buffer = this.buffer.slice(__classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\"));\n                __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n                continue;\n            }\n            const endIndex = __classPrivateFieldGet(this, _LineDecoder_carriageReturnIndex, \"f\") !== null ? patternIndex.preceding - 1 : patternIndex.preceding;\n            const line = this.decodeText(this.buffer.slice(0, endIndex));\n            lines.push(line);\n            this.buffer = this.buffer.slice(patternIndex.index);\n            __classPrivateFieldSet(this, _LineDecoder_carriageReturnIndex, null, \"f\");\n        }\n        return lines;\n    }\n    decodeText(bytes) {\n        if (bytes == null) return \"\";\n        if (typeof bytes === \"string\") return bytes;\n        // Node:\n        if (typeof Buffer !== \"undefined\") {\n            if (bytes instanceof Buffer) {\n                return bytes.toString();\n            }\n            if (bytes instanceof Uint8Array) {\n                return Buffer.from(bytes).toString();\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global \"Buffer\" defined, which this library assumes to be Node. Please report this error.`);\n        }\n        // Browser\n        if (typeof TextDecoder !== \"undefined\") {\n            if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {\n                this.textDecoder ?? (this.textDecoder = new TextDecoder(\"utf8\"));\n                return this.textDecoder.decode(bytes);\n            }\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);\n        }\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);\n    }\n    flush() {\n        if (!this.buffer.length) {\n            return [];\n        }\n        return this.decode(\"\\n\");\n    }\n}\n_LineDecoder_carriageReturnIndex = new WeakMap();\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set([\n    \"\\n\",\n    \"\\r\"\n]);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r]/g;\n/**\n * This function searches the buffer for the end patterns, (\\r or \\n)\n * and returns an object with the index preceding the matched newline and the\n * index after the newline char. `null` is returned if no new line is found.\n *\n * ```ts\n * findNewLineIndex('abc\\ndef') -> { preceding: 2, index: 3 }\n * ```\n */ function findNewlineIndex(buffer, startIndex) {\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for(let i = startIndex ?? 0; i < buffer.length; i++){\n        if (buffer[i] === newline) {\n            return {\n                preceding: i,\n                index: i + 1,\n                carriage: false\n            };\n        }\n        if (buffer[i] === carriage) {\n            return {\n                preceding: i,\n                index: i + 1,\n                carriage: true\n            };\n        }\n    }\n    return null;\n}\nfunction findDoubleNewlineIndex(buffer) {\n    // This function searches the buffer for the end patterns (\\r\\r, \\n\\n, \\r\\n\\r\\n)\n    // and returns the index right after the first occurrence of any pattern,\n    // or -1 if none of the patterns are found.\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for(let i = 0; i < buffer.length - 1; i++){\n        if (buffer[i] === newline && buffer[i + 1] === newline) {\n            // \\n\\n\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === carriage) {\n            // \\r\\r\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === newline && i + 3 < buffer.length && buffer[i + 2] === carriage && buffer[i + 3] === newline) {\n            // \\r\\n\\r\\n\n            return i + 4;\n        }\n    }\n    return -1;\n} //# sourceMappingURL=line.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvZGVjb2RlcnMvbGluZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEseUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUMzRyxJQUFJRCxTQUFTLEtBQUssTUFBTSxJQUFJRSxVQUFVO0lBQ3RDLElBQUlGLFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9KLFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRyxJQUFJLENBQUNILE1BQU1LLEdBQUcsQ0FBQ04sV0FBVyxNQUFNLElBQUlLLFVBQVU7SUFDdkcsT0FBTyxTQUFVLE1BQU1ELEVBQUVHLElBQUksQ0FBQ1AsVUFBVUUsU0FBU0UsSUFBSUEsRUFBRUYsS0FBSyxHQUFHQSxRQUFRRCxNQUFNTyxHQUFHLENBQUNSLFVBQVVFLFFBQVNBO0FBQ3hHO0FBQ0EsSUFBSU8seUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVULFFBQVEsRUFBRUMsS0FBSyxFQUFFRSxJQUFJLEVBQUVDLENBQUM7SUFDcEcsSUFBSUQsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPRixTQUFTLE1BQU1DLElBQUlELFNBQVMsTUFBTUMsRUFBRUcsSUFBSSxDQUFDUCxZQUFZSSxJQUFJQSxFQUFFRixLQUFLLEdBQUdELE1BQU1TLEdBQUcsQ0FBQ1Y7QUFDeEY7QUFDQSxJQUFJVztB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YixNQUFNLENBQUNtQyxFQUFFLEtBQUt0QixVQUFVO1lBQ3hCLE9BQU87Z0JBQUVNLFdBQVdnQjtnQkFBR3JCLE9BQU9xQixJQUFJO2dCQUFHdEIsVUFBVTtZQUFLO1FBQ3hEO0lBQ0o7SUFDQSxPQUFPO0FBQ1g7QUFDTyxTQUFTdUIsdUJBQXVCcEMsTUFBTTtJQUN6QyxnRkFBZ0Y7SUFDaEYseUVBQXlFO0lBQ3pFLDJDQUEyQztJQUMzQyxNQUFNa0MsVUFBVSxNQUFNLEtBQUs7SUFDM0IsTUFBTXJCLFdBQVcsTUFBTSxLQUFLO0lBQzVCLElBQUssSUFBSXNCLElBQUksR0FBR0EsSUFBSW5DLE9BQU9TLE1BQU0sR0FBRyxHQUFHMEIsSUFBSztRQUN4QyxJQUFJbkMsTUFBTSxDQUFDbUMsRUFBRSxLQUFLRCxXQUFXbEMsTUFBTSxDQUFDbUMsSUFBSSxFQUFFLEtBQUtELFNBQVM7WUFDcEQsT0FBTztZQUNQLE9BQU9DLElBQUk7UUFDZjtRQUNBLElBQUluQyxNQUFNLENBQUNtQyxFQUFFLEtBQUt0QixZQUFZYixNQUFNLENBQUNtQyxJQUFJLEVBQUUsS0FBS3RCLFVBQVU7WUFDdEQsT0FBTztZQUNQLE9BQU9zQixJQUFJO1FBQ2Y7UUFDQSxJQUFJbkMsTUFBTSxDQUFDbUMsRUFBRSxLQUFLdEIsWUFDZGIsTUFBTSxDQUFDbUMsSUFBSSxFQUFFLEtBQUtELFdBQ2xCQyxJQUFJLElBQUluQyxPQUFPUyxNQUFNLElBQ3JCVCxNQUFNLENBQUNtQyxJQUFJLEVBQUUsS0FBS3RCLFlBQ2xCYixNQUFNLENBQUNtQyxJQUFJLEVBQUUsS0FBS0QsU0FBUztZQUMzQixXQUFXO1lBQ1gsT0FBT0MsSUFBSTtRQUNmO0lBQ0o7SUFDQSxPQUFPLENBQUM7QUFDWixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9kZWNvZGVycy9saW5lLm1qcz85OWQ3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleDtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uLy4uL2Vycm9yLm1qc1wiO1xuLyoqXG4gKiBBIHJlLWltcGxlbWVudGF0aW9uIG9mIGh0dHB4J3MgYExpbmVEZWNvZGVyYCBpbiBQeXRob24gdGhhdCBoYW5kbGVzIGluY3JlbWVudGFsbHlcbiAqIHJlYWRpbmcgbGluZXMgZnJvbSB0ZXh0LlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmNvZGUvaHR0cHgvYmxvYi85MjAzMzNlYTk4MTE4ZTljZjYxN2YyNDY5MDVkN2IyMDI1MTA5NDFjL2h0dHB4L19kZWNvZGVycy5weSNMMjU4XG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5lRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICB9XG4gICAgZGVjb2RlKGNodW5rKSB7XG4gICAgICAgIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmluYXJ5Q2h1bmsgPSBjaHVuayBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoY2h1bmspXG4gICAgICAgICAgICA6IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2h1bmspXG4gICAgICAgICAgICAgICAgOiBjaHVuaztcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldCh0aGlzLmJ1ZmZlcik7XG4gICAgICAgIG5ld0RhdGEuc2V0KGJpbmFyeUNodW5rLCB0aGlzLmJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ld0RhdGE7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gW107XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZE5ld2xpbmVJbmRleCh0aGlzLmJ1ZmZlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHBhdHRlcm5JbmRleC5jYXJyaWFnZSAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgdW50aWwgd2UgZWl0aGVyIGdldCBhIGNvcnJlc3BvbmRpbmcgYFxcbmAsIGEgbmV3IGBcXHJgIG9yIG5vdGhpbmdcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBwYXR0ZXJuSW5kZXguaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGdvdCBkb3VibGUgXFxyIG9yIFxccnRleHRcXG5cbiAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChwYXR0ZXJuSW5kZXguaW5kZXggIT09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSArIDEgfHwgcGF0dGVybkluZGV4LmNhcnJpYWdlKSkge1xuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2godGhpcy5kZWNvZGVUZXh0KHRoaXMuYnVmZmVyLnNsaWNlKDAsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSAtIDEpKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikpO1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpICE9PSBudWxsID8gcGF0dGVybkluZGV4LnByZWNlZGluZyAtIDEgOiBwYXR0ZXJuSW5kZXgucHJlY2VkaW5nO1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuZGVjb2RlVGV4dCh0aGlzLmJ1ZmZlci5zbGljZSgwLCBlbmRJbmRleCkpO1xuICAgICAgICAgICAgbGluZXMucHVzaChsaW5lKTtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UocGF0dGVybkluZGV4LmluZGV4KTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIG51bGwsIFwiZlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuICAgIGRlY29kZVRleHQoYnl0ZXMpIHtcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgICAgICAvLyBOb2RlOlxuICAgICAgICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBieXRlcy50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ5dGVzIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIHN0cmVhbSBjaHVuayBpbiBhbiBlbnZpcm9ubWVudCB3aXRoIGEgZ2xvYmFsIFwiQnVmZmVyXCIgZGVmaW5lZCwgd2hpY2ggdGhpcyBsaWJyYXJ5IGFzc3VtZXMgdG8gYmUgTm9kZS4gUGxlYXNlIHJlcG9ydCB0aGlzIGVycm9yLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJyb3dzZXJcbiAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChieXRlcyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgYnl0ZXMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dERlY29kZXIgPz8gKHRoaXMudGV4dERlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZGVjb2RlKGJ5dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVW5leHBlY3RlZDogcmVjZWl2ZWQgbm9uLVVpbnQ4QXJyYXkvQXJyYXlCdWZmZXIgKCR7Ynl0ZXMuY29uc3RydWN0b3IubmFtZX0pIGluIGEgd2ViIHBsYXRmb3JtLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBVbmV4cGVjdGVkOiBuZWl0aGVyIEJ1ZmZlciBub3IgVGV4dERlY29kZXIgYXJlIGF2YWlsYWJsZSBhcyBnbG9iYWxzLiBQbGVhc2UgcmVwb3J0IHRoaXMgZXJyb3IuYCk7XG4gICAgfVxuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZSgnXFxuJyk7XG4gICAgfVxufVxuX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXggPSBuZXcgV2Vha01hcCgpO1xuLy8gcHJldHRpZXItaWdub3JlXG5MaW5lRGVjb2Rlci5ORVdMSU5FX0NIQVJTID0gbmV3IFNldChbJ1xcbicsICdcXHInXSk7XG5MaW5lRGVjb2Rlci5ORVdMSU5FX1JFR0VYUCA9IC9cXHJcXG58W1xcblxccl0vZztcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzZWFyY2hlcyB0aGUgYnVmZmVyIGZvciB0aGUgZW5kIHBhdHRlcm5zLCAoXFxyIG9yIFxcbilcbiAqIGFuZCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBpbmRleCBwcmVjZWRpbmcgdGhlIG1hdGNoZWQgbmV3bGluZSBhbmQgdGhlXG4gKiBpbmRleCBhZnRlciB0aGUgbmV3bGluZSBjaGFyLiBgbnVsbGAgaXMgcmV0dXJuZWQgaWYgbm8gbmV3IGxpbmUgaXMgZm91bmQuXG4gKlxuICogYGBgdHNcbiAqIGZpbmROZXdMaW5lSW5kZXgoJ2FiY1xcbmRlZicpIC0+IHsgcHJlY2VkaW5nOiAyLCBpbmRleDogMyB9XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gZmluZE5ld2xpbmVJbmRleChidWZmZXIsIHN0YXJ0SW5kZXgpIHtcbiAgICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gICAgY29uc3QgY2FycmlhZ2UgPSAweDBkOyAvLyBcXHJcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCA/PyAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHByZWNlZGluZzogaSwgaW5kZXg6IGkgKyAxLCBjYXJyaWFnZTogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcHJlY2VkaW5nOiBpLCBpbmRleDogaSArIDEsIGNhcnJpYWdlOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZERvdWJsZU5ld2xpbmVJbmRleChidWZmZXIpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIHRoZSBidWZmZXIgZm9yIHRoZSBlbmQgcGF0dGVybnMgKFxcclxcciwgXFxuXFxuLCBcXHJcXG5cXHJcXG4pXG4gICAgLy8gYW5kIHJldHVybnMgdGhlIGluZGV4IHJpZ2h0IGFmdGVyIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFueSBwYXR0ZXJuLFxuICAgIC8vIG9yIC0xIGlmIG5vbmUgb2YgdGhlIHBhdHRlcm5zIGFyZSBmb3VuZC5cbiAgICBjb25zdCBuZXdsaW5lID0gMHgwYTsgLy8gXFxuXG4gICAgY29uc3QgY2FycmlhZ2UgPSAweDBkOyAvLyBcXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlci5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gbmV3bGluZSAmJiBidWZmZXJbaSArIDFdID09PSBuZXdsaW5lKSB7XG4gICAgICAgICAgICAvLyBcXG5cXG5cbiAgICAgICAgICAgIHJldHVybiBpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSAmJiBidWZmZXJbaSArIDFdID09PSBjYXJyaWFnZSkge1xuICAgICAgICAgICAgLy8gXFxyXFxyXG4gICAgICAgICAgICByZXR1cm4gaSArIDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgICAgICAgIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUgJiZcbiAgICAgICAgICAgIGkgKyAzIDwgYnVmZmVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAyXSA9PT0gY2FycmlhZ2UgJiZcbiAgICAgICAgICAgIGJ1ZmZlcltpICsgM10gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIC8vIFxcclxcblxcclxcblxuICAgICAgICAgICAgcmV0dXJuIGkgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmUubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsInZhbHVlIiwia2luZCIsImYiLCJUeXBlRXJyb3IiLCJoYXMiLCJjYWxsIiwic2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsImdldCIsIl9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4IiwiT3BlbkFJRXJyb3IiLCJMaW5lRGVjb2RlciIsImNvbnN0cnVjdG9yIiwiYnVmZmVyIiwiVWludDhBcnJheSIsImRlY29kZSIsImNodW5rIiwiYmluYXJ5Q2h1bmsiLCJBcnJheUJ1ZmZlciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwibmV3RGF0YSIsImxlbmd0aCIsImxpbmVzIiwicGF0dGVybkluZGV4IiwiZmluZE5ld2xpbmVJbmRleCIsImNhcnJpYWdlIiwiaW5kZXgiLCJwdXNoIiwiZGVjb2RlVGV4dCIsInNsaWNlIiwiZW5kSW5kZXgiLCJwcmVjZWRpbmciLCJsaW5lIiwiYnl0ZXMiLCJCdWZmZXIiLCJ0b1N0cmluZyIsImZyb20iLCJuYW1lIiwiVGV4dERlY29kZXIiLCJ0ZXh0RGVjb2RlciIsImZsdXNoIiwiV2Vha01hcCIsIk5FV0xJTkVfQ0hBUlMiLCJTZXQiLCJORVdMSU5FX1JFR0VYUCIsInN0YXJ0SW5kZXgiLCJuZXdsaW5lIiwiaSIsImZpbmREb3VibGVOZXdsaW5lSW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/decoders/line.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/formats.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/formats.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RFC1738: () => (/* binding */ RFC1738),\n/* harmony export */   RFC3986: () => (/* binding */ RFC3986),\n/* harmony export */   default_format: () => (/* binding */ default_format),\n/* harmony export */   formatters: () => (/* binding */ formatters)\n/* harmony export */ });\nconst default_format = \"RFC3986\";\nconst formatters = {\n    RFC1738: (v)=>String(v).replace(/%20/g, \"+\"),\n    RFC3986: (v)=>String(v)\n};\nconst RFC1738 = \"RFC1738\";\nconst RFC3986 = \"RFC3986\"; //# sourceMappingURL=formats.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvcXMvZm9ybWF0cy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGlCQUFpQixVQUFVO0FBQ2pDLE1BQU1DLGFBQWE7SUFDdEJDLFNBQVMsQ0FBQ0MsSUFBTUMsT0FBT0QsR0FBR0UsT0FBTyxDQUFDLFFBQVE7SUFDMUNDLFNBQVMsQ0FBQ0gsSUFBTUMsT0FBT0Q7QUFDM0IsRUFBRTtBQUNLLE1BQU1ELFVBQVUsVUFBVTtBQUMxQixNQUFNSSxVQUFVLFVBQVUsQ0FDakMsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL2Zvcm1hdHMubWpzPzc1MTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGRlZmF1bHRfZm9ybWF0ID0gJ1JGQzM5ODYnO1xuZXhwb3J0IGNvbnN0IGZvcm1hdHRlcnMgPSB7XG4gICAgUkZDMTczODogKHYpID0+IFN0cmluZyh2KS5yZXBsYWNlKC8lMjAvZywgJysnKSxcbiAgICBSRkMzOTg2OiAodikgPT4gU3RyaW5nKHYpLFxufTtcbmV4cG9ydCBjb25zdCBSRkMxNzM4ID0gJ1JGQzE3MzgnO1xuZXhwb3J0IGNvbnN0IFJGQzM5ODYgPSAnUkZDMzk4Nic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtYXRzLm1qcy5tYXAiXSwibmFtZXMiOlsiZGVmYXVsdF9mb3JtYXQiLCJmb3JtYXR0ZXJzIiwiUkZDMTczOCIsInYiLCJTdHJpbmciLCJyZXBsYWNlIiwiUkZDMzk4NiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/formats.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/stringify.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/stringify.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stringify: () => (/* binding */ stringify)\n/* harmony export */ });\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/utils.mjs\");\n/* harmony import */ var _formats_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formats.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/formats.mjs\");\n\n\nconst has = Object.prototype.hasOwnProperty;\nconst array_prefix_generators = {\n    brackets (prefix) {\n        return String(prefix) + \"[]\";\n    },\n    comma: \"comma\",\n    indices (prefix, key) {\n        return String(prefix) + \"[\" + key + \"]\";\n    },\n    repeat (prefix) {\n        return String(prefix);\n    }\n};\nconst is_array = Array.isArray;\nconst push = Array.prototype.push;\nconst push_to_array = function(arr, value_or_array) {\n    push.apply(arr, is_array(value_or_array) ? value_or_array : [\n        value_or_array\n    ]);\n};\nconst to_ISO = Date.prototype.toISOString;\nconst defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: \"indices\",\n    charset: \"utf-8\",\n    charsetSentinel: false,\n    delimiter: \"&\",\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: _utils_mjs__WEBPACK_IMPORTED_MODULE_0__.encode,\n    encodeValuesOnly: false,\n    format: _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format,\n    formatter: _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters[_formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format],\n    /** @deprecated */ indices: false,\n    serializeDate (date) {\n        return to_ISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\nfunction is_non_nullish_primitive(v) {\n    return typeof v === \"string\" || typeof v === \"number\" || typeof v === \"boolean\" || typeof v === \"symbol\" || typeof v === \"bigint\";\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n    let obj = object;\n    let tmp_sc = sideChannel;\n    let step = 0;\n    let find_flag = false;\n    while((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag){\n        // Where object last appeared in the ref tree\n        const pos = tmp_sc.get(object);\n        step += 1;\n        if (typeof pos !== \"undefined\") {\n            if (pos === step) {\n                throw new RangeError(\"Cyclic object value\");\n            } else {\n                find_flag = true; // Break while\n            }\n        }\n        if (typeof tmp_sc.get(sentinel) === \"undefined\") {\n            step = 0;\n        }\n    }\n    if (typeof filter === \"function\") {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate?.(obj);\n    } else if (generateArrayPrefix === \"comma\" && is_array(obj)) {\n        obj = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.maybe_map)(obj, function(value) {\n            if (value instanceof Date) {\n                return serializeDate?.(value);\n            }\n            return value;\n        });\n    }\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? // @ts-expect-error\n            encoder(prefix, defaults.encoder, charset, \"key\", format) : prefix;\n        }\n        obj = \"\";\n    }\n    if (is_non_nullish_primitive(obj) || (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.is_buffer)(obj)) {\n        if (encoder) {\n            const key_value = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, \"key\", format);\n            return [\n                formatter?.(key_value) + \"=\" + // @ts-expect-error\n                formatter?.(encoder(obj, defaults.encoder, charset, \"value\", format))\n            ];\n        }\n        return [\n            formatter?.(prefix) + \"=\" + formatter?.(String(obj))\n        ];\n    }\n    const values = [];\n    if (typeof obj === \"undefined\") {\n        return values;\n    }\n    let obj_keys;\n    if (generateArrayPrefix === \"comma\" && is_array(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            // @ts-expect-error values only\n            obj = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_0__.maybe_map)(obj, encoder);\n        }\n        obj_keys = [\n            {\n                value: obj.length > 0 ? obj.join(\",\") || null : void undefined\n            }\n        ];\n    } else if (is_array(filter)) {\n        obj_keys = filter;\n    } else {\n        const keys = Object.keys(obj);\n        obj_keys = sort ? keys.sort(sort) : keys;\n    }\n    const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, \"%2E\") : String(prefix);\n    const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + \"[]\" : encoded_prefix;\n    if (allowEmptyArrays && is_array(obj) && obj.length === 0) {\n        return adjusted_prefix + \"[]\";\n    }\n    for(let j = 0; j < obj_keys.length; ++j){\n        const key = obj_keys[j];\n        const value = // @ts-ignore\n        typeof key === \"object\" && typeof key.value !== \"undefined\" ? key.value : obj[key];\n        if (skipNulls && value === null) {\n            continue;\n        }\n        // @ts-ignore\n        const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, \"%2E\") : key;\n        const key_prefix = is_array(obj) ? typeof generateArrayPrefix === \"function\" ? generateArrayPrefix(adjusted_prefix, encoded_key) : adjusted_prefix : adjusted_prefix + (allowDots ? \".\" + encoded_key : \"[\" + encoded_key + \"]\");\n        sideChannel.set(object, step);\n        const valueSideChannel = new WeakMap();\n        valueSideChannel.set(sentinel, sideChannel);\n        push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, // @ts-ignore\n        generateArrayPrefix === \"comma\" && encodeValuesOnly && is_array(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n    }\n    return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n    if (typeof opts.allowEmptyArrays !== \"undefined\" && typeof opts.allowEmptyArrays !== \"boolean\") {\n        throw new TypeError(\"`allowEmptyArrays` option can only be `true` or `false`, when provided\");\n    }\n    if (typeof opts.encodeDotInKeys !== \"undefined\" && typeof opts.encodeDotInKeys !== \"boolean\") {\n        throw new TypeError(\"`encodeDotInKeys` option can only be `true` or `false`, when provided\");\n    }\n    if (opts.encoder !== null && typeof opts.encoder !== \"undefined\" && typeof opts.encoder !== \"function\") {\n        throw new TypeError(\"Encoder has to be a function.\");\n    }\n    const charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== \"undefined\" && opts.charset !== \"utf-8\" && opts.charset !== \"iso-8859-1\") {\n        throw new TypeError(\"The charset option must be either utf-8, iso-8859-1, or undefined\");\n    }\n    let format = _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.default_format;\n    if (typeof opts.format !== \"undefined\") {\n        if (!has.call(_formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters, opts.format)) {\n            throw new TypeError(\"Unknown format option provided.\");\n        }\n        format = opts.format;\n    }\n    const formatter = _formats_mjs__WEBPACK_IMPORTED_MODULE_1__.formatters[format];\n    let filter = defaults.filter;\n    if (typeof opts.filter === \"function\" || is_array(opts.filter)) {\n        filter = opts.filter;\n    }\n    let arrayFormat;\n    if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (\"indices\" in opts) {\n        arrayFormat = opts.indices ? \"indices\" : \"repeat\";\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n    if (\"commaRoundTrip\" in opts && typeof opts.commaRoundTrip !== \"boolean\") {\n        throw new TypeError(\"`commaRoundTrip` must be a boolean, or absent\");\n    }\n    const allowDots = typeof opts.allowDots === \"undefined\" ? !!opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === \"boolean\" ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        // @ts-ignore\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === \"boolean\" ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === \"boolean\" ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === \"undefined\" ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === \"boolean\" ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === \"boolean\" ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === \"function\" ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === \"boolean\" ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === \"function\" ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === \"boolean\" ? opts.skipNulls : defaults.skipNulls,\n        // @ts-ignore\n        sort: typeof opts.sort === \"function\" ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === \"boolean\" ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n}\nfunction stringify(object, opts = {}) {\n    let obj = object;\n    const options = normalize_stringify_options(opts);\n    let obj_keys;\n    let filter;\n    if (typeof options.filter === \"function\") {\n        filter = options.filter;\n        obj = filter(\"\", obj);\n    } else if (is_array(options.filter)) {\n        filter = options.filter;\n        obj_keys = filter;\n    }\n    const keys = [];\n    if (typeof obj !== \"object\" || obj === null) {\n        return \"\";\n    }\n    const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n    const commaRoundTrip = generateArrayPrefix === \"comma\" && options.commaRoundTrip;\n    if (!obj_keys) {\n        obj_keys = Object.keys(obj);\n    }\n    if (options.sort) {\n        obj_keys.sort(options.sort);\n    }\n    const sideChannel = new WeakMap();\n    for(let i = 0; i < obj_keys.length; ++i){\n        const key = obj_keys[i];\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        push_to_array(keys, inner_stringify(obj[key], key, // @ts-expect-error\n        generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n    }\n    const joined = keys.join(options.delimiter);\n    let prefix = options.addQueryPrefix === true ? \"?\" : \"\";\n    if (options.charsetSentinel) {\n        if (options.charset === \"iso-8859-1\") {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += \"utf8=%26%2310003%3B&\";\n        } else {\n            // encodeURIComponent('')\n            prefix += \"utf8=%E2%9C%93&\";\n        }\n    }\n    return joined.length > 0 ? prefix + joined : \"\";\n} //# sourceMappingURL=stringify.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvcXMvc3RyaW5naWZ5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDQTtBQUMzRCxNQUFNSyxNQUFNQyxPQUFPQyxTQUFTLENBQUNDLGNBQWM7QUFDM0MsTUFBTUMsMEJBQTBCO0lBQzVCQyxVQUFTQyxNQUFNO1FBQ1gsT0FBT0MsT0FBT0QsVUFBVTtJQUM1QjtJQUNBRSxPQUFPO0lBQ1BDLFNBQVFILE1BQU0sRUFBRUksR0FBRztRQUNmLE9BQU9ILE9BQU9ELFVBQVUsTUFBTUksTUFBTTtJQUN4QztJQUNBQyxRQUFPTCxNQUFNO1FBQ1QsT0FBT0MsT0FBT0Q7SUFDbEI7QUFDSjtBQUNBLE1BQU1NLFdBQVdDLE1BQU1DLE9BQU87QUFDOUIsTUFBTUMsT0FBT0YsTUFBTVgsU0FBUyxDQUFDYSxJQUFJO0FBQ2pDLE1BQU1DLGdCQUFnQixTQUFVQyxHQUFHLEVBQUVDLGNBQWM7SUFDL0NILEtBQUtJLEtBQUssQ0FBQ0YsS0FBS0wsU0FBU00sa0JBQWtCQSxpQkFBaUI7UUFBQ0E7S0FBZTtBQUNoRjtBQUNBLE1BQU1FLFNBQVNDLEtBQUtuQixTQUFTLENBQUNvQixXQUFXO0FBQ3pDLE1BQU1DLFdBQVc7SUFDYkMsZ0JBQWdCO0lBQ2hCQyxXQUFXO0lBQ1hDLGtCQUFrQjtJQUNsQkMsYUFBYTtJQUNiQyxTQUFTO0lBQ1RDLGlCQUFpQjtJQUNqQkMsV0FBVztJQUNYbkMsUUFBUTtJQUNSb0MsaUJBQWlCO0lBQ2pCQyxTQUFTckMsOENBQU1BO0lBQ2ZzQyxrQkFBa0I7SUFDbEJDLFFBQVFwQyx3REFBY0E7SUFDdEJxQyxXQUFXcEMsb0RBQVUsQ0FBQ0Qsd0RBQWNBLENBQUM7SUFDckMsZ0JBQWdCLEdBQ2hCVyxTQUFTO0lBQ1QyQixlQUFjQyxJQUFJO1FBQ2QsT0FBT2pCLE9BQU9rQixJQUFJLENBQUNEO0lBQ3ZCO0lB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QUksRUFBRThCLFFBQVF0RCxTQUFTLEVBQUVzRCxRQUFRM0MsYUFBYSxFQUFFMkMsUUFBUTdDLE1BQU0sRUFBRTZDLFFBQVE1QyxTQUFTLEVBQUU0QyxRQUFROUMsZ0JBQWdCLEVBQUU4QyxRQUFRbkQsT0FBTyxFQUFFc0I7SUFDMVU7SUFDQSxNQUFNK0IsU0FBU2hCLEtBQUtELElBQUksQ0FBQ2UsUUFBUWpELFNBQVM7SUFDMUMsSUFBSXhCLFNBQVN5RSxRQUFRdkQsY0FBYyxLQUFLLE9BQU8sTUFBTTtJQUNyRCxJQUFJdUQsUUFBUWxELGVBQWUsRUFBRTtRQUN6QixJQUFJa0QsUUFBUW5ELE9BQU8sS0FBSyxjQUFjO1lBQ2xDLHFGQUFxRjtZQUNyRnRCLFVBQVU7UUFDZCxPQUNLO1lBQ0QsMEJBQTBCO1lBQzFCQSxVQUFVO1FBQ2Q7SUFDSjtJQUNBLE9BQU8yRSxPQUFPbEIsTUFBTSxHQUFHLElBQUl6RCxTQUFTMkUsU0FBUztBQUNqRCxFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9xcy9zdHJpbmdpZnkubWpzPzg5YmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZW5jb2RlLCBpc19idWZmZXIsIG1heWJlX21hcCB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdF9mb3JtYXQsIGZvcm1hdHRlcnMgfSBmcm9tIFwiLi9mb3JtYXRzLm1qc1wiO1xuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCkgKyAnW10nO1xuICAgIH0sXG4gICAgY29tbWE6ICdjb21tYScsXG4gICAgaW5kaWNlcyhwcmVmaXgsIGtleSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKHByZWZpeCkgKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcocHJlZml4KTtcbiAgICB9LFxufTtcbmNvbnN0IGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbmNvbnN0IHB1c2hfdG9fYXJyYXkgPSBmdW5jdGlvbiAoYXJyLCB2YWx1ZV9vcl9hcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc19hcnJheSh2YWx1ZV9vcl9hcnJheSkgPyB2YWx1ZV9vcl9hcnJheSA6IFt2YWx1ZV9vcl9hcnJheV0pO1xufTtcbmNvbnN0IHRvX0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgYWxsb3dFbXB0eUFycmF5czogZmFsc2UsXG4gICAgYXJyYXlGb3JtYXQ6ICdpbmRpY2VzJyxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZURvdEluS2V5czogZmFsc2UsXG4gICAgZW5jb2RlcjogZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIGZvcm1hdDogZGVmYXVsdF9mb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXR0ZXJzW2RlZmF1bHRfZm9ybWF0XSxcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvX0lTTy5jYWxsKGRhdGUpO1xuICAgIH0sXG4gICAgc2tpcE51bGxzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdzeW1ib2wnIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYmlnaW50Jyk7XG59XG5jb25zdCBzZW50aW5lbCA9IHt9O1xuZnVuY3Rpb24gaW5uZXJfc3RyaW5naWZ5KG9iamVjdCwgcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMsIHNlcmlhbGl6ZURhdGUsIGZvcm1hdCwgZm9ybWF0dGVyLCBlbmNvZGVWYWx1ZXNPbmx5LCBjaGFyc2V0LCBzaWRlQ2hhbm5lbCkge1xuICAgIGxldCBvYmogPSBvYmplY3Q7XG4gICAgbGV0IHRtcF9zYyA9IHNpZGVDaGFubmVsO1xuICAgIGxldCBzdGVwID0gMDtcbiAgICBsZXQgZmluZF9mbGFnID0gZmFsc2U7XG4gICAgd2hpbGUgKCh0bXBfc2MgPSB0bXBfc2MuZ2V0KHNlbnRpbmVsKSkgIT09IHZvaWQgdW5kZWZpbmVkICYmICFmaW5kX2ZsYWcpIHtcbiAgICAgICAgLy8gV2hlcmUgb2JqZWN0IGxhc3QgYXBwZWFyZWQgaW4gdGhlIHJlZiB0cmVlXG4gICAgICAgIGNvbnN0IHBvcyA9IHRtcF9zYy5nZXQob2JqZWN0KTtcbiAgICAgICAgc3RlcCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHBvcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluZF9mbGFnID0gdHJ1ZTsgLy8gQnJlYWsgd2hpbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRtcF9zYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3RlcCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlPy4ob2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IG1heWJlX21hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVEYXRlPy4odmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KVxuICAgICAgICAgICAgICAgIDogcHJlZml4O1xuICAgICAgICB9XG4gICAgICAgIG9iaiA9ICcnO1xuICAgIH1cbiAgICBpZiAoaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlKG9iaikgfHwgaXNfYnVmZmVyKG9iaikpIHtcbiAgICAgICAgaWYgKGVuY29kZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleV92YWx1ZSA9IGVuY29kZVZhbHVlc09ubHkgPyBwcmVmaXhcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgOiBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdCk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlcj8uKGtleV92YWx1ZSkgK1xuICAgICAgICAgICAgICAgICAgICAnPScgK1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlcj8uKGVuY29kZXIob2JqLCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAndmFsdWUnLCBmb3JtYXQpKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXI/LihwcmVmaXgpICsgJz0nICsgZm9ybWF0dGVyPy4oU3RyaW5nKG9iaikpXTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIGxldCBvYmpfa2V5cztcbiAgICBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc19hcnJheShvYmopKSB7XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gam9pbiBlbGVtZW50cyBpblxuICAgICAgICBpZiAoZW5jb2RlVmFsdWVzT25seSAmJiBlbmNvZGVyKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHZhbHVlcyBvbmx5XG4gICAgICAgICAgICBvYmogPSBtYXliZV9tYXAob2JqLCBlbmNvZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBvYmpfa2V5cyA9IFt7IHZhbHVlOiBvYmoubGVuZ3RoID4gMCA/IG9iai5qb2luKCcsJykgfHwgbnVsbCA6IHZvaWQgdW5kZWZpbmVkIH1dO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc19hcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9ial9rZXlzID0gZmlsdGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9ial9rZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZWRfcHJlZml4ID0gZW5jb2RlRG90SW5LZXlzID8gU3RyaW5nKHByZWZpeCkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IFN0cmluZyhwcmVmaXgpO1xuICAgIGNvbnN0IGFkanVzdGVkX3ByZWZpeCA9IGNvbW1hUm91bmRUcmlwICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMSA/IGVuY29kZWRfcHJlZml4ICsgJ1tdJyA6IGVuY29kZWRfcHJlZml4O1xuICAgIGlmIChhbGxvd0VtcHR5QXJyYXlzICYmIGlzX2FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYWRqdXN0ZWRfcHJlZml4ICsgJ1tdJztcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmpfa2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICBjb25zdCBrZXkgPSBvYmpfa2V5c1tqXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyAmJiB0eXBlb2Yga2V5LnZhbHVlICE9PSAndW5kZWZpbmVkJyA/IGtleS52YWx1ZSA6IG9ialtrZXldO1xuICAgICAgICBpZiAoc2tpcE51bGxzICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IGVuY29kZWRfa2V5ID0gYWxsb3dEb3RzICYmIGVuY29kZURvdEluS2V5cyA/IGtleS5yZXBsYWNlKC9cXC4vZywgJyUyRScpIDoga2V5O1xuICAgICAgICBjb25zdCBrZXlfcHJlZml4ID0gaXNfYXJyYXkob2JqKSA/XG4gICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChhZGp1c3RlZF9wcmVmaXgsIGVuY29kZWRfa2V5KVxuICAgICAgICAgICAgICAgIDogYWRqdXN0ZWRfcHJlZml4XG4gICAgICAgICAgICA6IGFkanVzdGVkX3ByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBlbmNvZGVkX2tleSA6ICdbJyArIGVuY29kZWRfa2V5ICsgJ10nKTtcbiAgICAgICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgc3RlcCk7XG4gICAgICAgIGNvbnN0IHZhbHVlU2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLnNldChzZW50aW5lbCwgc2lkZUNoYW5uZWwpO1xuICAgICAgICBwdXNoX3RvX2FycmF5KHZhbHVlcywgaW5uZXJfc3RyaW5naWZ5KHZhbHVlLCBrZXlfcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBlbmNvZGVWYWx1ZXNPbmx5ICYmIGlzX2FycmF5KG9iaikgPyBudWxsIDogZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMsIHNlcmlhbGl6ZURhdGUsIGZvcm1hdCwgZm9ybWF0dGVyLCBlbmNvZGVWYWx1ZXNPbmx5LCBjaGFyc2V0LCB2YWx1ZVNpZGVDaGFubmVsKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMob3B0cyA9IGRlZmF1bHRzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmFsbG93RW1wdHlBcnJheXMgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgYWxsb3dFbXB0eUFycmF5c2Agb3B0aW9uIGNhbiBvbmx5IGJlIGB0cnVlYCBvciBgZmFsc2VgLCB3aGVuIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BlbmNvZGVEb3RJbktleXNgIG9wdGlvbiBjYW4gb25seSBiZSBgdHJ1ZWAgb3IgYGZhbHNlYCwgd2hlbiBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAob3B0cy5lbmNvZGVyICE9PSBudWxsICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG4gICAgY29uc3QgY2hhcnNldCA9IG9wdHMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgbGV0IGZvcm1hdCA9IGRlZmF1bHRfZm9ybWF0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghaGFzLmNhbGwoZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICBsZXQgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNfYXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cbiAgICBsZXQgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdHMuYXJyYXlGb3JtYXQgJiYgb3B0cy5hcnJheUZvcm1hdCBpbiBhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuYXJyYXlGb3JtYXQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdpbmRpY2VzJyBpbiBvcHRzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5pbmRpY2VzID8gJ2luZGljZXMnIDogJ3JlcGVhdCc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9IGRlZmF1bHRzLmFycmF5Rm9ybWF0O1xuICAgIH1cbiAgICBpZiAoJ2NvbW1hUm91bmRUcmlwJyBpbiBvcHRzICYmIHR5cGVvZiBvcHRzLmNvbW1hUm91bmRUcmlwICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGNvbW1hUm91bmRUcmlwYCBtdXN0IGJlIGEgYm9vbGVhbiwgb3IgYWJzZW50Jyk7XG4gICAgfVxuICAgIGNvbnN0IGFsbG93RG90cyA9IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAhIW9wdHMuZW5jb2RlRG90SW5LZXlzID09PSB0cnVlID9cbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIDogZGVmYXVsdHMuYWxsb3dEb3RzXG4gICAgICAgIDogISFvcHRzLmFsbG93RG90cztcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRRdWVyeVByZWZpeDogdHlwZW9mIG9wdHMuYWRkUXVlcnlQcmVmaXggPT09ICdib29sZWFuJyA/IG9wdHMuYWRkUXVlcnlQcmVmaXggOiBkZWZhdWx0cy5hZGRRdWVyeVByZWZpeCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhbGxvd0RvdHM6IGFsbG93RG90cyxcbiAgICAgICAgYWxsb3dFbXB0eUFycmF5czogdHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyA9PT0gJ2Jvb2xlYW4nID8gISFvcHRzLmFsbG93RW1wdHlBcnJheXMgOiBkZWZhdWx0cy5hbGxvd0VtcHR5QXJyYXlzLFxuICAgICAgICBhcnJheUZvcm1hdDogYXJyYXlGb3JtYXQsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgY29tbWFSb3VuZFRyaXA6ICEhb3B0cy5jb21tYVJvdW5kVHJpcCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlRG90SW5LZXlzOiB0eXBlb2Ygb3B0cy5lbmNvZGVEb3RJbktleXMgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlRG90SW5LZXlzIDogZGVmYXVsdHMuZW5jb2RlRG90SW5LZXlzLFxuICAgICAgICBlbmNvZGVyOiB0eXBlb2Ygb3B0cy5lbmNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5lbmNvZGVyIDogZGVmYXVsdHMuZW5jb2RlcixcbiAgICAgICAgZW5jb2RlVmFsdWVzT25seTogdHlwZW9mIG9wdHMuZW5jb2RlVmFsdWVzT25seSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVWYWx1ZXNPbmx5IDogZGVmYXVsdHMuZW5jb2RlVmFsdWVzT25seSxcbiAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgICBmb3JtYXR0ZXI6IGZvcm1hdHRlcixcbiAgICAgICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KG9iamVjdCwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IG9iaiA9IG9iamVjdDtcbiAgICBjb25zdCBvcHRpb25zID0gbm9ybWFsaXplX3N0cmluZ2lmeV9vcHRpb25zKG9wdHMpO1xuICAgIGxldCBvYmpfa2V5cztcbiAgICBsZXQgZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNfYXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpfa2V5cyA9IGZpbHRlcjtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlfcHJlZml4X2dlbmVyYXRvcnNbb3B0aW9ucy5hcnJheUZvcm1hdF07XG4gICAgY29uc3QgY29tbWFSb3VuZFRyaXAgPSBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIG9wdGlvbnMuY29tbWFSb3VuZFRyaXA7XG4gICAgaWYgKCFvYmpfa2V5cykge1xuICAgICAgICBvYmpfa2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNvcnQpIHtcbiAgICAgICAgb2JqX2tleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cbiAgICBjb25zdCBzaWRlQ2hhbm5lbCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpfa2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCBrZXkgPSBvYmpfa2V5c1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoX3RvX2FycmF5KGtleXMsIGlubmVyX3N0cmluZ2lmeShvYmpba2V5XSwga2V5LCBcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgb3B0aW9ucy5hbGxvd0VtcHR5QXJyYXlzLCBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZywgb3B0aW9ucy5za2lwTnVsbHMsIG9wdGlvbnMuZW5jb2RlRG90SW5LZXlzLCBvcHRpb25zLmVuY29kZSA/IG9wdGlvbnMuZW5jb2RlciA6IG51bGwsIG9wdGlvbnMuZmlsdGVyLCBvcHRpb25zLnNvcnQsIG9wdGlvbnMuYWxsb3dEb3RzLCBvcHRpb25zLnNlcmlhbGl6ZURhdGUsIG9wdGlvbnMuZm9ybWF0LCBvcHRpb25zLmZvcm1hdHRlciwgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LCBvcHRpb25zLmNoYXJzZXQsIHNpZGVDaGFubmVsKSk7XG4gICAgfVxuICAgIGNvbnN0IGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gICAgbGV0IHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBqb2luZWQubGVuZ3RoID4gMCA/IHByZWZpeCArIGpvaW5lZCA6ICcnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5naWZ5Lm1qcy5tYXAiXSwibmFtZXMiOlsiZW5jb2RlIiwiaXNfYnVmZmVyIiwibWF5YmVfbWFwIiwiZGVmYXVsdF9mb3JtYXQiLCJmb3JtYXR0ZXJzIiwiaGFzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJhcnJheV9wcmVmaXhfZ2VuZXJhdG9ycyIsImJyYWNrZXRzIiwicHJlZml4IiwiU3RyaW5nIiwiY29tbWEiLCJpbmRpY2VzIiwia2V5IiwicmVwZWF0IiwiaXNfYXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwicHVzaF90b19hcnJheSIsImFyciIsInZhbHVlX29yX2FycmF5IiwiYXBwbHkiLCJ0b19JU08iLCJEYXRlIiwidG9JU09TdHJpbmciLCJkZWZhdWx0cyIsImFkZFF1ZXJ5UHJlZml4IiwiYWxsb3dEb3RzIiwiYWxsb3dFbXB0eUFycmF5cyIsImFycmF5Rm9ybWF0IiwiY2hhcnNldCIsImNoYXJzZXRTZW50aW5lbCIsImRlbGltaXRlciIsImVuY29kZURvdEluS2V5cyIsImVuY29kZXIiLCJlbmNvZGVWYWx1ZXNPbmx5IiwiZm9ybWF0IiwiZm9ybWF0dGVyIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJjYWxsIiwic2tpcE51bGxzIiwic3RyaWN0TnVsbEhhbmRsaW5nIiwiaXNfbm9uX251bGxpc2hfcHJpbWl0aXZlIiwidiIsInNlbnRpbmVsIiwiaW5uZXJfc3RyaW5naWZ5Iiwib2JqZWN0IiwiZ2VuZXJhdGVBcnJheVByZWZpeCIsImNvbW1hUm91bmRUcmlwIiwiZmlsdGVyIiwic29ydCIsInNpZGVDaGFubmVsIiwib2JqIiwidG1wX3NjIiwic3RlcCIsImZpbmRfZmxhZyIsImdldCIsInVuZGVmaW5lZCIsInBvcyIsIlJhbmdlRXJyb3IiLCJ2YWx1ZSIsImtleV92YWx1ZSIsInZhbHVlcyIsIm9ial9rZXlzIiwibGVuZ3RoIiwiam9pbiIsImtleXMiLCJlbmNvZGVkX3ByZWZpeCIsInJlcGxhY2UiLCJhZGp1c3RlZF9wcmVmaXgiLCJqIiwiZW5jb2RlZF9rZXkiLCJrZXlfcHJlZml4Iiwic2V0IiwidmFsdWVTaWRlQ2hhbm5lbCIsIldlYWtNYXAiLCJub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMiLCJvcHRzIiwiVHlwZUVycm9yIiwic3RyaW5naWZ5Iiwib3B0aW9ucyIsImkiLCJqb2luZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/stringify.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/utils.mjs":
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/utils.mjs ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assign_single_source: () => (/* binding */ assign_single_source),\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   compact: () => (/* binding */ compact),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   is_buffer: () => (/* binding */ is_buffer),\n/* harmony export */   is_regexp: () => (/* binding */ is_regexp),\n/* harmony export */   maybe_map: () => (/* binding */ maybe_map),\n/* harmony export */   merge: () => (/* binding */ merge)\n/* harmony export */ });\n/* harmony import */ var _formats_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formats.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/formats.mjs\");\n\nconst has = Object.prototype.hasOwnProperty;\nconst is_array = Array.isArray;\nconst hex_table = (()=>{\n    const array = [];\n    for(let i = 0; i < 256; ++i){\n        array.push(\"%\" + ((i < 16 ? \"0\" : \"\") + i.toString(16)).toUpperCase());\n    }\n    return array;\n})();\nfunction compact_queue(queue) {\n    while(queue.length > 1){\n        const item = queue.pop();\n        if (!item) continue;\n        const obj = item.obj[item.prop];\n        if (is_array(obj)) {\n            const compacted = [];\n            for(let j = 0; j < obj.length; ++j){\n                if (typeof obj[j] !== \"undefined\") {\n                    compacted.push(obj[j]);\n                }\n            }\n            // @ts-ignore\n            item.obj[item.prop] = compacted;\n        }\n    }\n}\nfunction array_to_object(source, options) {\n    const obj = options && options.plainObjects ? Object.create(null) : {};\n    for(let i = 0; i < source.length; ++i){\n        if (typeof source[i] !== \"undefined\") {\n            obj[i] = source[i];\n        }\n    }\n    return obj;\n}\nfunction merge(target, source, options = {}) {\n    if (!source) {\n        return target;\n    }\n    if (typeof source !== \"object\") {\n        if (is_array(target)) {\n            target.push(source);\n        } else if (target && typeof target === \"object\") {\n            if (options && (options.plainObjects || options.allowPrototypes) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [\n                target,\n                source\n            ];\n        }\n        return target;\n    }\n    if (!target || typeof target !== \"object\") {\n        return [\n            target\n        ].concat(source);\n    }\n    let mergeTarget = target;\n    if (is_array(target) && !is_array(source)) {\n        // @ts-ignore\n        mergeTarget = array_to_object(target, options);\n    }\n    if (is_array(target) && is_array(source)) {\n        source.forEach(function(item, i) {\n            if (has.call(target, i)) {\n                const targetItem = target[i];\n                if (targetItem && typeof targetItem === \"object\" && item && typeof item === \"object\") {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n    return Object.keys(source).reduce(function(acc, key) {\n        const value = source[key];\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n}\nfunction assign_single_source(target, source) {\n    return Object.keys(source).reduce(function(acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n}\nfunction decode(str, _, charset) {\n    const strWithoutPlus = str.replace(/\\+/g, \" \");\n    if (charset === \"iso-8859-1\") {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n}\nconst limit = 1024;\nconst encode = (str, _defaultEncoder, charset, _kind, format)=>{\n    // This code was originally written by Brian White for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n    let string = str;\n    if (typeof str === \"symbol\") {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== \"string\") {\n        string = String(str);\n    }\n    if (charset === \"iso-8859-1\") {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function($0) {\n            return \"%26%23\" + parseInt($0.slice(2), 16) + \"%3B\";\n        });\n    }\n    let out = \"\";\n    for(let j = 0; j < string.length; j += limit){\n        const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        const arr = [];\n        for(let i = 0; i < segment.length; ++i){\n            let c = segment.charCodeAt(i);\n            if (c === 0x2d || // -\n            c === 0x2e || // .\n            c === 0x5f || // _\n            c === 0x7e || // ~\n            c >= 0x30 && c <= 0x39 || // 0-9\n            c >= 0x41 && c <= 0x5a || // a-z\n            c >= 0x61 && c <= 0x7a || // A-Z\n            format === _formats_mjs__WEBPACK_IMPORTED_MODULE_0__.RFC1738 && (c === 0x28 || c === 0x29) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n            if (c < 0x80) {\n                arr[arr.length] = hex_table[c];\n                continue;\n            }\n            if (c < 0x800) {\n                arr[arr.length] = hex_table[0xc0 | c >> 6] + hex_table[0x80 | c & 0x3f];\n                continue;\n            }\n            if (c < 0xd800 || c >= 0xe000) {\n                arr[arr.length] = hex_table[0xe0 | c >> 12] + hex_table[0x80 | c >> 6 & 0x3f] + hex_table[0x80 | c & 0x3f];\n                continue;\n            }\n            i += 1;\n            c = 0x10000 + ((c & 0x3ff) << 10 | segment.charCodeAt(i) & 0x3ff);\n            arr[arr.length] = hex_table[0xf0 | c >> 18] + hex_table[0x80 | c >> 12 & 0x3f] + hex_table[0x80 | c >> 6 & 0x3f] + hex_table[0x80 | c & 0x3f];\n        }\n        out += arr.join(\"\");\n    }\n    return out;\n};\nfunction compact(value) {\n    const queue = [\n        {\n            obj: {\n                o: value\n            },\n            prop: \"o\"\n        }\n    ];\n    const refs = [];\n    for(let i = 0; i < queue.length; ++i){\n        const item = queue[i];\n        // @ts-ignore\n        const obj = item.obj[item.prop];\n        const keys = Object.keys(obj);\n        for(let j = 0; j < keys.length; ++j){\n            const key = keys[j];\n            const val = obj[key];\n            if (typeof val === \"object\" && val !== null && refs.indexOf(val) === -1) {\n                queue.push({\n                    obj: obj,\n                    prop: key\n                });\n                refs.push(val);\n            }\n        }\n    }\n    compact_queue(queue);\n    return value;\n}\nfunction is_regexp(obj) {\n    return Object.prototype.toString.call(obj) === \"[object RegExp]\";\n}\nfunction is_buffer(obj) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\nfunction combine(a, b) {\n    return [].concat(a, b);\n}\nfunction maybe_map(val, fn) {\n    if (is_array(val)) {\n        const mapped = [];\n        for(let i = 0; i < val.length; i += 1){\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n} //# sourceMappingURL=utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvcXMvdXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBd0M7QUFDeEMsTUFBTUMsTUFBTUMsT0FBT0MsU0FBUyxDQUFDQyxjQUFjO0FBQzNDLE1BQU1DLFdBQVdDLE1BQU1DLE9BQU87QUFDOUIsTUFBTUMsWUFBWSxDQUFDO0lBQ2YsTUFBTUMsUUFBUSxFQUFFO0lBQ2hCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJLEtBQUssRUFBRUEsRUFBRztRQUMxQkQsTUFBTUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDRCxJQUFJLEtBQUssTUFBTSxFQUFDLElBQUtBLEVBQUVFLFFBQVEsQ0FBQyxHQUFFLEVBQUdDLFdBQVc7SUFDdkU7SUFDQSxPQUFPSjtBQUNYO0FBQ0EsU0FBU0ssY0FBY0MsS0FBSztJQUN4QixNQUFPQSxNQUFNQyxNQUFNLEdBQUcsRUFBRztRQUNyQixNQUFNQyxPQUFPRixNQUFNRyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0QsTUFDRDtRQUNKLE1BQU1FLE1BQU1GLEtBQUtFLEdBQUcsQ0FBQ0YsS0FBS0csSUFBSSxDQUFDO1FBQy9CLElBQUlmLFNBQVNjLE1BQU07WUFDZixNQUFNRSxZQUFZLEVBQUU7WUFDcEIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILElBQUlILE1BQU0sRUFBRSxFQUFFTSxFQUFHO2dCQUNqQyxJQUFJLE9BQU9ILEdBQUcsQ0FBQ0csRUFBRSxLQUFLLGFBQWE7b0JBQy9CRCxVQUFVVixJQUFJLENBQUNRLEdBQUcsQ0FBQ0csRUFBRTtnQkFDekI7WUFDSjtZQUNBLGFBQWE7WUFDYkwsS0FBS0UsR0FBRyxDQUFDRixLQUFLRyxJQUFJLENBQUMsR0FBR0M7UUFDMUI7SUFDSjtBQUNKO0FBQ0EsU0FBU0UsZ0JBQWdCQyxNQUFNLEVBQUVDLE9BQU87SUFDcEMsTUFB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QUNqQyxPQUFPO0lBQ1g7SUFDQSxPQUFPLENBQUMsQ0FBRUEsQ0FBQUEsSUFBSTBELFdBQVcsSUFBSTFELElBQUkwRCxXQUFXLENBQUNDLFFBQVEsSUFBSTNELElBQUkwRCxXQUFXLENBQUNDLFFBQVEsQ0FBQzNELElBQUc7QUFDekY7QUFDTyxTQUFTNEQsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQ3hCLE9BQU8sRUFBRSxDQUFDakQsTUFBTSxDQUFDZ0QsR0FBR0M7QUFDeEI7QUFDTyxTQUFTQyxVQUFVVCxHQUFHLEVBQUVVLEVBQUU7SUFDN0IsSUFBSTlFLFNBQVNvRSxNQUFNO1FBQ2YsTUFBTVcsU0FBUyxFQUFFO1FBQ2pCLElBQUssSUFBSTFFLElBQUksR0FBR0EsSUFBSStELElBQUl6RCxNQUFNLEVBQUVOLEtBQUssRUFBRztZQUNwQzBFLE9BQU96RSxJQUFJLENBQUN3RSxHQUFHVixHQUFHLENBQUMvRCxFQUFFO1FBQ3pCO1FBQ0EsT0FBTzBFO0lBQ1g7SUFDQSxPQUFPRCxHQUFHVjtBQUNkLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3V0aWxzLm1qcz82YjJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJGQzE3MzggfSBmcm9tIFwiLi9mb3JtYXRzLm1qc1wiO1xuY29uc3QgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGlzX2FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGhleF90YWJsZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIGFycmF5LnB1c2goJyUnICsgKChpIDwgMTYgPyAnMCcgOiAnJykgKyBpLnRvU3RyaW5nKDE2KSkudG9VcHBlckNhc2UoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn0pKCk7XG5mdW5jdGlvbiBjb21wYWN0X3F1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICBpZiAoIWl0ZW0pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcbiAgICAgICAgaWYgKGlzX2FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBhY3RlZCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXJyYXlfdG9fb2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc19hcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKChvcHRpb25zICYmIChvcHRpb25zLnBsYWluT2JqZWN0cyB8fCBvcHRpb25zLmFsbG93UHJvdG90eXBlcykpIHx8XG4gICAgICAgICAgICAgICAgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuICAgIGxldCBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNfYXJyYXkodGFyZ2V0KSAmJiAhaXNfYXJyYXkoc291cmNlKSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG1lcmdlVGFyZ2V0ID0gYXJyYXlfdG9fb2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChpc19hcnJheSh0YXJnZXQpICYmIGlzX2FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbl9zaW5nbGVfc291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHN0ciwgXywgY2hhcnNldCkge1xuICAgIGNvbnN0IHN0cldpdGhvdXRQbHVzID0gc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgLy8gdW5lc2NhcGUgbmV2ZXIgdGhyb3dzLCBubyB0cnkuLi5jYXRjaCBuZWVkZWQ6XG4gICAgICAgIHJldHVybiBzdHJXaXRob3V0UGx1cy5yZXBsYWNlKC8lWzAtOWEtZl17Mn0vZ2ksIHVuZXNjYXBlKTtcbiAgICB9XG4gICAgLy8gdXRmLThcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cldpdGhvdXRQbHVzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn1cbmNvbnN0IGxpbWl0ID0gMTAyNDtcbmV4cG9ydCBjb25zdCBlbmNvZGUgPSAoc3RyLCBfZGVmYXVsdEVuY29kZXIsIGNoYXJzZXQsIF9raW5kLCBmb3JtYXQpID0+IHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGxldCBzdHJpbmcgPSBzdHI7XG4gICAgaWYgKHR5cGVvZiBzdHIgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgIHN0cmluZyA9IFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdHIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICByZXR1cm4gZXNjYXBlKHN0cmluZykucmVwbGFjZSgvJXVbMC05YS1mXXs0fS9naSwgZnVuY3Rpb24gKCQwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyUyNiUyMycgKyBwYXJzZUludCgkMC5zbGljZSgyKSwgMTYpICsgJyUzQic7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgb3V0ID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHJpbmcubGVuZ3RoOyBqICs9IGxpbWl0KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzdHJpbmcubGVuZ3RoID49IGxpbWl0ID8gc3RyaW5nLnNsaWNlKGosIGogKyBsaW1pdCkgOiBzdHJpbmc7XG4gICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBjID0gc2VnbWVudC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09IDB4MmQgfHwgLy8gLVxuICAgICAgICAgICAgICAgIGMgPT09IDB4MmUgfHwgLy8gLlxuICAgICAgICAgICAgICAgIGMgPT09IDB4NWYgfHwgLy8gX1xuICAgICAgICAgICAgICAgIGMgPT09IDB4N2UgfHwgLy8gflxuICAgICAgICAgICAgICAgIChjID49IDB4MzAgJiYgYyA8PSAweDM5KSB8fCAvLyAwLTlcbiAgICAgICAgICAgICAgICAoYyA+PSAweDQxICYmIGMgPD0gMHg1YSkgfHwgLy8gYS16XG4gICAgICAgICAgICAgICAgKGMgPj0gMHg2MSAmJiBjIDw9IDB4N2EpIHx8IC8vIEEtWlxuICAgICAgICAgICAgICAgIChmb3JtYXQgPT09IFJGQzE3MzggJiYgKGMgPT09IDB4MjggfHwgYyA9PT0gMHgyOSkpIC8vICggKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gc2VnbWVudC5jaGFyQXQoaSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBoZXhfdGFibGVbY107XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgYXJyW2Fyci5sZW5ndGhdID0gaGV4X3RhYmxlWzB4YzAgfCAoYyA+PiA2KV0gKyBoZXhfdGFibGVbMHg4MCB8IChjICYgMHgzZildO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPCAweGQ4MDAgfHwgYyA+PSAweGUwMDApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPVxuICAgICAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHhlMCB8IChjID4+IDEyKV0gKyBoZXhfdGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M2YpXSArIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNmZikgPDwgMTApIHwgKHNlZ21lbnQuY2hhckNvZGVBdChpKSAmIDB4M2ZmKSk7XG4gICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPVxuICAgICAgICAgICAgICAgIGhleF90YWJsZVsweGYwIHwgKGMgPj4gMTgpXSArXG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M2YpXSArXG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICtcbiAgICAgICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gYXJyLmpvaW4oJycpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufTtcbmV4cG9ydCBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgY29uc3QgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIGNvbnN0IHJlZnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZVtpXTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2pdO1xuICAgICAgICAgICAgY29uc3QgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBhY3RfcXVldWUocXVldWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc19yZWdleHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc19idWZmZXIob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tYmluZShhLCBiKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChhLCBiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXliZV9tYXAodmFsLCBmbikge1xuICAgIGlmIChpc19hcnJheSh2YWwpKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgbWFwcGVkLnB1c2goZm4odmFsW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZuKHZhbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5tanMubWFwIl0sIm5hbWVzIjpbIlJGQzE3MzgiLCJoYXMiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImlzX2FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiaGV4X3RhYmxlIiwiYXJyYXkiLCJpIiwicHVzaCIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJjb21wYWN0X3F1ZXVlIiwicXVldWUiLCJsZW5ndGgiLCJpdGVtIiwicG9wIiwib2JqIiwicHJvcCIsImNvbXBhY3RlZCIsImoiLCJhcnJheV90b19vYmplY3QiLCJzb3VyY2UiLCJvcHRpb25zIiwicGxhaW5PYmplY3RzIiwiY3JlYXRlIiwibWVyZ2UiLCJ0YXJnZXQiLCJhbGxvd1Byb3RvdHlwZXMiLCJjYWxsIiwiY29uY2F0IiwibWVyZ2VUYXJnZXQiLCJmb3JFYWNoIiwidGFyZ2V0SXRlbSIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJrZXkiLCJ2YWx1ZSIsImFzc2lnbl9zaW5nbGVfc291cmNlIiwiZGVjb2RlIiwic3RyIiwiXyIsImNoYXJzZXQiLCJzdHJXaXRob3V0UGx1cyIsInJlcGxhY2UiLCJ1bmVzY2FwZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImUiLCJsaW1pdCIsImVuY29kZSIsIl9kZWZhdWx0RW5jb2RlciIsIl9raW5kIiwiZm9ybWF0Iiwic3RyaW5nIiwiU3ltYm9sIiwiU3RyaW5nIiwiZXNjYXBlIiwiJDAiLCJwYXJzZUludCIsInNsaWNlIiwib3V0Iiwic2VnbWVudCIsImFyciIsImMiLCJjaGFyQ29kZUF0IiwiY2hhckF0Iiwiam9pbiIsImNvbXBhY3QiLCJvIiwicmVmcyIsInZhbCIsImluZGV4T2YiLCJpc19yZWdleHAiLCJpc19idWZmZXIiLCJjb25zdHJ1Y3RvciIsImlzQnVmZmVyIiwiY29tYmluZSIsImEiLCJiIiwibWF5YmVfbWFwIiwiZm4iLCJtYXBwZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/qs/utils.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/stream-utils.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/stream-utils.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReadableStreamToAsyncIterable: () => (/* binding */ ReadableStreamToAsyncIterable)\n/* harmony export */ });\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */ function ReadableStreamToAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator]) return stream;\n    const reader = stream.getReader();\n    return {\n        async next () {\n            try {\n                const result = await reader.read();\n                if (result?.done) reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            } catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return () {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return {\n                done: true,\n                value: undefined\n            };\n        },\n        [Symbol.asyncIterator] () {\n            return this;\n        }\n    };\n} //# sourceMappingURL=stream-utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvc3RyZWFtLXV0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7O0NBS0MsR0FDTSxTQUFTQSw4QkFBOEJDLE1BQU07SUFDaEQsSUFBSUEsTUFBTSxDQUFDQyxPQUFPQyxhQUFhLENBQUMsRUFDNUIsT0FBT0Y7SUFDWCxNQUFNRyxTQUFTSCxPQUFPSSxTQUFTO0lBQy9CLE9BQU87UUFDSCxNQUFNQztZQUNGLElBQUk7Z0JBQ0EsTUFBTUMsU0FBUyxNQUFNSCxPQUFPSSxJQUFJO2dCQUNoQyxJQUFJRCxRQUFRRSxNQUNSTCxPQUFPTSxXQUFXLElBQUksMENBQTBDO2dCQUNwRSxPQUFPSDtZQUNYLEVBQ0EsT0FBT0ksR0FBRztnQkFDTlAsT0FBT00sV0FBVyxJQUFJLDJDQUEyQztnQkFDakUsTUFBTUM7WUFDVjtRQUNKO1FBQ0EsTUFBTUM7WUFDRixNQUFNQyxnQkFBZ0JULE9BQU9VLE1BQU07WUFDbkNWLE9BQU9NLFdBQVc7WUFDbEIsTUFBTUc7WUFDTixPQUFPO2dCQUFFSixNQUFNO2dCQUFNTSxPQUFPQztZQUFVO1FBQzFDO1FBQ0EsQ0FBQ2QsT0FBT0MsYUFBYSxDQUFDO1lBQ2xCLE9BQU8sSUFBSTtRQUNmO0lBQ0o7QUFDSixFQUNBLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9zdHJlYW0tdXRpbHMubWpzPzIzNmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb3N0IGJyb3dzZXJzIGRvbid0IHlldCBoYXZlIGFzeW5jIGl0ZXJhYmxlIHN1cHBvcnQgZm9yIFJlYWRhYmxlU3RyZWFtLFxuICogYW5kIE5vZGUgaGFzIGEgdmVyeSBkaWZmZXJlbnQgd2F5IG9mIHJlYWRpbmcgYnl0ZXMgZnJvbSBpdHMgXCJSZWFkYWJsZVN0cmVhbVwiLlxuICpcbiAqIFRoaXMgcG9seWZpbGwgd2FzIHB1bGxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9NYXR0aWFzQnVlbGVucy93ZWItc3RyZWFtcy1wb2x5ZmlsbC9wdWxsLzEyMiNpc3N1ZWNvbW1lbnQtMTYyNzM1NDQ5MFxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGUoc3RyZWFtKSB7XG4gICAgaWYgKHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pXG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdD8uZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGNsb3NlZFxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpOyAvLyByZWxlYXNlIGxvY2sgd2hlbiBzdHJlYW0gYmVjb21lcyBlcnJvcmVkXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgcmV0dXJuKCkge1xuICAgICAgICAgICAgY29uc3QgY2FuY2VsUHJvbWlzZSA9IHJlYWRlci5jYW5jZWwoKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgICAgICAgICAgYXdhaXQgY2FuY2VsUHJvbWlzZTtcbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdHJlYW0tdXRpbHMubWpzLm1hcCJdLCJuYW1lcyI6WyJSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZSIsInN0cmVhbSIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJuZXh0IiwicmVzdWx0IiwicmVhZCIsImRvbmUiLCJyZWxlYXNlTG9jayIsImUiLCJyZXR1cm4iLCJjYW5jZWxQcm9taXNlIiwiY2FuY2VsIiwidmFsdWUiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/stream-utils.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AbstractChatCompletionRunner.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AbstractChatCompletionRunner.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractChatCompletionRunner: () => (/* binding */ AbstractChatCompletionRunner)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RunnableFunction.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/RunnableFunction.mjs\");\n/* harmony import */ var _chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chatCompletionUtils.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/chatCompletionUtils.mjs\");\n/* harmony import */ var _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs\");\n/* harmony import */ var _lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/parser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs\");\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\n\n\n\n\n\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nclass AbstractChatCompletionRunner extends _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__.EventStream {\n    constructor(){\n        super(...arguments);\n        _AbstractChatCompletionRunner_instances.add(this);\n        this._chatCompletions = [];\n        this.messages = [];\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit(\"chatCompletion\", chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message) this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        if (!(\"content\" in message)) message.content = null;\n        this.messages.push(message);\n        if (emit) {\n            this._emit(\"message\", message);\n            if (((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isFunctionMessage)(message) || (0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isToolMessage)(message)) && message.content) {\n                // Note, this assumes that {role: 'tool', content: } is always the result of a call of tool of type=function.\n                this._emit(\"functionCallResult\", message.content);\n            } else if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.function_call) {\n                this._emit(\"functionCall\", message.function_call);\n            } else if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls){\n                    if (tool_call.type === \"function\") {\n                        this._emit(\"functionCall\", tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */ async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion) throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"stream ended without producing a ChatCompletion\");\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalContent() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalMessage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */ async finalFunctionCall() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n    }\n    async finalFunctionCallResult() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [\n            ...this._chatCompletions\n        ];\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion) this._emit(\"finalChatCompletion\", completion);\n        const finalMessage = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n        if (finalMessage) this._emit(\"finalMessage\", finalMessage);\n        const finalContent = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent) this._emit(\"finalContent\", finalContent);\n        const finalFunctionCall = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n        if (finalFunctionCall) this._emit(\"finalFunctionCall\", finalFunctionCall);\n        const finalFunctionCallResult = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n        if (finalFunctionCallResult != null) this._emit(\"finalFunctionCallResult\", finalFunctionCallResult);\n        if (this._chatCompletions.some((c)=>c.usage)) {\n            this._emit(\"totalUsage\", __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await client.chat.completions.create({\n            ...params,\n            stream: false\n        }, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        return this._addChatCompletion((0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.parseChatCompletion)(chatCompletion, params));\n    }\n    async _runChatCompletion(client, params, options) {\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(client, params, options);\n    }\n    async _runFunctions(client, params, options) {\n        const role = \"function\";\n        const { function_call = \"auto\", stream, ...restParams } = params;\n        const singleFunctionToCall = typeof function_call !== \"string\" && function_call?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.functions){\n            functionsByName[f.name || f.function.name] = f;\n        }\n        const functions = params.functions.map((f)=>({\n                name: f.name || f.function.name,\n                parameters: f.parameters,\n                description: f.description\n            }));\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        for(let i = 0; i < maxChatCompletions; ++i){\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                function_call,\n                functions,\n                messages: [\n                    ...this.messages\n                ]\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.function_call) return;\n            const { name, arguments: args } = message.function_call;\n            const fn = functionsByName[name];\n            if (!fn) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions.map((f)=>JSON.stringify(f.name)).join(\", \")}. Please try again`;\n                this._addMessage({\n                    role,\n                    name,\n                    content\n                });\n                continue;\n            } else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                this._addMessage({\n                    role,\n                    name,\n                    content\n                });\n                continue;\n            }\n            let parsed;\n            try {\n                parsed = (0,_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n            } catch (error) {\n                this._addMessage({\n                    role,\n                    name,\n                    content: error instanceof Error ? error.message : String(error)\n                });\n                continue;\n            }\n            // @ts-expect-error it can't rule out `never` type.\n            const rawContent = await fn.function(parsed, this);\n            const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n            this._addMessage({\n                role,\n                name,\n                content\n            });\n            if (singleFunctionToCall) return;\n        }\n    }\n    async _runTools(client, params, options) {\n        const role = \"tool\";\n        const { tool_choice = \"auto\", stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== \"string\" && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        // TODO(someday): clean this logic up\n        const inputTools = params.tools.map((tool)=>{\n            if ((0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableTool)(tool)) {\n                if (!tool.$callback) {\n                    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"Tool given to `.runTools()` that does not have an associated function\");\n                }\n                return {\n                    type: \"function\",\n                    function: {\n                        function: tool.$callback,\n                        name: tool.function.name,\n                        description: tool.function.description || \"\",\n                        parameters: tool.function.parameters,\n                        parse: tool.$parseRaw,\n                        strict: true\n                    }\n                };\n            }\n            return tool;\n        });\n        const functionsByName = {};\n        for (const f of inputTools){\n            if (f.type === \"function\") {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = \"tools\" in params ? inputTools.map((t)=>t.type === \"function\" ? {\n                type: \"function\",\n                function: {\n                    name: t.function.name || t.function.function.name,\n                    parameters: t.function.parameters,\n                    description: t.function.description,\n                    strict: t.function.strict\n                }\n            } : t) : undefined;\n        for (const message of params.messages){\n            this._addMessage(message, false);\n        }\n        for(let i = 0; i < maxChatCompletions; ++i){\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [\n                    ...this.messages\n                ]\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls?.length) {\n                return;\n            }\n            for (const tool_call of message.tool_calls){\n                if (tool_call.type !== \"function\") continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName).map((name)=>JSON.stringify(name)).join(\", \")}. Please try again`;\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                } else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = (0,_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_4__.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n                } catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({\n                        role,\n                        tool_call_id,\n                        content\n                    });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({\n                    role,\n                    tool_call_id,\n                    content\n                });\n                if (singleFunctionToCall) {\n                    return;\n                }\n            }\n        }\n        return;\n    }\n}\n_AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while(i-- > 0){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message)) {\n            const { function_call, ...rest } = message;\n            // TODO: support audio here\n            const ret = {\n                ...rest,\n                content: message.content ?? null,\n                refusal: message.refusal ?? null\n            };\n            if (function_call) {\n                ret.function_call = function_call;\n            }\n            return ret;\n        }\n    }\n    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"stream ended without producing a ChatCompletionMessage with role=assistant\");\n}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall() {\n    for(let i = this.messages.length - 1; i >= 0; i--){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message?.function_call) {\n            return message.function_call;\n        }\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message?.tool_calls?.length) {\n            return message.tool_calls.at(-1)?.function;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult() {\n    for(let i = this.messages.length - 1; i >= 0; i--){\n        const message = this.messages[i];\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isFunctionMessage)(message) && message.content != null) {\n            return message.content;\n        }\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isToolMessage)(message) && message.content != null && typeof message.content === \"string\" && this.messages.some((x)=>x.role === \"assistant\" && x.tool_calls?.some((y)=>y.type === \"function\" && y.id === message.tool_call_id))) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0\n    };\n    for (const { usage } of this._chatCompletions){\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(\"ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.\");\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return typeof rawContent === \"string\" ? rawContent : rawContent === undefined ? \"undefined\" : JSON.stringify(rawContent);\n}; //# sourceMappingURL=AbstractChatCompletionRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUlBLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQ3BHLElBQUlELFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9ILFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRSxJQUFJLENBQUNGLE1BQU1JLEdBQUcsQ0FBQ0wsV0FBVyxNQUFNLElBQUlJLFVBQVU7SUFDdkcsT0FBT0YsU0FBUyxNQUFNQyxJQUFJRCxTQUFTLE1BQU1DLEVBQUVHLElBQUksQ0FBQ04sWUFBWUcsSUFBSUEsRUFBRUksS0FBSyxHQUFHTixNQUFNTyxHQUFHLENBQUNSO0FBQ3hGO0FBQ0EsSUFBSVMseUNBQXlDQywrQ0FBK0NDLCtDQUErQ0Msb0RBQW9EQywwREFBMERDLG1EQUFtREMsOENBQThDQztBQUMvUztBQUMyQjtBQUMyQjtBQUNqRDtBQUM0QjtBQUM1RSxNQUFNUywrQkFBK0I7QUFDOUIsTUFBTUMscUNBQXFDSix5REFBV0E7SUFDekRLLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1RuQix3Q0FBd0NvQixHQUFHLENBQUMsSUFBSTtRQUNoRCxJQUFJLENBQUNDLGdCQUFnQixHQUFHLEVBQUU7UUFDMUIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsRUFBRTtJQUN0QjtJQUNBQyxtQkFBbUJDLGNBQWMsRUFBRTtRQUMvQixJQUFJLENBQUNILGdCQUFnQixDQUFDSSxJQUFJLENBQUNEO1FBQzNCLElBQUksQ0FBQ0UsS0FBSyxDQUFDLGtCQUFrQkY7UUFDN0IsTUFBTUcsVUFBVUgsZUFBZUksT0FBTyxDQUFDLEVBQUUsRUFBRUQ7UUFDM0MsSUFBSUEsU0FDQSxJQUFJLENBQUNFLFdBQVcsQ0FBQ0Y7UUFDckIsT0FBT0g7SUFDWDtJQUNBSyxZQUFZRixPQUFPLEVBQUVHLE9BQU8sSUFBSSxFQUFFO1FBQzlCLElBQUksQ0FBRSxjQUFhSCxPQUFNLEdBQ3JCQSxRQUFRSSxPQUFPLEdBQUc7UUFDdEIsSUFBSSxDQUFDVCxRQUFRLENBQUNHLElBQUksQ0FBQ0U7UUFDbkIsSUFBSUcsTUFBTTtZQUNOLElBQUksQ0FBQ0osS0FBSyxDQUFDLFdBQVdDO1lBQ3RCLElBQUksQ0FBQ2hCLDJFQUFpQkEsQ0FBQ2dCLFlBQVlmLHVFQUFhQSxDQUFDZSxRQUFPLEtBQU1BLFFBQVFJLE9BQU8sRUFBRTtnQkFDM0UsOEdBQThHO2dCQUM5RyxJQUFJLENBQUNMLEtBQUssQ0FBQyxzQkFBc0JDLFFBQVFJLE9BQU87WUFDcEQsT0FDSyxJQUFJckIsNEVBQWtCQSxDQUFDaUIsWUFBWUEsUUFBUUssYUFBYSxFQUFFO2dCQUMzRCxJQUFJLENBQUNOLEtBQUssQ0FBQyxnQkFBZ0JDLFFBQVFLLGFBQWE7WUFDcEQsT0FDSyxJQUFJdEIsNEVBQWtCQSxDQUFDaUIsWUFBWUEsUUFBUU0sVUFBVSxFQUFFO2dCQUN4RCxLQUFLLE1BQU1DLGFBQWFQLFFBQVFNLFVBQVUsQ0FBRTtvQkFDeEMsSUFBSUMsVUFBVUMsSUFBSSxLQUFLLFlBQVk7d0JBQy9CLElBQUksQ0FBQ1QsS0FBSyxDQUFDLGdCQUFnQlEsVUFBVUUsUUFBUTtvQkFDakQ7Z0JBQ0o7WUFDSjtRQUNKO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRCxNQUFNQyxzQkFBc0I7UUFDeEIsTUFBTSxJQUFJLENBQUNDLElBQUk7UUFDZixNQUFNQyxhQUFhLElBQUksQ0FBQ2xCLGdCQUFnQixDQUFDLElBQUksQ0FBQ0EsZ0JBQWdCLENBQUNtQixNQUFNLEdBQUcsRUFBRTtRQUMxRSxJQUFJLENBQUNELFlBQ0QsTUFBTSxJQUFJL0IsbURBQVdBLENBQUM7UUFDMUIsT0FBTytCO0lBQ1g7SUFDQTs7O0tBR0MsR0FDRCxNQUFNRSxlQUFlO1FBQ2pCLE1BQU0sSUFBSSxDQUFDSCxJQUFJO1FBQ2YsT0FBT2hELHVCQUF1QixJQUFJLEVBQUVVLHlDQUF5QyxLQUFLQywrQ0FBK0NKLElBQUksQ0FBQyxJQUFJO0lBQzlJO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTTZDLGVBQWU7UUFDakIsTUFBTSxJQUFJLENBQUNKLElBQUk7UUFDZixPQUFPaEQsdUJBQXVCLElBQUksRUFBRVUseUNBQXlDLEtBQUtFLCtDQUErQ0wsSUFBSSxDQUFDLElBQUk7SUFDOUk7SUFDQTs7O0tBR0MsR0FDRCxNQUFNOEMsb0JBQW9CO1FBQ3RCLE1BQU0sSUFBSSxDQUFDTCxJQUFJO1FBQ2YsT0FBT2hELHVCQUF1QixJQUFJLEVBQUVVLHlDQUF5QyxLQUFLRyxvREFBb0ROLElBQUksQ0FBQyxJQUFJO0lBQ25KO0lBQ0EsTUFBTStDLDBCQUEwQjtRQUM1QixNQUFNLElBQUksQ0FBQ04sSUFBSTtRQUNmLE9BQU9oRCx1QkFBdUIsSUFBSSxFQUFFVSx5Q0FBeUMsS0FBS0ksMERBQTBEUCxJQUFJLENBQUMsSUFBSTtJQUN6SjtJQUNBLE1BQU1nRCxhQUFhO1FBQ2YsTUFBTSxJQUFJLENBQUNQLElBQUk7UUFDZixPQUFPaEQsdUJBQXVCLElBQUksRUFBRVUseUNBQXlDLEtBQUtLLG1EQUFtRFIsSUFBSSxDQUFDLElBQUk7SUFDbEo7SUFDQWlELHFCQUFxQjtRQUNqQixPQUFPO2VBQUksSUFBSSxDQUFDekIsZ0JBQWdCO1NBQUM7SUFDckM7SUFDQTBCLGFBQWE7UUFDVCxNQUFNUixhQUFhLElBQUksQ0FBQ2xCLGdCQUFnQixDQUFDLElBQUksQ0FBQ0EsZ0JBQWdCLENBQUNtQixNQUFNLEdBQUcsRUFBRTtRQUMxRSxJQUFJRCxZQUNBLElBQUksQ0FBQ2IsS0FBSyxDQUFDLHVCQUF1QmE7UUFDdEMsTUFBTUcsZUFBZXBELHVCQUF1QixJQUFJLEVBQUVVLHlDQUF5QyxLQUFLRSwrQ0FBK0NMLElBQUksQ0FBQyxJQUFJO1FBQ3hKLElBQUk2QyxjQUNBLElBQUksQ0FBQ2hCLEtBQUssQ0FBQyxnQkFBZ0JnQjtRQUMvQixNQUFNRCxlQUFlbkQsdUJBQXVCLElBQUksRUFBRVUseUNBQXlDLEtBQUtDLCtDQUErQ0osSUFBSSxDQUFDLElBQUk7UUFDeEosSUFBSTRDLGNBQ0EsSUFBSSxDQUFDZixLQUFLLENBQUMsZ0JBQWdCZTtRQUMvQixNQUFNRSxvQkFBb0JyRCx1QkFBdUIsSUFBSSxFQUFFVSx5Q0FBeUMsS0FBS0csb0RBQW9ETixJQUFJLENBQUMsSUFBSTtRQUNsSyxJQUFJOEMsbUJBQ0EsSUFBSSxDQUFDakIsS0FBSyxDQUFDLHFCQUFxQmlCO1FBQ3BDLE1BQU1DLDBCQUEwQnRELHVCQUF1QixJQUFJLEVBQUVVLHlDQUF5QyxLQUFLSSwwREFBMERQLElBQUksQ0FBQyxJQUFJO1FBQzlLLElBQUkrQywyQkFBMkIsTUFDM0IsSUFBSSxDQUFDbEIsS0FBSyxDQUFDLDJCQUEyQmtCO1FBQzFDLElBQUksSUFBSSxDQUFDdkIsZ0JBQWdCLENBQUMyQixJQUFJLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsS0FBSyxHQUFHO1lBQzVDLElBQUksQ0FBQ3hCLEtBQUssQ0FBQyxjQUFjcEMsdUJBQXVCLElBQUksRUFBRVUseUNBQXlDLEtBQUtLLG1EQUFtRFIsSUFBSSxDQUFDLElBQUk7UUFDcEs7SUFDSjtJQUNBLE1BQU1zRCxzQkFBc0JDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUU7UUFDakQsTUFBTUMsU0FBU0QsU0FBU0M7UUFDeEIsSUFBSUEsUUFBUTtZQUNSLElBQUlBLE9BQU9DLE9BQU8sRUFDZCxJQUFJLENBQUNDLFVBQVUsQ0FBQ0MsS0FBSztZQUN6QkgsT0FBT0ksZ0JBQWdCLENBQUMsU0FBUyxJQUFNLElBQUksQ0FBQ0YsVUFBVSxDQUFDQyxLQUFLO1FBQ2hFO1FBQ0FwRSx1QkFBdUIsSUFBSSxFQUFFVSx5Q0FBeUMsS0FBS00sOENBQThDVCxJQUFJLENBQUMsSUFBSSxFQUFFd0Q7UUFDcEksTUFBTTdCLGlCQUFpQixNQUFNNEIsT0FBT1EsSUFBSSxDQUFDQyxXQUFXLENBQUNDLE1BQU0sQ0FBQztZQUFFLEdBQUdULE1BQU07WUFBRVUsUUFBUTtRQUFNLEdBQUc7WUFBRSxHQUFHVCxPQUFPO1lBQUVDLFFBQVEsSUFBSSxDQUFDRSxVQUFVLENBQUNGLE1BQU07UUFBQztRQUN2SSxJQUFJLENBQUNTLFVBQVU7UUFDZixPQUFPLElBQUksQ0FBQ3pDLGtCQUFrQixDQUFDUixvRUFBbUJBLENBQUNTLGdCQUFnQjZCO0lBQ3ZFO0lBQ0EsTUFBTVksbUJBQW1CYixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQzlDLEtBQUssTUFBTTNCLFdBQVcwQixPQUFPL0IsUUFBUSxDQUFFO1lBQ25DLElBQUksQ0FBQ08sV0FBVyxDQUFDRixTQUFTO1FBQzlCO1FBQ0EsT0FBTyxNQUFNLElBQUksQ0FBQ3dCLHFCQUFxQixDQUFDQyxRQUFRQyxRQUFRQztJQUM1RDtJQUNBLE1BQU1ZLGNBQWNkLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUU7UUFDekMsTUFBTWEsT0FBTztRQUNiLE1BQU0sRUFBRW5DLGdCQUFnQixNQUFNLEVBQUUrQixNQUFNLEVBQUUsR0FBR0ssWUFBWSxHQUFHZjtRQUMxRCxNQUFNZ0IsdUJBQXVCLE9BQU9yQyxrQkFBa0IsWUFBWUEsZUFBZXNDO1FBQ2pGLE1BQU0sRUFBRUMscUJBQXFCdkQsNEJBQTRCLEVBQUUsR0FBR3NDLFdBQVcsQ0FBQztRQUMxRSxNQUFNa0Isa0JBQWtCLENBQUM7UUFDekIsS0FBSyxNQUFNOUUsS0FBSzJELE9BQU9vQixTQUFTLENBQUU7WUFDOUJELGVBQWUsQ0FBQzlFLEVBQUU0RSxJQUFJLElBQUk1RSxFQUFFMEMsUUFBUSxDQUFDa0MsSUFBSSxDQUFDLEdBQUc1RTtRQUNqRDtRQUNBLE1BQU0rRSxZQUFZcEIsT0FBT29CLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLENBQUNoRixJQUFPO2dCQUMzQzRFLE1BQU01RSxFQUFFNEUsSUFBSSxJQUFJNUUsRUFBRTBDLFFBQVEsQ0FBQ2tDLElBQUk7Z0JBQy9CSyxZQUFZakYsRUFBRWlGLFVBQVU7Z0JBQ3hCQyxhQUFhbEYsRUFBRWtGLFdBQVc7WUFDOUI7UUFDQSxLQUFLLE1BQU1qRCxXQUFXMEIsT0FBTy9CLFFBQVEsQ0FBRTtZQUNuQyxJQUFJLENBQUNPLFdBQVcsQ0FBQ0YsU0FBUztRQUM5QjtRQUNBLElBQUssSUFBSWtELElBQUksR0FBR0EsSUFBSU4sb0JBQW9CLEVBQUVNLEVBQUc7WUFDekMsTUFBTXJELGlCQUFpQixNQUFNLElBQUksQ0FBQzJCLHFCQUFxQixDQUFDQyxRQUFRO2dCQUM1RCxHQUFHZ0IsVUFBVTtnQkFDYnBDO2dCQUNBeUM7Z0JBQ0FuRCxVQUFVO3VCQUFJLElBQUksQ0FBQ0EsUUFBUTtpQkFBQztZQUNoQyxHQUFHZ0M7WUFDSCxNQUFNM0IsVUFBVUgsZUFBZUksT0FBTyxDQUFDLEVBQUUsRUFBRUQ7WUFDM0MsSUFBSSxDQUFDQSxTQUFTO2dCQUNWLE1BQU0sSUFBSW5CLG1EQUFXQSxDQUFDLENBQUMsMENBQTBDLENBQUM7WUFDdEU7WUFDQSxJQUFJLENBQUNtQixRQUFRSyxhQUFhLEVBQ3RCO1lBQ0osTUFBTSxFQUFFc0MsSUFBSSxFQUFFbkQsV0FBVzJELElBQUksRUFBRSxHQUFHbkQsUUFBUUssYUFBYTtZQUN2RCxNQUFNK0MsS0FBS1AsZUFBZSxDQUFDRixLQUFLO1lBQ2hDLElBQUksQ0FBQ1MsSUFBSTtnQkFDTCxNQUFNaEQsVUFBVSxDQUFDLHVCQUF1QixFQUFFaUQsS0FBS0MsU0FBUyxDQUFDWCxNQUFNLHlCQUF5QixFQUFFRyxVQUNyRkMsR0FBRyxDQUFDLENBQUNoRixJQUFNc0YsS0FBS0MsU0FBUyxDQUFDdkYsRUFBRTRFLElBQUksR0FDaENZLElBQUksQ0FBQyxNQUFNLGtCQUFrQixDQUFDO2dCQUNuQyxJQUFJLENBQUNyRCxXQUFXLENBQUM7b0JBQUVzQztvQkFBTUc7b0JBQU12QztnQkFBUTtnQkFDdkM7WUFDSixPQUNLLElBQUlzQyx3QkFBd0JBLHlCQUF5QkMsTUFBTTtnQkFDNUQsTUFBTXZDLFVBQVUsQ0FBQyx1QkFBdUIsRUFBRWlELEtBQUtDLFNBQVMsQ0FBQ1gsTUFBTSxFQUFFLEVBQUVVLEtBQUtDLFNBQVMsQ0FBQ1osc0JBQXNCLDRCQUE0QixDQUFDO2dCQUNySSxJQUFJLENBQUN4QyxXQUFXLENBQUM7b0JBQUVzQztvQkFBTUc7b0JBQU12QztnQkFBUTtnQkFDdkM7WUFDSjtZQUNBLElBQUlvRDtZQUNKLElBQUk7Z0JBQ0FBLFNBQVMxRSxrRkFBMkJBLENBQUNzRSxNQUFNLE1BQU1BLEdBQUdLLEtBQUssQ0FBQ04sUUFBUUE7WUFDdEUsRUFDQSxPQUFPTyxPQUFPO2dCQUNWLElBQUksQ0FBQ3hELFdBQVcsQ0FBQztvQkFDYnNDO29CQUNBRztvQkFDQXZDLFNBQVNzRCxpQkFBaUJDLFFBQVFELE1BQU0xRCxPQUFPLEdBQUc0RCxPQUFPRjtnQkFDN0Q7Z0JBQ0E7WUFDSjtZQUNBLG1EQUFtRDtZQUNuRCxNQUFNRyxhQUFhLE1BQU1ULEdBQUczQyxRQUFRLENBQUMrQyxRQUFRLElBQUk7WUFDakQsTUFBTXBELFVBQVV6Qyx1QkFBdUIsSUFBSSxFQUFFVSx5Q0FBeUMsS0FBS08sMkRBQTJEVixJQUFJLENBQUMsSUFBSSxFQUFFMkY7WUFDakssSUFBSSxDQUFDM0QsV0FBVyxDQUFDO2dCQUFFc0M7Z0JBQU1HO2dCQUFNdkM7WUFBUTtZQUN2QyxJQUFJc0Msc0JBQ0E7UUFDUjtJQUNKO0lBQ0EsTUFBTW9CLFVBQVVyQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQ3JDLE1BQU1hLE9BQU87UUFDYixNQUFNLEVBQUV1QixjQUFjLE1BQU0sRUFBRTNCLE1BQU0sRUFBRSxHQUFHSyxZQUFZLEdBQUdmO1FBQ3hELE1BQU1nQix1QkFBdUIsT0FBT3FCLGdCQUFnQixZQUFZQSxhQUFhdEQsVUFBVWtDO1FBQ3ZGLE1BQU0sRUFBRUMscUJBQXFCdkQsNEJBQTRCLEVBQUUsR0FBR3NDLFdBQVcsQ0FBQztRQUMxRSxxQ0FBcUM7UUFDckMsTUFBTXFDLGFBQWF0QyxPQUFPdUMsS0FBSyxDQUFDbEIsR0FBRyxDQUFDLENBQUNtQjtZQUNqQyxJQUFJL0UsbUVBQWtCQSxDQUFDK0UsT0FBTztnQkFDMUIsSUFBSSxDQUFDQSxLQUFLQyxTQUFTLEVBQUU7b0JBQ2pCLE1BQU0sSUFBSXRGLG1EQUFXQSxDQUFDO2dCQUMxQjtnQkFDQSxPQUFPO29CQUNIMkIsTUFBTTtvQkFDTkMsVUFBVTt3QkFDTkEsVUFBVXlELEtBQUtDLFNBQVM7d0JBQ3hCeEIsTUFBTXVCLEtBQUt6RCxRQUFRLENBQUNrQyxJQUFJO3dCQUN4Qk0sYUFBYWlCLEtBQUt6RCxRQUFRLENBQUN3QyxXQUFXLElBQUk7d0JBQzFDRCxZQUFZa0IsS0FBS3pELFFBQVEsQ0FBQ3VDLFVBQVU7d0JBQ3BDUyxPQUFPUyxLQUFLRSxTQUFTO3dCQUNyQkMsUUFBUTtvQkFDWjtnQkFDSjtZQUNKO1lBQ0EsT0FBT0g7UUFDWDtRQUNBLE1BQU1yQixrQkFBa0IsQ0FBQztRQUN6QixLQUFLLE1BQU05RSxLQUFLaUcsV0FBWTtZQUN4QixJQUFJakcsRUFBRXlDLElBQUksS0FBSyxZQUFZO2dCQUN2QnFDLGVBQWUsQ0FBQzlFLEVBQUUwQyxRQUFRLENBQUNrQyxJQUFJLElBQUk1RSxFQUFFMEMsUUFBUSxDQUFDQSxRQUFRLENBQUNrQyxJQUFJLENBQUMsR0FBRzVFLEVBQUUwQyxRQUFRO1lBQzdFO1FBQ0o7UUFDQSxNQUFNd0QsUUFBUSxXQUFXdkMsU0FDckJzQyxXQUFXakIsR0FBRyxDQUFDLENBQUN1QixJQUFNQSxFQUFFOUQsSUFBSSxLQUFLLGFBQzdCO2dCQUNJQSxNQUFNO2dCQUNOQyxVQUFVO29CQUNOa0MsTUFBTTJCLEVBQUU3RCxRQUFRLENBQUNrQyxJQUFJLElBQUkyQixFQUFFN0QsUUFBUSxDQUFDQSxRQUFRLENBQUNrQyxJQUFJO29CQUNqREssWUFBWXNCLEVBQUU3RCxRQUFRLENBQUN1QyxVQUFVO29CQUNqQ0MsYUFBYXFCLEVBQUU3RCxRQUFRLENBQUN3QyxXQUFXO29CQUNuQ29CLFFBQVFDLEVBQUU3RCxRQUFRLENBQUM0RCxNQUFNO2dCQUM3QjtZQUNKLElBQ0VDLEtBQ0pDO1FBQ04sS0FBSyxNQUFNdkUsV0FBVzBCLE9BQU8vQixRQUFRLENBQUU7WUFDbkMsSUFBSSxDQUFDTyxXQUFXLENBQUNGLFNBQVM7UUFDOUI7UUFDQSxJQUFLLElBQUlrRCxJQUFJLEdBQUdBLElBQUlOLG9CQUFvQixFQUFFTSxFQUFHO1lBQ3pDLE1BQU1yRCxpQkFBaUIsTUFBTSxJQUFJLENBQUMyQixxQkFBcUIsQ0FBQ0MsUUFBUTtnQkFDNUQsR0FBR2dCLFVBQVU7Z0JBQ2JzQjtnQkFDQUU7Z0JBQ0F0RSxVQUFVO3VCQUFJLElBQUksQ0FBQ0EsUUFBUTtpQkFBQztZQUNoQyxHQUFHZ0M7WUFDSCxNQUFNM0IsVUFBVUgsZUFBZUksT0FBTyxDQUFDLEVBQUUsRUFBRUQ7WUFDM0MsSUFBSSxDQUFDQSxTQUFTO2dCQUNWLE1BQU0sSUFBSW5CLG1EQUFXQSxDQUFDLENBQUMsMENBQTBDLENBQUM7WUFDdEU7WUFDQSxJQUFJLENBQUNtQixRQUFRTSxVQUFVLEVBQUVPLFFBQVE7Z0JBQzdCO1lBQ0o7WUFDQSxLQUFLLE1BQU1OLGFBQWFQLFFBQVFNLFVBQVUsQ0FBRTtnQkFDeEMsSUFBSUMsVUFBVUMsSUFBSSxLQUFLLFlBQ25CO2dCQUNKLE1BQU1nRSxlQUFlakUsVUFBVWtFLEVBQUU7Z0JBQ2pDLE1BQU0sRUFBRTlCLElBQUksRUFBRW5ELFdBQVcyRCxJQUFJLEVBQUUsR0FBRzVDLFVBQVVFLFFBQVE7Z0JBQ3BELE1BQU0yQyxLQUFLUCxlQUFlLENBQUNGLEtBQUs7Z0JBQ2hDLElBQUksQ0FBQ1MsSUFBSTtvQkFDTCxNQUFNaEQsVUFBVSxDQUFDLG1CQUFtQixFQUFFaUQsS0FBS0MsU0FBUyxDQUFDWCxNQUFNLHlCQUF5QixFQUFFK0IsT0FBT0MsSUFBSSxDQUFDOUIsaUJBQzdGRSxHQUFHLENBQUMsQ0FBQ0osT0FBU1UsS0FBS0MsU0FBUyxDQUFDWCxPQUM3QlksSUFBSSxDQUFDLE1BQU0sa0JBQWtCLENBQUM7b0JBQ25DLElBQUksQ0FBQ3JELFdBQVcsQ0FBQzt3QkFBRXNDO3dCQUFNZ0M7d0JBQWNwRTtvQkFBUTtvQkFDL0M7Z0JBQ0osT0FDSyxJQUFJc0Msd0JBQXdCQSx5QkFBeUJDLE1BQU07b0JBQzVELE1BQU12QyxVQUFVLENBQUMsbUJBQW1CLEVBQUVpRCxLQUFLQyxTQUFTLENBQUNYLE1BQU0sRUFBRSxFQUFFVSxLQUFLQyxTQUFTLENBQUNaLHNCQUFzQiw0QkFBNEIsQ0FBQztvQkFDakksSUFBSSxDQUFDeEMsV0FBVyxDQUFDO3dCQUFFc0M7d0JBQU1nQzt3QkFBY3BFO29CQUFRO29CQUMvQztnQkFDSjtnQkFDQSxJQUFJb0Q7Z0JBQ0osSUFBSTtvQkFDQUEsU0FBUzFFLGtGQUEyQkEsQ0FBQ3NFLE1BQU0sTUFBTUEsR0FBR0ssS0FBSyxDQUFDTixRQUFRQTtnQkFDdEUsRUFDQSxPQUFPTyxPQUFPO29CQUNWLE1BQU10RCxVQUFVc0QsaUJBQWlCQyxRQUFRRCxNQUFNMUQsT0FBTyxHQUFHNEQsT0FBT0Y7b0JBQ2hFLElBQUksQ0FBQ3hELFdBQVcsQ0FBQzt3QkFBRXNDO3dCQUFNZ0M7d0JBQWNwRTtvQkFBUTtvQkFDL0M7Z0JBQ0o7Z0JBQ0EsbURBQW1EO2dCQUNuRCxNQUFNeUQsYUFBYSxNQUFNVCxHQUFHM0MsUUFBUSxDQUFDK0MsUUFBUSxJQUFJO2dCQUNqRCxNQUFNcEQsVUFBVXpDLHVCQUF1QixJQUFJLEVBQUVVLHlDQUF5QyxLQUFLTywyREFBMkRWLElBQUksQ0FBQyxJQUFJLEVBQUUyRjtnQkFDakssSUFBSSxDQUFDM0QsV0FBVyxDQUFDO29CQUFFc0M7b0JBQU1nQztvQkFBY3BFO2dCQUFRO2dCQUMvQyxJQUFJc0Msc0JBQXNCO29CQUN0QjtnQkFDSjtZQUNKO1FBQ0o7UUFDQTtJQUNKO0FBQ0o7QUFDQXJFLDBDQUEwQyxJQUFJdUcsV0FBV3RHLGdEQUFnRCxTQUFTQTtJQUM5RyxPQUFPWCx1QkFBdUIsSUFBSSxFQUFFVSx5Q0FBeUMsS0FBS0UsK0NBQStDTCxJQUFJLENBQUMsSUFBSSxFQUFFa0MsT0FBTyxJQUFJO0FBQzNKLEdBQUc3QixnREFBZ0QsU0FBU0E7SUFDeEQsSUFBSTJFLElBQUksSUFBSSxDQUFDdkQsUUFBUSxDQUFDa0IsTUFBTTtJQUM1QixNQUFPcUMsTUFBTSxFQUFHO1FBQ1osTUFBTWxELFVBQVUsSUFBSSxDQUFDTCxRQUFRLENBQUN1RCxFQUFFO1FBQ2hDLElBQUluRSw0RUFBa0JBLENBQUNpQixVQUFVO1lBQzdCLE1BQU0sRUFBRUssYUFBYSxFQUFFLEdBQUd3RSxNQUFNLEdBQUc3RTtZQUNuQywyQkFBMkI7WUFDM0IsTUFBTThFLE1BQU07Z0JBQ1IsR0FBR0QsSUFBSTtnQkFDUHpFLFNBQVNKLFFBQVFJLE9BQU8sSUFBSTtnQkFDNUIyRSxTQUFTL0UsUUFBUStFLE9BQU8sSUFBSTtZQUNoQztZQUNBLElBQUkxRSxlQUFlO2dCQUNmeUUsSUFBSXpFLGFBQWEsR0FBR0E7WUFDeEI7WUFDQSxPQUFPeUU7UUFDWDtJQUNKO0lBQ0EsTUFBTSxJQUFJakcsbURBQVdBLENBQUM7QUFDMUIsR0FBR0wscURBQXFELFNBQVNBO0lBQzdELElBQUssSUFBSTBFLElBQUksSUFBSSxDQUFDdkQsUUFBUSxDQUFDa0IsTUFBTSxHQUFHLEdBQUdxQyxLQUFLLEdBQUdBLElBQUs7UUFDaEQsTUFBTWxELFVBQVUsSUFBSSxDQUFDTCxRQUFRLENBQUN1RCxFQUFFO1FBQ2hDLElBQUluRSw0RUFBa0JBLENBQUNpQixZQUFZQSxTQUFTSyxlQUFlO1lBQ3ZELE9BQU9MLFFBQVFLLGFBQWE7UUFDaEM7UUFDQSxJQUFJdEIsNEVBQWtCQSxDQUFDaUIsWUFBWUEsU0FBU00sWUFBWU8sUUFBUTtZQUM1RCxPQUFPYixRQUFRTSxVQUFVLENBQUMwRSxFQUFFLENBQUMsQ0FBQyxJQUFJdkU7UUFDdEM7SUFDSjtJQUNBO0FBQ0osR0FBR2hDLDJEQUEyRCxTQUFTQTtJQUNuRSxJQUFLLElBQUl5RSxJQUFJLElBQUksQ0FBQ3ZELFFBQVEsQ0FBQ2tCLE1BQU0sR0FBRyxHQUFHcUMsS0FBSyxHQUFHQSxJQUFLO1FBQ2hELE1BQU1sRCxVQUFVLElBQUksQ0FBQ0wsUUFBUSxDQUFDdUQsRUFBRTtRQUNoQyxJQUFJbEUsMkVBQWlCQSxDQUFDZ0IsWUFBWUEsUUFBUUksT0FBTyxJQUFJLE1BQU07WUFDdkQsT0FBT0osUUFBUUksT0FBTztRQUMxQjtRQUNBLElBQUluQix1RUFBYUEsQ0FBQ2UsWUFDZEEsUUFBUUksT0FBTyxJQUFJLFFBQ25CLE9BQU9KLFFBQVFJLE9BQU8sS0FBSyxZQUMzQixJQUFJLENBQUNULFFBQVEsQ0FBQzBCLElBQUksQ0FBQyxDQUFDNEQsSUFBTUEsRUFBRXpDLElBQUksS0FBSyxlQUNqQ3lDLEVBQUUzRSxVQUFVLEVBQUVlLEtBQUssQ0FBQzZELElBQU1BLEVBQUUxRSxJQUFJLEtBQUssY0FBYzBFLEVBQUVULEVBQUUsS0FBS3pFLFFBQVF3RSxZQUFZLElBQUk7WUFDeEYsT0FBT3hFLFFBQVFJLE9BQU87UUFDMUI7SUFDSjtJQUNBO0FBQ0osR0FBRzFCLG9EQUFvRCxTQUFTQTtJQUM1RCxNQUFNeUcsUUFBUTtRQUNWQyxtQkFBbUI7UUFDbkJDLGVBQWU7UUFDZkMsY0FBYztJQUNsQjtJQUNBLEtBQUssTUFBTSxFQUFFL0QsS0FBSyxFQUFFLElBQUksSUFBSSxDQUFDN0IsZ0JBQWdCLENBQUU7UUFDM0MsSUFBSTZCLE9BQU87WUFDUDRELE1BQU1DLGlCQUFpQixJQUFJN0QsTUFBTTZELGlCQUFpQjtZQUNsREQsTUFBTUUsYUFBYSxJQUFJOUQsTUFBTThELGFBQWE7WUFDMUNGLE1BQU1HLFlBQVksSUFBSS9ELE1BQU0rRCxZQUFZO1FBQzVDO0lBQ0o7SUFDQSxPQUFPSDtBQUNYLEdBQUd4RywrQ0FBK0MsU0FBU0EsNkNBQTZDK0MsTUFBTTtJQUMxRyxJQUFJQSxPQUFPNkQsQ0FBQyxJQUFJLFFBQVE3RCxPQUFPNkQsQ0FBQyxHQUFHLEdBQUc7UUFDbEMsTUFBTSxJQUFJMUcsbURBQVdBLENBQUM7SUFDMUI7QUFDSixHQUFHRCw0REFBNEQsU0FBU0EsMERBQTBEaUYsVUFBVTtJQUN4SSxPQUFRLE9BQU9BLGVBQWUsV0FBV0EsYUFDbkNBLGVBQWVVLFlBQVksY0FDdkJsQixLQUFLQyxTQUFTLENBQUNPO0FBQzdCLEdBQ0EseURBQXlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qcz83NDI0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdDtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlLCB9IGZyb20gXCIuL1J1bm5hYmxlRnVuY3Rpb24ubWpzXCI7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UsIGlzRnVuY3Rpb25NZXNzYWdlLCBpc1Rvb2xNZXNzYWdlIH0gZnJvbSBcIi4vY2hhdENvbXBsZXRpb25VdGlscy5tanNcIjtcbmltcG9ydCB7IEV2ZW50U3RyZWFtIH0gZnJvbSBcIi4vRXZlbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBpc0F1dG9QYXJzYWJsZVRvb2wsIHBhcnNlQ2hhdENvbXBsZXRpb24gfSBmcm9tIFwiLi4vbGliL3BhcnNlci5tanNcIjtcbmNvbnN0IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgPSAxMDtcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIGV4dGVuZHMgRXZlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLl9jaGF0Q29tcGxldGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgIH1cbiAgICBfYWRkQ2hhdENvbXBsZXRpb24oY2hhdENvbXBsZXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hhdENvbXBsZXRpb25zLnB1c2goY2hhdENvbXBsZXRpb24pO1xuICAgICAgICB0aGlzLl9lbWl0KCdjaGF0Q29tcGxldGlvbicsIGNoYXRDb21wbGV0aW9uKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICAgIGlmIChtZXNzYWdlKVxuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGNoYXRDb21wbGV0aW9uO1xuICAgIH1cbiAgICBfYWRkTWVzc2FnZShtZXNzYWdlLCBlbWl0ID0gdHJ1ZSkge1xuICAgICAgICBpZiAoISgnY29udGVudCcgaW4gbWVzc2FnZSkpXG4gICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIGlmIChlbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoKGlzRnVuY3Rpb25NZXNzYWdlKG1lc3NhZ2UpIHx8IGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkpICYmIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgICAgIC8vIE5vdGUsIHRoaXMgYXNzdW1lcyB0aGF0IHtyb2xlOiAndG9vbCcsIGNvbnRlbnQ6IOKApn0gaXMgYWx3YXlzIHRoZSByZXN1bHQgb2YgYSBjYWxsIG9mIHRvb2wgb2YgdHlwZT1mdW5jdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdmdW5jdGlvbkNhbGxSZXN1bHQnLCBtZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2Z1bmN0aW9uQ2FsbCcsIG1lc3NhZ2UuZnVuY3Rpb25fY2FsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sX2NhbGwudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25DYWxsJywgdG9vbF9jYWxsLmZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbiwgb3IgcmVqZWN0c1xuICAgICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbENoYXRDb21wbGV0aW9uKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IHRoaXMuX2NoYXRDb21wbGV0aW9uc1t0aGlzLl9jaGF0Q29tcGxldGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghY29tcGxldGlvbilcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignc3RyZWFtIGVuZGVkIHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24nKTtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlIGZpbmFsIENoYXRDb21wbGV0aW9uTWVzc2FnZSwgb3IgcmVqZWN0c1xuICAgICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxDb250ZW50KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSB0aGUgZmluYWwgYXNzaXN0YW50IENoYXRDb21wbGV0aW9uTWVzc2FnZSByZXNwb25zZSxcbiAgICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxNZXNzYWdlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBGdW5jdGlvbkNhbGwsIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsRnVuY3Rpb25DYWxsKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGwpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGFzeW5jIHRvdGFsVXNhZ2UoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlKS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBhbGxDaGF0Q29tcGxldGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpcy5fY2hhdENvbXBsZXRpb25zXTtcbiAgICB9XG4gICAgX2VtaXRGaW5hbCgpIHtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IHRoaXMuX2NoYXRDb21wbGV0aW9uc1t0aGlzLl9jaGF0Q29tcGxldGlvbnMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChjb21wbGV0aW9uKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxDaGF0Q29tcGxldGlvbicsIGNvbXBsZXRpb24pO1xuICAgICAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKTtcbiAgICAgICAgaWYgKGZpbmFsTWVzc2FnZSlcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ZpbmFsTWVzc2FnZScsIGZpbmFsTWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29udGVudCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxDb250ZW50KS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxDb250ZW50KVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxDb250ZW50JywgZmluYWxDb250ZW50KTtcbiAgICAgICAgY29uc3QgZmluYWxGdW5jdGlvbkNhbGwgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsKS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxGdW5jdGlvbkNhbGwpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbEZ1bmN0aW9uQ2FsbCcsIGZpbmFsRnVuY3Rpb25DYWxsKTtcbiAgICAgICAgY29uc3QgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQgIT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0JywgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQpO1xuICAgICAgICBpZiAodGhpcy5fY2hhdENvbXBsZXRpb25zLnNvbWUoKGMpID0+IGMudXNhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCd0b3RhbFVzYWdlJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlKS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcykuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgICAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7IC4uLnBhcmFtcywgc3RyZWFtOiBmYWxzZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihwYXJzZUNoYXRDb21wbGV0aW9uKGNoYXRDb21wbGV0aW9uLCBwYXJhbXMpKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1bkNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgcm9sZSA9ICdmdW5jdGlvbic7XG4gICAgICAgIGNvbnN0IHsgZnVuY3Rpb25fY2FsbCA9ICdhdXRvJywgc3RyZWFtLCAuLi5yZXN0UGFyYW1zIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IHNpbmdsZUZ1bmN0aW9uVG9DYWxsID0gdHlwZW9mIGZ1bmN0aW9uX2NhbGwgIT09ICdzdHJpbmcnICYmIGZ1bmN0aW9uX2NhbGw/Lm5hbWU7XG4gICAgICAgIGNvbnN0IHsgbWF4Q2hhdENvbXBsZXRpb25zID0gREVGQVVMVF9NQVhfQ0hBVF9DT01QTEVUSU9OUyB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zQnlOYW1lID0ge307XG4gICAgICAgIGZvciAoY29uc3QgZiBvZiBwYXJhbXMuZnVuY3Rpb25zKSB7XG4gICAgICAgICAgICBmdW5jdGlvbnNCeU5hbWVbZi5uYW1lIHx8IGYuZnVuY3Rpb24ubmFtZV0gPSBmO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bmN0aW9ucyA9IHBhcmFtcy5mdW5jdGlvbnMubWFwKChmKSA9PiAoe1xuICAgICAgICAgICAgbmFtZTogZi5uYW1lIHx8IGYuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IGYucGFyYW1ldGVycyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmLmRlc2NyaXB0aW9uLFxuICAgICAgICB9KSk7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4Q2hhdENvbXBsZXRpb25zOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdFBhcmFtcyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbl9jYWxsLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9ucyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnRoaXMubWVzc2FnZXNdLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBtZXNzYWdlIGluIENoYXRDb21wbGV0aW9uIHJlc3BvbnNlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UuZnVuY3Rpb25fY2FsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIGFyZ3VtZW50czogYXJncyB9ID0gbWVzc2FnZS5mdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgY29uc3QgZm4gPSBmdW5jdGlvbnNCeU5hbWVbbmFtZV07XG4gICAgICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIGZ1bmN0aW9uX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiBBdmFpbGFibGUgb3B0aW9ucyBhcmU6ICR7ZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKGYpID0+IEpTT04uc3RyaW5naWZ5KGYubmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpfS4gUGxlYXNlIHRyeSBhZ2FpbmA7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIG5hbWUsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCAmJiBzaW5nbGVGdW5jdGlvblRvQ2FsbCAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCBmdW5jdGlvbl9jYWxsOiAke0pTT04uc3RyaW5naWZ5KG5hbWUpfS4gJHtKU09OLnN0cmluZ2lmeShzaW5nbGVGdW5jdGlvblRvQ2FsbCl9IHJlcXVlc3RlZC4gUGxlYXNlIHRyeSBhZ2FpbmA7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIG5hbWUsIGNvbnRlbnQgfSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGFyc2VkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaXQgY2FuJ3QgcnVsZSBvdXQgYG5ldmVyYCB0eXBlLlxuICAgICAgICAgICAgY29uc3QgcmF3Q29udGVudCA9IGF3YWl0IGZuLmZ1bmN0aW9uKHBhcnNlZCwgdGhpcyk7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQpLmNhbGwodGhpcywgcmF3Q29udGVudCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgbmFtZSwgY29udGVudCB9KTtcbiAgICAgICAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvbGUgPSAndG9vbCc7XG4gICAgICAgIGNvbnN0IHsgdG9vbF9jaG9pY2UgPSAnYXV0bycsIHN0cmVhbSwgLi4ucmVzdFBhcmFtcyB9ID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBzaW5nbGVGdW5jdGlvblRvQ2FsbCA9IHR5cGVvZiB0b29sX2Nob2ljZSAhPT0gJ3N0cmluZycgJiYgdG9vbF9jaG9pY2U/LmZ1bmN0aW9uPy5uYW1lO1xuICAgICAgICBjb25zdCB7IG1heENoYXRDb21wbGV0aW9ucyA9IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIC8vIFRPRE8oc29tZWRheSk6IGNsZWFuIHRoaXMgbG9naWMgdXBcbiAgICAgICAgY29uc3QgaW5wdXRUb29scyA9IHBhcmFtcy50b29scy5tYXAoKHRvb2wpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvb2wuJGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignVG9vbCBnaXZlbiB0byBgLnJ1blRvb2xzKClgIHRoYXQgZG9lcyBub3QgaGF2ZSBhbiBhc3NvY2lhdGVkIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjogdG9vbC4kY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5mdW5jdGlvbi5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRvb2wuZnVuY3Rpb24ucGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlOiB0b29sLiRwYXJzZVJhdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvb2w7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdW5jdGlvbnNCeU5hbWUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIGlucHV0VG9vbHMpIHtcbiAgICAgICAgICAgIGlmIChmLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbnNCeU5hbWVbZi5mdW5jdGlvbi5uYW1lIHx8IGYuZnVuY3Rpb24uZnVuY3Rpb24ubmFtZV0gPSBmLmZ1bmN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gJ3Rvb2xzJyBpbiBwYXJhbXMgP1xuICAgICAgICAgICAgaW5wdXRUb29scy5tYXAoKHQpID0+IHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdC5mdW5jdGlvbi5uYW1lIHx8IHQuZnVuY3Rpb24uZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHQuZnVuY3Rpb24ucGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0LmZ1bmN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWN0OiB0LmZ1bmN0aW9uLnN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB0KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4Q2hhdENvbXBsZXRpb25zOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdFBhcmFtcyxcbiAgICAgICAgICAgICAgICB0b29sX2Nob2ljZSxcbiAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnRoaXMubWVzc2FnZXNdLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBtZXNzYWdlIGluIENoYXRDb21wbGV0aW9uIHJlc3BvbnNlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudG9vbF9jYWxscz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xfY2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sX2NhbGxfaWQgPSB0b29sX2NhbGwuaWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSA9IHRvb2xfY2FsbC5mdW5jdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uc0J5TmFtZVtuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCB0b29sX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiBBdmFpbGFibGUgb3B0aW9ucyBhcmU6ICR7T2JqZWN0LmtleXMoZnVuY3Rpb25zQnlOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgobmFtZSkgPT4gSlNPTi5zdHJpbmdpZnkobmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKX0uIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwgJiYgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIHRvb2xfY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uICR7SlNPTi5zdHJpbmdpZnkoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpfSByZXF1ZXN0ZWQuIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaXQgY2FuJ3QgcnVsZSBvdXQgYG5ldmVyYCB0eXBlLlxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdCkuY2FsbCh0aGlzLCByYXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5fQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKS5jYWxsKHRoaXMpLmNvbnRlbnQgPz8gbnVsbDtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSgpIHtcbiAgICBsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGZ1bmN0aW9uX2NhbGwsIC4uLnJlc3QgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IGF1ZGlvIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHtcbiAgICAgICAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0LmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZSB3aXRoIHJvbGU9YXNzaXN0YW50Jyk7XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbCA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsKCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2U/LmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmZ1bmN0aW9uX2NhbGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXNzaXN0YW50TWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlPy50b29sX2NhbGxzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLnRvb2xfY2FsbHMuYXQoLTEpPy5mdW5jdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0KCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbk1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5jb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVG9vbE1lc3NhZ2UobWVzc2FnZSkgJiZcbiAgICAgICAgICAgIG1lc3NhZ2UuY29udGVudCAhPSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5zb21lKCh4KSA9PiB4LnJvbGUgPT09ICdhc3Npc3RhbnQnICYmXG4gICAgICAgICAgICAgICAgeC50b29sX2NhbGxzPy5zb21lKCh5KSA9PiB5LnR5cGUgPT09ICdmdW5jdGlvbicgJiYgeS5pZCA9PT0gbWVzc2FnZS50b29sX2NhbGxfaWQpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuY29udGVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSgpIHtcbiAgICBjb25zdCB0b3RhbCA9IHtcbiAgICAgICAgY29tcGxldGlvbl90b2tlbnM6IDAsXG4gICAgICAgIHByb21wdF90b2tlbnM6IDAsXG4gICAgICAgIHRvdGFsX3Rva2VuczogMCxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgeyB1c2FnZSB9IG9mIHRoaXMuX2NoYXRDb21wbGV0aW9ucykge1xuICAgICAgICBpZiAodXNhZ2UpIHtcbiAgICAgICAgICAgIHRvdGFsLmNvbXBsZXRpb25fdG9rZW5zICs9IHVzYWdlLmNvbXBsZXRpb25fdG9rZW5zO1xuICAgICAgICAgICAgdG90YWwucHJvbXB0X3Rva2VucyArPSB1c2FnZS5wcm9tcHRfdG9rZW5zO1xuICAgICAgICAgICAgdG90YWwudG90YWxfdG9rZW5zICs9IHVzYWdlLnRvdGFsX3Rva2VucztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG90YWw7XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcyA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3ZhbGlkYXRlUGFyYW1zKHBhcmFtcykge1xuICAgIGlmIChwYXJhbXMubiAhPSBudWxsICYmIHBhcmFtcy5uID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ0NoYXRDb21wbGV0aW9uIGNvbnZlbmllbmNlIGhlbHBlcnMgb25seSBzdXBwb3J0IG49MSBhdCB0aGlzIHRpbWUuIFRvIHVzZSBuPjEsIHBsZWFzZSB1c2UgY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoKSBkaXJlY3RseS4nKTtcbiAgICB9XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQocmF3Q29udGVudCkge1xuICAgIHJldHVybiAodHlwZW9mIHJhd0NvbnRlbnQgPT09ICdzdHJpbmcnID8gcmF3Q29udGVudFxuICAgICAgICA6IHJhd0NvbnRlbnQgPT09IHVuZGVmaW5lZCA/ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA6IEpTT04uc3RyaW5naWZ5KHJhd0NvbnRlbnQpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qcy5tYXAiXSwibmFtZXMiOlsiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwic3RhdGUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJ2YWx1ZSIsImdldCIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcyIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSIsIl9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25DYWxsIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvbkNhbGxSZXN1bHQiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQiLCJPcGVuQUlFcnJvciIsImlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZSIsImlzQXNzaXN0YW50TWVzc2FnZSIsImlzRnVuY3Rpb25NZXNzYWdlIiwiaXNUb29sTWVzc2FnZSIsIkV2ZW50U3RyZWFtIiwiaXNBdXRvUGFyc2FibGVUb29sIiwicGFyc2VDaGF0Q29tcGxldGlvbiIsIkRFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMiLCJBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJhZGQiLCJfY2hhdENvbXBsZXRpb25zIiwibWVzc2FnZXMiLCJfYWRkQ2hhdENvbXBsZXRpb24iLCJjaGF0Q29tcGxldGlvbiIsInB1c2giLCJfZW1pdCIsIm1lc3NhZ2UiLCJjaG9pY2VzIiwiX2FkZE1lc3NhZ2UiLCJlbWl0IiwiY29udGVudCIsImZ1bmN0aW9uX2NhbGwiLCJ0b29sX2NhbGxzIiwidG9vbF9jYWxsIiwidHlwZSIsImZ1bmN0aW9uIiwiZmluYWxDaGF0Q29tcGxldGlvbiIsImRvbmUiLCJjb21wbGV0aW9uIiwibGVuZ3RoIiwiZmluYWxDb250ZW50IiwiZmluYWxNZXNzYWdlIiwiZmluYWxGdW5jdGlvbkNhbGwiLCJmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCIsInRvdGFsVXNhZ2UiLCJhbGxDaGF0Q29tcGxldGlvbnMiLCJfZW1pdEZpbmFsIiwic29tZSIsImMiLCJ1c2FnZSIsIl9jcmVhdGVDaGF0Q29tcGxldGlvbiIsImNsaWVudCIsInBhcmFtcyIsIm9wdGlvbnMiLCJzaWduYWwiLCJhYm9ydGVkIiwiY29udHJvbGxlciIsImFib3J0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsInN0cmVhbSIsIl9jb25uZWN0ZWQiLCJfcnVuQ2hhdENvbXBsZXRpb24iLCJfcnVuRnVuY3Rpb25zIiwicm9sZSIsInJlc3RQYXJhbXMiLCJzaW5nbGVGdW5jdGlvblRvQ2FsbCIsIm5hbWUiLCJtYXhDaGF0Q29tcGxldGlvbnMiLCJmdW5jdGlvbnNCeU5hbWUiLCJmdW5jdGlvbnMiLCJtYXAiLCJwYXJhbWV0ZXJzIiwiZGVzY3JpcHRpb24iLCJpIiwiYXJncyIsImZuIiwiSlNPTiIsInN0cmluZ2lmeSIsImpvaW4iLCJwYXJzZWQiLCJwYXJzZSIsImVycm9yIiwiRXJyb3IiLCJTdHJpbmciLCJyYXdDb250ZW50IiwiX3J1blRvb2xzIiwidG9vbF9jaG9pY2UiLCJpbnB1dFRvb2xzIiwidG9vbHMiLCJ0b29sIiwiJGNhbGxiYWNrIiwiJHBhcnNlUmF3Iiwic3RyaWN0IiwidCIsInVuZGVmaW5lZCIsInRvb2xfY2FsbF9pZCIsImlkIiwiT2JqZWN0Iiwia2V5cyIsIldlYWtTZXQiLCJyZXN0IiwicmV0IiwicmVmdXNhbCIsImF0IiwieCIsInkiLCJ0b3RhbCIsImNvbXBsZXRpb25fdG9rZW5zIiwicHJvbXB0X3Rva2VucyIsInRvdGFsX3Rva2VucyIsIm4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AbstractChatCompletionRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AssistantStream.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AssistantStream.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssistantStream: () => (/* binding */ AssistantStream)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _streaming_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../streaming.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs\");\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _AssistantStream_instances, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;\n\n\n\n\nclass AssistantStream extends _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__.EventStream {\n    constructor(){\n        super(...arguments);\n        _AssistantStream_instances.add(this);\n        //Track all events in a single list for reference\n        _AssistantStream_events.set(this, []);\n        //Used to accumulate deltas\n        //We are accumulating many types so the value here is not strict\n        _AssistantStream_runStepSnapshots.set(this, {});\n        _AssistantStream_messageSnapshots.set(this, {});\n        _AssistantStream_messageSnapshot.set(this, void 0);\n        _AssistantStream_finalRun.set(this, void 0);\n        _AssistantStream_currentContentIndex.set(this, void 0);\n        _AssistantStream_currentContent.set(this, void 0);\n        _AssistantStream_currentToolCallIndex.set(this, void 0);\n        _AssistantStream_currentToolCall.set(this, void 0);\n        //For current snapshot methods\n        _AssistantStream_currentEvent.set(this, void 0);\n        _AssistantStream_currentRunSnapshot.set(this, void 0);\n        _AssistantStream_currentRunStepSnapshot.set(this, void 0);\n    }\n    [(_AssistantStream_events = new WeakMap(), _AssistantStream_runStepSnapshots = new WeakMap(), _AssistantStream_messageSnapshots = new WeakMap(), _AssistantStream_messageSnapshot = new WeakMap(), _AssistantStream_finalRun = new WeakMap(), _AssistantStream_currentContentIndex = new WeakMap(), _AssistantStream_currentContent = new WeakMap(), _AssistantStream_currentToolCallIndex = new WeakMap(), _AssistantStream_currentToolCall = new WeakMap(), _AssistantStream_currentEvent = new WeakMap(), _AssistantStream_currentRunSnapshot = new WeakMap(), _AssistantStream_currentRunStepSnapshot = new WeakMap(), _AssistantStream_instances = new WeakSet(), Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        //Catch all for passing along all events\n        this.on(\"event\", (event)=>{\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            } else {\n                pushQueue.push(event);\n            }\n        });\n        this.on(\"end\", ()=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"abort\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"error\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async ()=>{\n                if (!pushQueue.length) {\n                    if (done) {\n                        return {\n                            value: undefined,\n                            done: true\n                        };\n                    }\n                    return new Promise((resolve, reject)=>readQueue.push({\n                            resolve,\n                            reject\n                        })).then((chunk)=>chunk ? {\n                            value: chunk,\n                            done: false\n                        } : {\n                            value: undefined,\n                            done: true\n                        });\n                }\n                const chunk = pushQueue.shift();\n                return {\n                    value: chunk,\n                    done: false\n                };\n            },\n            return: async ()=>{\n                this.abort();\n                return {\n                    value: undefined,\n                    done: true\n                };\n            }\n        };\n    }\n    static fromReadableStream(stream) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        this._connected();\n        const stream = _streaming_mjs__WEBPACK_IMPORTED_MODULE_1__.Stream.fromReadableStream(readableStream, this.controller);\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    toReadableStream() {\n        const stream = new _streaming_mjs__WEBPACK_IMPORTED_MODULE_1__.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n    static createToolAssistantStream(threadId, runId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._runToolAssistantStream(threadId, runId, runs, params, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    async _createToolAssistantStream(run, threadId, runId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await run.submitToolOutputs(threadId, runId, body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static createThreadAssistantStream(params, thread, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._threadAssistantStream(params, thread, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    static createAssistantStream(threadId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(()=>runner._runAssistantStream(threadId, runs, params, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    currentEvent() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentEvent, \"f\");\n    }\n    currentRun() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunSnapshot, \"f\");\n    }\n    currentMessageSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\");\n    }\n    currentRunStepSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunStepSnapshot, \"f\");\n    }\n    async finalRunSteps() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\"));\n    }\n    async finalMessages() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\"));\n    }\n    async finalRun() {\n        await this.done();\n        if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\")) throw Error(\"Final run was not received.\");\n        return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n    }\n    async _createThreadAssistantStream(thread, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await thread.createAndRun(body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    async _createAssistantStream(run, threadId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        const body = {\n            ...params,\n            stream: true\n        };\n        const stream = await run.create(threadId, body, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static accumulateDelta(acc, delta) {\n        for (const [key, deltaValue] of Object.entries(delta)){\n            if (!acc.hasOwnProperty(key)) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            let accValue = acc[key];\n            if (accValue === null || accValue === undefined) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // We don't accumulate these special properties\n            if (key === \"index\" || key === \"type\") {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // Type-specific accumulation logic\n            if (typeof accValue === \"string\" && typeof deltaValue === \"string\") {\n                accValue += deltaValue;\n            } else if (typeof accValue === \"number\" && typeof deltaValue === \"number\") {\n                accValue += deltaValue;\n            } else if (_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isObj(accValue) && _core_mjs__WEBPACK_IMPORTED_MODULE_3__.isObj(deltaValue)) {\n                accValue = this.accumulateDelta(accValue, deltaValue);\n            } else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {\n                if (accValue.every((x)=>typeof x === \"string\" || typeof x === \"number\")) {\n                    accValue.push(...deltaValue); // Use spread syntax for efficient addition\n                    continue;\n                }\n                for (const deltaEntry of deltaValue){\n                    if (!_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isObj(deltaEntry)) {\n                        throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);\n                    }\n                    const index = deltaEntry[\"index\"];\n                    if (index == null) {\n                        console.error(deltaEntry);\n                        throw new Error(\"Expected array delta entry to have an `index` property\");\n                    }\n                    if (typeof index !== \"number\") {\n                        throw new Error(`Expected array delta entry \\`index\\` property to be a number but got ${index}`);\n                    }\n                    const accEntry = accValue[index];\n                    if (accEntry == null) {\n                        accValue.push(deltaEntry);\n                    } else {\n                        accValue[index] = this.accumulateDelta(accEntry, deltaEntry);\n                    }\n                }\n                continue;\n            } else {\n                throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);\n            }\n            acc[key] = accValue;\n        }\n        return acc;\n    }\n    _addRun(run) {\n        return run;\n    }\n    async _threadAssistantStream(params, thread, options) {\n        return await this._createThreadAssistantStream(thread, params, options);\n    }\n    async _runAssistantStream(threadId, runs, params, options) {\n        return await this._createAssistantStream(runs, threadId, params, options);\n    }\n    async _runToolAssistantStream(threadId, runId, runs, params, options) {\n        return await this._createToolAssistantStream(runs, threadId, runId, params, options);\n    }\n}\n_AssistantStream_addEvent = function _AssistantStream_addEvent(event) {\n    if (this.ended) return;\n    __classPrivateFieldSet(this, _AssistantStream_currentEvent, event, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleEvent).call(this, event);\n    switch(event.event){\n        case \"thread.created\":\n            break;\n        case \"thread.run.created\":\n        case \"thread.run.queued\":\n        case \"thread.run.in_progress\":\n        case \"thread.run.requires_action\":\n        case \"thread.run.completed\":\n        case \"thread.run.incomplete\":\n        case \"thread.run.failed\":\n        case \"thread.run.cancelling\":\n        case \"thread.run.cancelled\":\n        case \"thread.run.expired\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRun).call(this, event);\n            break;\n        case \"thread.run.step.created\":\n        case \"thread.run.step.in_progress\":\n        case \"thread.run.step.delta\":\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRunStep).call(this, event);\n            break;\n        case \"thread.message.created\":\n        case \"thread.message.in_progress\":\n        case \"thread.message.delta\":\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleMessage).call(this, event);\n            break;\n        case \"error\":\n            //This is included for completeness, but errors are processed in the SSE event processing so this should not occur\n            throw new Error(\"Encountered an error event in event processing - errors should be processed earlier\");\n        default:\n            assertNever(event);\n    }\n}, _AssistantStream_endRequest = function _AssistantStream_endRequest() {\n    if (this.ended) {\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_2__.OpenAIError(`stream has ended, this shouldn't happen`);\n    }\n    if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\")) throw Error(\"Final run has not been received\");\n    return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage(event) {\n    const [accumulatedMessage, newContent] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n    __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, accumulatedMessage, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\")[accumulatedMessage.id] = accumulatedMessage;\n    for (const content of newContent){\n        const snapshotContent = accumulatedMessage.content[content.index];\n        if (snapshotContent?.type == \"text\") {\n            this._emit(\"textCreated\", snapshotContent.text);\n        }\n    }\n    switch(event.event){\n        case \"thread.message.created\":\n            this._emit(\"messageCreated\", event.data);\n            break;\n        case \"thread.message.in_progress\":\n            break;\n        case \"thread.message.delta\":\n            this._emit(\"messageDelta\", event.data.delta, accumulatedMessage);\n            if (event.data.delta.content) {\n                for (const content of event.data.delta.content){\n                    //If it is text delta, emit a text delta event\n                    if (content.type == \"text\" && content.text) {\n                        let textDelta = content.text;\n                        let snapshot = accumulatedMessage.content[content.index];\n                        if (snapshot && snapshot.type == \"text\") {\n                            this._emit(\"textDelta\", textDelta, snapshot.text);\n                        } else {\n                            throw Error(\"The snapshot associated with this text delta is not text or missing\");\n                        }\n                    }\n                    if (content.index != __classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")) {\n                        //See if we have in progress content\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\")) {\n                            switch(__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").type){\n                                case \"text\":\n                                    this._emit(\"textDone\", __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                                case \"image_file\":\n                                    this._emit(\"imageFileDone\", __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                            }\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentContentIndex, content.index, \"f\");\n                    }\n                    __classPrivateFieldSet(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], \"f\");\n                }\n            }\n            break;\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            //We emit the latest content we were working on on completion (including incomplete)\n            if (__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\") !== undefined) {\n                const currentContent = event.data.content[__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")];\n                if (currentContent) {\n                    switch(currentContent.type){\n                        case \"image_file\":\n                            this._emit(\"imageFileDone\", currentContent.image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                        case \"text\":\n                            this._emit(\"textDone\", currentContent.text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                    }\n                }\n            }\n            if (__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\")) {\n                this._emit(\"messageDone\", event.data);\n            }\n            __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, undefined, \"f\");\n    }\n}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep(event) {\n    const accumulatedRunStep = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateRunStep).call(this, event);\n    __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, \"f\");\n    switch(event.event){\n        case \"thread.run.step.created\":\n            this._emit(\"runStepCreated\", event.data);\n            break;\n        case \"thread.run.step.delta\":\n            const delta = event.data.delta;\n            if (delta.step_details && delta.step_details.type == \"tool_calls\" && delta.step_details.tool_calls && accumulatedRunStep.step_details.type == \"tool_calls\") {\n                for (const toolCall of delta.step_details.tool_calls){\n                    if (toolCall.index == __classPrivateFieldGet(this, _AssistantStream_currentToolCallIndex, \"f\")) {\n                        this._emit(\"toolCallDelta\", toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);\n                    } else {\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                            this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCallIndex, toolCall.index, \"f\");\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], \"f\");\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) this._emit(\"toolCallCreated\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    }\n                }\n            }\n            this._emit(\"runStepDelta\", event.data.delta, accumulatedRunStep);\n            break;\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n            __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, undefined, \"f\");\n            const details = event.data.step_details;\n            if (details.type == \"tool_calls\") {\n                if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                    this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n                }\n            }\n            this._emit(\"runStepDone\", event.data, accumulatedRunStep);\n            break;\n        case \"thread.run.step.in_progress\":\n            break;\n    }\n}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent(event) {\n    __classPrivateFieldGet(this, _AssistantStream_events, \"f\").push(event);\n    this._emit(\"event\", event);\n}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep(event) {\n    switch(event.event){\n        case \"thread.run.step.created\":\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            return event.data;\n        case \"thread.run.step.delta\":\n            let snapshot = __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n            if (!snapshot) {\n                throw Error(\"Received a RunStepDelta before creation of a snapshot\");\n            }\n            let data = event.data;\n            if (data.delta) {\n                const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);\n                __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = accumulated;\n            }\n            return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n        case \"thread.run.step.completed\":\n        case \"thread.run.step.failed\":\n        case \"thread.run.step.cancelled\":\n        case \"thread.run.step.expired\":\n        case \"thread.run.step.in_progress\":\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            break;\n    }\n    if (__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id]) return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n    throw new Error(\"No snapshot available\");\n}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage(event, snapshot) {\n    let newContent = [];\n    switch(event.event){\n        case \"thread.message.created\":\n            //On creation the snapshot is just the initial message\n            return [\n                event.data,\n                newContent\n            ];\n        case \"thread.message.delta\":\n            if (!snapshot) {\n                throw Error(\"Received a delta with no existing snapshot (there should be one from message creation)\");\n            }\n            let data = event.data;\n            //If this delta does not have content, nothing to process\n            if (data.delta.content) {\n                for (const contentElement of data.delta.content){\n                    if (contentElement.index in snapshot.content) {\n                        let currentContent = snapshot.content[contentElement.index];\n                        snapshot.content[contentElement.index] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);\n                    } else {\n                        snapshot.content[contentElement.index] = contentElement;\n                        // This is a new element\n                        newContent.push(contentElement);\n                    }\n                }\n            }\n            return [\n                snapshot,\n                newContent\n            ];\n        case \"thread.message.in_progress\":\n        case \"thread.message.completed\":\n        case \"thread.message.incomplete\":\n            //No changes on other thread events\n            if (snapshot) {\n                return [\n                    snapshot,\n                    newContent\n                ];\n            } else {\n                throw Error(\"Received thread message event with no existing snapshot\");\n            }\n    }\n    throw Error(\"Tried to accumulate a non-message event\");\n}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent(contentElement, currentContent) {\n    return AssistantStream.accumulateDelta(currentContent, contentElement);\n}, _AssistantStream_handleRun = function _AssistantStream_handleRun(event) {\n    __classPrivateFieldSet(this, _AssistantStream_currentRunSnapshot, event.data, \"f\");\n    switch(event.event){\n        case \"thread.run.created\":\n            break;\n        case \"thread.run.queued\":\n            break;\n        case \"thread.run.in_progress\":\n            break;\n        case \"thread.run.requires_action\":\n        case \"thread.run.cancelled\":\n        case \"thread.run.failed\":\n        case \"thread.run.completed\":\n        case \"thread.run.expired\":\n            __classPrivateFieldSet(this, _AssistantStream_finalRun, event.data, \"f\");\n            if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                this._emit(\"toolCallDone\", __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n            }\n            break;\n        case \"thread.run.cancelling\":\n            break;\n    }\n};\nfunction assertNever(_x) {} //# sourceMappingURL=AssistantStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0Fzc2lzdGFudFN0cmVhbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNOLFlBQVlHLElBQUlBLEVBQUVJLEtBQUssR0FBR04sTUFBTU8sR0FBRyxDQUFDUjtBQUN4RjtBQUNBLElBQUlTLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVVCxRQUFRLEVBQUVDLEtBQUssRUFBRU0sS0FBSyxFQUFFTCxJQUFJLEVBQUVDLENBQUM7SUFDM0csSUFBSUQsU0FBUyxLQUFLLE1BQU0sSUFBSUUsVUFBVTtJQUN0QyxJQUFJRixTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSCxVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDRixNQUFNSSxHQUFHLENBQUNMLFdBQVcsTUFBTSxJQUFJSSxVQUFVO0lBQ3ZHLE9BQU8sU0FBVSxNQUFNRCxFQUFFRyxJQUFJLENBQUNOLFVBQVVPLFNBQVNKLElBQUlBLEVBQUVJLEtBQUssR0FBR0EsUUFBUU4sTUFBTVMsR0FBRyxDQUFDVixVQUFVTyxRQUFTQTtBQUN4RztBQUNBLElBQUlJLDRCQUE0QkMseUJBQXlCQyxtQ0FBbUNDLG1DQUFtQ0Msa0NBQWtDQywyQkFBMkJDLHNDQUFzQ0MsaUNBQWlDQyx1Q0FBdUNDLGtDQUFrQ0MsK0JBQStCQyxxQ0FBcUNDLHlDQUF5Q0MsMkJBQTJCQyw2QkFBNkJDLGdDQUFnQ0MsZ0NBQWdDQyw4QkFBOEJDLG9DQUFvQ0Msb0NBQW9DQyxvQ0FBb0NDO0FBQ3ZwQjtBQUNNO0FBQ29CO0FBQ2Q7QUFDekMsTUFBTU0sd0JBQXdCRCx5REFBV0E7SUFDNUNFLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1Q3QiwyQkFBMkI4QixHQUFHLENBQUMsSUFBSTtRQUNuQyxpREFBaUQ7UUFDakQ3Qix3QkFBd0JGLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRTtRQUNwQywyQkFBMkI7UUFDM0IsZ0VBQWdFO1FBQ2hFRyxrQ0FBa0NILEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUM3Q0ksa0NBQWtDSixHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0NLLGlDQUFpQ0wsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQ2hETSwwQkFBMEJOLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSztRQUN6Q08scUNBQXFDUCxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUs7UUFDcERRLGdDQUFnQ1IsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO1FBQy9DUyxzQ0FBc0NULEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSztRQUNyRFUsaUNBQWlDVixHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUs7UUFDaEQsOEJBQThCO1FBQzlCVyw4QkFBOEJYLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSztRQUM3Q1ksb0NBQW9DWixHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUs7UUFDbkRhLHdDQUF3Q2IsR0FBRyxDQUFDLElBQUksRUFBRSxLQUFLO0lBQzNEO0lBQ0EsQ0FBRUUsQ0FBQUEsMEJBQTBCLElBQUk4QixXQUFXN0Isb0NBQW9DLElBQUk2QixXQUFXNUIsb0NBQW9DLElBQUk0QixXQUFXM0IsbUNBQW1DLElBQUkyQixXQUFXMUIsNEJBQTRCLElBQUkwQixXQUFXekIsdUNBQXVDLElBQUl5QixXQUFXeEIsa0NBQWtDLElBQUl3QixXQUFXdkIsd0NBQXdDLElBQUl1QixXQUFXdEIsbUNBQW1DLElBQUlzQixXQUFXckIsZ0NBQWdDLElBQUlxQixXQUFXcEIsc0NBQXNDLElBQUlvQixXQUFXbkIsMENBQTBDLElBQUltQixXQUFXL0IsNkJBQTZCLElBQUlnQyxXQUFXQyxPQUFPQyxhQUFhLEVBQUUsR0FBRztRQUM1cEIsTUFBTUMsWUFBWSxFQUFFO1FBQ3BCLE1BQU1DLFlBQVksRUFBRTtRQUNwQixJQUFJQyxPQUFPO1FBQ1gsd0NBQXdDO1FBQ3hDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLFNBQVMsQ0FBQ0M7WUFDZCxNQUFNQyxTQUFTSixVQUFVSyxLQUFLO1lBQzlCLElBQUlELFFBQVE7Z0JBQ1JBLE9BQU9FLE9BQU8sQ0FBQ0g7WUFDbkIsT0FDSztnQkFDREosVUFBVVEsSUFBSSxDQUFDSjtZQUNuQjtRQUNKO1FBQ0EsSUFBSSxDQUFDRCxFQUFFLENBQUMsT0FBTztZQUNYRCxPQUFPO1lBQ1AsS0FBSyxNQUFNRyxVQUFVSixVQUFXO2dCQUM1QkksT0FBT0UsT0FBTyxDQUFDRTtZQUNuQjtZQUNBUixVQUFVUyxNQUFNLEdBQUc7UUFDdkI7UUFDQSxJQUFJLENBQUNQLEVBQUUsQ0FBQyxTQUFTLENBQUNRO1lBQ2RULE9BQU87WUFDUCxLQUFLLE1BQU1HLFVBQVVKLFVBQVc7Z0JBQzVCSSxPQUFPTyxNQUFNLENBQUNEO1lBQ2xCO1lBQ0FWLFVBQVVTLE1BQU0sR0FBRztRQUN2QjtRQUNBLElBQUksQ0FBQ1AsRUFBRSxDQUFDLFNBQVMsQ0FBQ1E7WUFDZFQsT0FBTztZQUNQLEtBQUssTUFBTUcsVUFBVUosVUFBVztnQkFDNUJJLE9BQU9PLE1BQU0sQ0FBQ0Q7WUFDbEI7WUFDQVYsVUFBVVMsTUFBTSxHQUFHO1FBQ3ZCO1FBQ0EsT0FBTztZQUNIRyxNQUFNO2dCQUNGLElBQUksQ0FBQ2IsVUFBVVUsTUFBTSxFQUFFO29CQUNuQixJQUFJUixNQUFNO3dCQUNOLE9BQU87NEJBQUV6QyxPQUFPZ0Q7NEJBQVdQLE1BQU07d0JBQUs7b0JBQzFDO29CQUNBLE9BQU8sSUFBSVksUUFBUSxDQUFDUCxTQUFTSyxTQUFXWCxVQUFVTyxJQUFJLENBQUM7NEJBQUVEOzRCQUFTSzt3QkFBTyxJQUFJRyxJQUFJLENBQUMsQ0FBQ0MsUUFBV0EsUUFBUTs0QkFBRXZELE9BQU91RDs0QkFBT2QsTUFBTTt3QkFBTSxJQUFJOzRCQUFFekMsT0FBT2dEOzRCQUFXUCxNQUFNO3dCQUFLO2dCQUN6SztnQkFDQSxNQUFNYyxRQUFRaEIsVUFBVU0sS0FBSztnQkFDN0IsT0FBTztvQkFBRTdDLE9BQU91RDtvQkFBT2QsTUFBTTtnQkFBTTtZQUN2QztZQUNBZSxRQUFRO2dCQUNKLElBQUksQ0FBQ0MsS0FBSztnQkFDVixPQUFPO29CQUFFekQsT0FBT2dEO29CQUFXUCxNQUFNO2dCQUFLO1lBQzFDO1FBQ0o7SUFDSjtJQUNBLE9BQU9pQixtQkFBbUJDLE1BQU0sRUFBRTtRQUM5QixNQUFNQyxTQUFTLElBQUk3QjtRQUNuQjZCLE9BQU9DLElBQUksQ0FBQyxJQUFNRCxPQUFPRSxtQkFBbUIsQ0FBQ0g7UUFDN0MsT0FBT0M7SUFDWDtJQUNBLE1BQU1FLG9CQUFvQkMsY0FBYyxFQUFFQyxPQUFPLEVBQUU7UUFDL0MsTUFBTUMsU0FBU0QsU0FBU0M7UUFDeEIsSUFBSUEsUUFBUTtZQUNSLElBQUlBLE9BQU9DLE9BQU8sRUFDZCxJQUFJLENBQUNDLFVBQVUsQ0FBQ1YsS0FBSztZQUN6QlEsT0FBT0csZ0JBQWdCLENBQUMsU0FBUyxJQUFNLElBQUksQ0FBQ0QsVUFBVSxDQUFDVixLQUFLO1FBQ2hFO1FBQ0EsSUFBSSxDQUFDWSxVQUFVO1FBQ2YsTUFBTVYsU0FBU2hDLGtEQUFNQSxDQUFDK0Isa0JBQWtCLENBQUNLLGdCQUFnQixJQUFJLENBQUNJLFVBQVU7UUFDeEUsV0FBVyxNQUFNeEIsU0FBU2dCLE9BQVE7WUFDOUJuRSx1QkFBdUIsSUFBSSxFQUFFWSw0QkFBNEIsS0FBS2EsMkJBQTJCbEIsSUFBSSxDQUFDLElBQUksRUFBRTRDO1FBQ3hHO1FBQ0EsSUFBSWdCLE9BQU9RLFVBQVUsQ0FBQ0YsTUFBTSxFQUFFQyxTQUFTO1lBQ25DLE1BQU0sSUFBSXRDLHlEQUFpQkE7UUFDL0I7UUFDQSxPQUFPLElBQUksQ0FBQzBDLE9BQU8sQ0FBQzlFLHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLYyw2QkFBNkJuQixJQUFJLENBQUMsSUFBSTtJQUM1SDtJQUNBd0UsbUJBQW1CO1FBQ2YsTUFBTVosU0FBUyxJQUFJaEMsa0RBQU1BLENBQUMsSUFBSSxDQUFDVSxPQUFPQyxhQUFhLENBQUMsQ0FBQ2tDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDTCxVQUFVO1FBQ2hGLE9BQU9SLE9BQU9ZLGdCQUFnQjtJQUNsQztJQUNBLE9BQU9FLDBCQUEwQkMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFYixPQUFPLEVBQUU7UUFDckUsTUFBTUosU0FBUyxJQUFJN0I7UUFDbkI2QixPQUFPQyxJQUFJLENBQUMsSUFBTUQsT0FBT2tCLHVCQUF1QixDQUFDSixVQUFVQyxPQUFPQyxNQUFNQyxRQUFRO2dCQUM1RSxHQUFHYixPQUFPO2dCQUNWZSxTQUFTO29CQUFFLEdBQUdmLFNBQVNlLE9BQU87b0JBQUUsNkJBQTZCO2dCQUFTO1lBQzFFO1FBQ0EsT0FBT25CO0lBQ1g7SUFDQSxNQUFNb0IsMkJBQTJCQyxHQUFHLEVBQUVQLFFBQVEsRUFBRUMsS0FBSyxFQUFFRSxNQUFNLEVBQUViLE9BQU8sRUFBRTtRQUNwRSxNQUFNQyxTQUFTRCxTQUFTQztRQUN4QixJQUFJQSxRQUFRO1lBQ1IsSUFBSUEsT0FBT0MsT0FBTyxFQUNkLElBQUksQ0FBQ0MsVUFBVSxDQUFDVixLQUFLO1lBQ3pCUSxPQUFPRyxnQkFBZ0IsQ0FBQyxTQUFTLElBQU0sSUFBSSxDQUFDRCxVQUFVLENBQUNWLEtBQUs7UUFDaEU7UUFDQSxNQUFNeUIsT0FBTztZQUFFLEdBQUdMLE1BQU07WUFBRWxCLFFBQVE7UUFBSztRQUN2QyxNQUFNQSxTQUFTLE1BQU1zQixJQUFJRSxpQkFBaUIsQ0FBQ1QsVUFBVUMsT0FBT08sTUFBTTtZQUM5RCxHQUFHbEIsT0FBTztZQUNWQyxRQUFRLElBQUksQ0FBQ0UsVUFBVSxDQUFDRixNQUFNO1FBQ2xDO1FBQ0EsSUFBSSxDQUFDSSxVQUFVO1FBQ2YsV0FBVyxNQUFNMUIsU0FBU2dCLE9BQVE7WUFDOUJuRSx1QkFBdUIsSUFBSSxFQUFFWSw0QkFBNEIsS0FBS2EsMkJBQTJCbEIsSUFBSSxDQUFDLElBQUksRUFBRTRDO1FBQ3hHO1FBQ0EsSUFBSWdCLE9BQU9RLFVBQVUsQ0FBQ0YsTUFBTSxFQUFFQyxTQUFTO1lBQ25DLE1BQU0sSUFBSXRDLHlEQUFpQkE7UUFDL0I7UUFDQSxPQUFPLElBQUksQ0FBQzBDLE9BQU8sQ0FBQzlFLHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLYyw2QkFBNkJuQixJQUFJLENBQUMsSUFBSTtJQUM1SDtJQUNBLE9BQU9xRiw0QkFBNEJQLE1BQU0sRUFBRVEsTUFBTSxFQUFFckIsT0FBTyxFQUFFO1FBQ3hELE1BQU1KLFNBQVMsSUFBSTdCO1FBQ25CNkIsT0FBT0MsSUFBSSxDQUFDLElBQU1ELE9BQU8wQixzQkFBc0IsQ0FBQ1QsUUFBUVEsUUFBUTtnQkFDNUQsR0FBR3JCLE9BQU87Z0JBQ1ZlLFNBQVM7b0JBQUUsR0FBR2YsU0FBU2UsT0FBTztvQkFBRSw2QkFBNkI7Z0JBQVM7WUFDMUU7UUFDQSxPQUFPbkI7SUFDWDtJQUNBLE9BQU8yQixzQkFBc0JiLFFBQVEsRUFBRUUsSUFBSSxFQUFFQyxNQUFNLEVBQUViLE9BQU8sRUFBRTtRQUMxRCxNQUFNSixTQUFTLElBQUk3QjtRQUNuQjZCLE9BQU9DLElBQUksQ0FBQyxJQUFNRCxPQUFPNEIsbUJBQW1CLENBQUNkLFVBQVVFLE1BQU1DLFFBQVE7Z0JBQ2pFLEdBQUdiLE9BQU87Z0JBQ1ZlLFNBQVM7b0JBQUUsR0FBR2YsU0FBU2UsT0FBTztvQkFBRSw2QkFBNkI7Z0JBQVM7WUFDMUU7UUFDQSxPQUFPbkI7SUFDWDtJQUNBNkIsZUFBZTtRQUNYLE9BQU9qRyx1QkFBdUIsSUFBSSxFQUFFc0IsK0JBQStCO0lBQ3ZFO0lBQ0E0RSxhQUFhO1FBQ1QsT0FBT2xHLHVCQUF1QixJQUFJLEVBQUV1QixxQ0FBcUM7SUFDN0U7SUFDQTRFLHlCQUF5QjtRQUNyQixPQUFPbkcsdUJBQXVCLElBQUksRUFBRWdCLGtDQUFrQztJQUMxRTtJQUNBb0YseUJBQXlCO1FBQ3JCLE9BQU9wRyx1QkFBdUIsSUFBSSxFQUFFd0IseUNBQXlDO0lBQ2pGO0lBQ0EsTUFBTTZFLGdCQUFnQjtRQUNsQixNQUFNLElBQUksQ0FBQ3BELElBQUk7UUFDZixPQUFPcUQsT0FBT0MsTUFBTSxDQUFDdkcsdUJBQXVCLElBQUksRUFBRWMsbUNBQW1DO0lBQ3pGO0lBQ0EsTUFBTTBGLGdCQUFnQjtRQUNsQixNQUFNLElBQUksQ0FBQ3ZELElBQUk7UUFDZixPQUFPcUQsT0FBT0MsTUFBTSxDQUFDdkcsdUJBQXVCLElBQUksRUFBRWUsbUNBQW1DO0lBQ3pGO0lBQ0EsTUFBTTBGLFdBQVc7UUFDYixNQUFNLElBQUksQ0FBQ3hELElBQUk7UUFDZixJQUFJLENBQUNqRCx1QkFBdUIsSUFBSSxFQUFFaUIsMkJBQTJCLE1BQ3pELE1BQU15RixNQUFNO1FBQ2hCLE9BQU8xRyx1QkFBdUIsSUFBSSxFQUFFaUIsMkJBQTJCO0lBQ25FO0lBQ0EsTUFBTTBGLDZCQUE2QmQsTUFBTSxFQUFFUixNQUFNLEVBQUViLE9BQU8sRUFBRTtRQUN4RCxNQUFNQyxTQUFTRCxTQUFTQztRQUN4QixJQUFJQSxRQUFRO1lBQ1IsSUFBSUEsT0FBT0MsT0FBTyxFQUNkLElBQUksQ0FBQ0MsVUFBVSxDQUFDVixLQUFLO1lBQ3pCUSxPQUFPRyxnQkFBZ0IsQ0FBQyxTQUFTLElBQU0sSUFBSSxDQUFDRCxVQUFVLENBQUNWLEtBQUs7UUFDaEU7UUFDQSxNQUFNeUIsT0FBTztZQUFFLEdBQUdMLE1BQU07WUFBRWxCLFFBQVE7UUFBSztRQUN2QyxNQUFNQSxTQUFTLE1BQU0wQixPQUFPZSxZQUFZLENBQUNsQixNQUFNO1lBQUUsR0FBR2xCLE9BQU87WUFBRUMsUUFBUSxJQUFJLENBQUNFLFVBQVUsQ0FBQ0YsTUFBTTtRQUFDO1FBQzVGLElBQUksQ0FBQ0ksVUFBVTtRQUNmLFdBQVcsTUFBTTFCLFNBQVNnQixPQUFRO1lBQzlCbkUsdUJBQXVCLElBQUksRUFBRVksNEJBQTRCLEtBQUthLDJCQUEyQmxCLElBQUksQ0FBQyxJQUFJLEVBQUU0QztRQUN4RztRQUNBLElBQUlnQixPQUFPUSxVQUFVLENBQUNGLE1BQU0sRUFBRUMsU0FBUztZQUNuQyxNQUFNLElBQUl0Qyx5REFBaUJBO1FBQy9CO1FBQ0EsT0FBTyxJQUFJLENBQUMwQyxPQUFPLENBQUM5RSx1QkFBdUIsSUFBSSxFQUFFWSw0QkFBNEIsS0FBS2MsNkJBQTZCbkIsSUFBSSxDQUFDLElBQUk7SUFDNUg7SUFDQSxNQUFNc0csdUJBQXVCcEIsR0FBRyxFQUFFUCxRQUFRLEVBQUVHLE1BQU0sRUFBRWIsT0FBTyxFQUFFO1FBQ3pELE1BQU1DLFNBQVNELFNBQVNDO1FBQ3hCLElBQUlBLFFBQVE7WUFDUixJQUFJQSxPQUFPQyxPQUFPLEVBQ2QsSUFBSSxDQUFDQyxVQUFVLENBQUNWLEtBQUs7WUFDekJRLE9BQU9HLGdCQUFnQixDQUFDLFNBQVMsSUFBTSxJQUFJLENBQUNELFVBQVUsQ0FBQ1YsS0FBSztRQUNoRTtRQUNBLE1BQU15QixPQUFPO1lBQUUsR0FBR0wsTUFBTTtZQUFFbEIsUUFBUTtRQUFLO1FBQ3ZDLE1BQU1BLFNBQVMsTUFBTXNCLElBQUlxQixNQUFNLENBQUM1QixVQUFVUSxNQUFNO1lBQUUsR0FBR2xCLE9BQU87WUFBRUMsUUFBUSxJQUFJLENBQUNFLFVBQVUsQ0FBQ0YsTUFBTTtRQUFDO1FBQzdGLElBQUksQ0FBQ0ksVUFBVTtRQUNmLFdBQVcsTUFBTTFCLFNBQVNnQixPQUFRO1lBQzlCbkUsdUJBQXVCLElBQUksRUFBRVksNEJBQTRCLEtBQUthLDJCQUEyQmxCLElBQUksQ0FBQyxJQUFJLEVBQUU0QztRQUN4RztRQUNBLElBQUlnQixPQUFPUSxVQUFVLENBQUNGLE1BQU0sRUFBRUMsU0FBUztZQUNuQyxNQUFNLElBQUl0Qyx5REFBaUJBO1FBQy9CO1FBQ0EsT0FBTyxJQUFJLENBQUMwQyxPQUFPLENBQUM5RSx1QkFBdUIsSUFBSSxFQUFFWSw0QkFBNEIsS0FBS2MsNkJBQTZCbkIsSUFBSSxDQUFDLElBQUk7SUFDNUg7SUFDQSxPQUFPd0csZ0JBQWdCQyxHQUFHLEVBQUVDLEtBQUssRUFBRTtRQUMvQixLQUFLLE1BQU0sQ0FBQ0MsS0FBS0MsV0FBVyxJQUFJYixPQUFPYyxPQUFPLENBQUNILE9BQVE7WUFDbkQsSUFBSSxDQUFDRCxJQUFJSyxjQUFjLENBQUNILE1BQU07Z0JBQzFCRixHQUFHLENBQUNFLElBQUksR0FBR0M7Z0JBQ1g7WUFDSjtZQUNBLElBQUlHLFdBQVdOLEdBQUcsQ0FBQ0UsSUFBSTtZQUN2QixJQUFJSSxhQUFhLFFBQVFBLGFBQWE5RCxXQUFXO2dCQUM3Q3dELEdBQUcsQ0FBQ0UsSUFBSSxHQUFHQztnQkFDWDtZQUNKO1lBQ0EsK0NBQStDO1lBQy9DLElBQUlELFFBQVEsV0FBV0EsUUFBUSxRQUFRO2dCQUNuQ0YsR0FBRyxDQUFDRSxJQUFJLEdBQUdDO2dCQUNYO1lBQ0o7WUFDQSxtQ0FBbUM7WUFDbkMsSUFBSSxPQUFPRyxhQUFhLFlBQVksT0FBT0gsZUFBZSxVQUFVO2dCQUNoRUcsWUFBWUg7WUFDaEIsT0FDSyxJQUFJLE9BQU9HLGFBQWEsWUFBWSxPQUFPSCxlQUFlLFVBQVU7Z0JBQ3JFRyxZQUFZSDtZQUNoQixPQUNLLElBQUlqRiw0Q0FBVSxDQUFDb0YsYUFBYXBGLDRDQUFVLENBQUNpRixhQUFhO2dCQUNyREcsV0FBVyxJQUFJLENBQUNQLGVBQWUsQ0FBQ08sVUFBVUg7WUFDOUMsT0FDSyxJQUFJSyxNQUFNQyxPQUFPLENBQUNILGFBQWFFLE1BQU1DLE9BQU8sQ0FBQ04sYUFBYTtnQkFDM0QsSUFBSUcsU0FBU0ksS0FBSyxDQUFDLENBQUNDLElBQU0sT0FBT0EsTUFBTSxZQUFZLE9BQU9BLE1BQU0sV0FBVztvQkFDdkVMLFNBQVMvRCxJQUFJLElBQUk0RCxhQUFhLDJDQUEyQztvQkFDekU7Z0JBQ0o7Z0JBQ0EsS0FBSyxNQUFNUyxjQUFjVCxXQUFZO29CQUNqQyxJQUFJLENBQUNqRiw0Q0FBVSxDQUFDMEYsYUFBYTt3QkFDekIsTUFBTSxJQUFJbEIsTUFBTSxDQUFDLG9EQUFvRCxFQUFFa0IsV0FBVyxDQUFDO29CQUN2RjtvQkFDQSxNQUFNQyxRQUFRRCxVQUFVLENBQUMsUUFBUTtvQkFDakMsSUFBSUMsU0FBUyxNQUFNO3dCQUNmQyxRQUFRQyxLQUFLLENBQUNIO3dCQUNkLE1BQU0sSUFBSWxCLE1BQU07b0JBQ3BCO29CQUNBLElBQUksT0FBT21CLFVBQVUsVUFBVTt3QkFDM0IsTUFBTSxJQUFJbkIsTUFBTSxDQUFDLHFFQUFxRSxFQUFFbUIsTUFBTSxDQUFDO29CQUNuRztvQkFDQSxNQUFNRyxXQUFXVixRQUFRLENBQUNPLE1BQU07b0JBQ2hDLElBQUlHLFlBQVksTUFBTTt3QkFDbEJWLFNBQVMvRCxJQUFJLENBQUNxRTtvQkFDbEIsT0FDSzt3QkFDRE4sUUFBUSxDQUFDTyxNQUFNLEdBQUcsSUFBSSxDQUFDZCxlQUFlLENBQUNpQixVQUFVSjtvQkFDckQ7Z0JBQ0o7Z0JBQ0E7WUFDSixPQUNLO2dCQUNELE1BQU1sQixNQUFNLENBQUMsdUJBQXVCLEVBQUVRLElBQUksY0FBYyxFQUFFQyxXQUFXLFlBQVksRUFBRUcsU0FBUyxDQUFDO1lBQ2pHO1lBQ0FOLEdBQUcsQ0FBQ0UsSUFBSSxHQUFHSTtRQUNmO1FBQ0EsT0FBT047SUFDWDtJQUNBbEMsUUFBUVcsR0FBRyxFQUFFO1FBQ1QsT0FBT0E7SUFDWDtJQUNBLE1BQU1LLHVCQUF1QlQsTUFBTSxFQUFFUSxNQUFNLEVBQUVyQixPQUFPLEVBQUU7UUFDbEQsT0FBTyxNQUFNLElBQUksQ0FBQ21DLDRCQUE0QixDQUFDZCxRQUFRUixRQUFRYjtJQUNuRTtJQUNBLE1BQU13QixvQkFBb0JkLFFBQVEsRUFBRUUsSUFBSSxFQUFFQyxNQUFNLEVBQUViLE9BQU8sRUFBRTtRQUN2RCxPQUFPLE1BQU0sSUFBSSxDQUFDcUMsc0JBQXNCLENBQUN6QixNQUFNRixVQUFVRyxRQUFRYjtJQUNyRTtJQUNBLE1BQU1jLHdCQUF3QkosUUFBUSxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFYixPQUFPLEVBQUU7UUFDbEUsT0FBTyxNQUFNLElBQUksQ0FBQ2dCLDBCQUEwQixDQUFDSixNQUFNRixVQUFVQyxPQUFPRSxRQUFRYjtJQUNoRjtBQUNKO0FBQ0EvQyw0QkFBNEIsU0FBU0EsMEJBQTBCMEIsS0FBSztJQUNoRSxJQUFJLElBQUksQ0FBQzhFLEtBQUssRUFDVjtJQUNKdkgsdUJBQXVCLElBQUksRUFBRVksK0JBQStCNkIsT0FBTztJQUNuRW5ELHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLaUIsOEJBQThCdEIsSUFBSSxDQUFDLElBQUksRUFBRTRDO0lBQ3ZHLE9BQVFBLE1BQU1BLEtBQUs7UUFDZixLQUFLO1lBRUQ7UUFDSixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0RuRCx1QkFBdUIsSUFBSSxFQUFFWSw0QkFBNEIsS0FBS3FCLDRCQUE0QjFCLElBQUksQ0FBQyxJQUFJLEVBQUU0QztZQUNyRztRQUNKLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDRG5ELHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLZ0IsZ0NBQWdDckIsSUFBSSxDQUFDLElBQUksRUFBRTRDO1lBQ3pHO1FBQ0osS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFDRG5ELHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLZSxnQ0FBZ0NwQixJQUFJLENBQUMsSUFBSSxFQUFFNEM7WUFDekc7UUFDSixLQUFLO1lBQ0Qsa0hBQWtIO1lBQ2xILE1BQU0sSUFBSXVELE1BQU07UUFDcEI7WUFDSXdCLFlBQVkvRTtJQUNwQjtBQUNKLEdBQUd6Qiw4QkFBOEIsU0FBU0E7SUFDdEMsSUFBSSxJQUFJLENBQUN1RyxLQUFLLEVBQUU7UUFDWixNQUFNLElBQUk1RixtREFBV0EsQ0FBQyxDQUFDLHVDQUF1QyxDQUFDO0lBQ25FO0lBQ0EsSUFBSSxDQUFDckMsdUJBQXVCLElBQUksRUFBRWlCLDJCQUEyQixNQUN6RCxNQUFNeUYsTUFBTTtJQUNoQixPQUFPMUcsdUJBQXVCLElBQUksRUFBRWlCLDJCQUEyQjtBQUNuRSxHQUFHVSxpQ0FBaUMsU0FBU0EsK0JBQStCd0IsS0FBSztJQUM3RSxNQUFNLENBQUNnRixvQkFBb0JDLFdBQVcsR0FBR3BJLHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLbUIsb0NBQW9DeEIsSUFBSSxDQUFDLElBQUksRUFBRTRDLE9BQU9uRCx1QkFBdUIsSUFBSSxFQUFFZ0Isa0NBQWtDO0lBQzVOTix1QkFBdUIsSUFBSSxFQUFFTSxrQ0FBa0NtSCxvQkFBb0I7SUFDbkZuSSx1QkFBdUIsSUFBSSxFQUFFZSxtQ0FBbUMsSUFBSSxDQUFDb0gsbUJBQW1CRSxFQUFFLENBQUMsR0FBR0Y7SUFDOUYsS0FBSyxNQUFNRyxXQUFXRixXQUFZO1FBQzlCLE1BQU1HLGtCQUFrQkosbUJBQW1CRyxPQUFPLENBQUNBLFFBQVFULEtBQUssQ0FBQztRQUNqRSxJQUFJVSxpQkFBaUJDLFFBQVEsUUFBUTtZQUNqQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxlQUFlRixnQkFBZ0JHLElBQUk7UUFDbEQ7SUFDSjtJQUNBLE9BQVF2RixNQUFNQSxLQUFLO1FBQ2YsS0FBSztZQUNELElBQUksQ0FBQ3NGLEtBQUssQ0FBQyxrQkFBa0J0RixNQUFNd0YsSUFBSTtZQUN2QztRQUNKLEtBQUs7WUFDRDtRQUNKLEtBQUs7WUFDRCxJQUFJLENBQUNGLEtBQUssQ0FBQyxnQkFBZ0J0RixNQUFNd0YsSUFBSSxDQUFDMUIsS0FBSyxFQUFFa0I7WUFDN0MsSUFBSWhGLE1BQU13RixJQUFJLENBQUMxQixLQUFLLENBQUNxQixPQUFPLEVBQUU7Z0JBQzFCLEtBQUssTUFBTUEsV0FBV25GLE1BQU13RixJQUFJLENBQUMxQixLQUFLLENBQUNxQixPQUFPLENBQUU7b0JBQzVDLDhDQUE4QztvQkFDOUMsSUFBSUEsUUFBUUUsSUFBSSxJQUFJLFVBQVVGLFFBQVFJLElBQUksRUFBRTt3QkFDeEMsSUFBSUUsWUFBWU4sUUFBUUksSUFBSTt3QkFDNUIsSUFBSUcsV0FBV1YsbUJBQW1CRyxPQUFPLENBQUNBLFFBQVFULEtBQUssQ0FBQzt3QkFDeEQsSUFBSWdCLFlBQVlBLFNBQVNMLElBQUksSUFBSSxRQUFROzRCQUNyQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxhQUFhRyxXQUFXQyxTQUFTSCxJQUFJO3dCQUNwRCxPQUNLOzRCQUNELE1BQU1oQyxNQUFNO3dCQUNoQjtvQkFDSjtvQkFDQSxJQUFJNEIsUUFBUVQsS0FBSyxJQUFJN0gsdUJBQXVCLElBQUksRUFBRWtCLHNDQUFzQyxNQUFNO3dCQUMxRixvQ0FBb0M7d0JBQ3BDLElBQUlsQix1QkFBdUIsSUFBSSxFQUFFbUIsaUNBQWlDLE1BQU07NEJBQ3BFLE9BQVFuQix1QkFBdUIsSUFBSSxFQUFFbUIsaUNBQWlDLEtBQUtxSCxJQUFJO2dDQUMzRSxLQUFLO29DQUNELElBQUksQ0FBQ0MsS0FBSyxDQUFDLFlBQVl6SSx1QkFBdUIsSUFBSSxFQUFFbUIsaUNBQWlDLEtBQUt1SCxJQUFJLEVBQUUxSSx1QkFBdUIsSUFBSSxFQUFFZ0Isa0NBQWtDO29DQUMvSjtnQ0FDSixLQUFLO29DQUNELElBQUksQ0FBQ3lILEtBQUssQ0FBQyxpQkFBaUJ6SSx1QkFBdUIsSUFBSSxFQUFFbUIsaUNBQWlDLEtBQUsySCxVQUFVLEVBQUU5SSx1QkFBdUIsSUFBSSxFQUFFZ0Isa0NBQWtDO29DQUMxSzs0QkFDUjt3QkFDSjt3QkFDQU4sdUJBQXVCLElBQUksRUFBRVEsc0NBQXNDb0gsUUFBUVQsS0FBSyxFQUFFO29CQUN0RjtvQkFDQW5ILHVCQUF1QixJQUFJLEVBQUVTLGlDQUFpQ2dILG1CQUFtQkcsT0FBTyxDQUFDQSxRQUFRVCxLQUFLLENBQUMsRUFBRTtnQkFDN0c7WUFDSjtZQUNBO1FBQ0osS0FBSztRQUNMLEtBQUs7WUFDRCxvRkFBb0Y7WUFDcEYsSUFBSTdILHVCQUF1QixJQUFJLEVBQUVrQixzQ0FBc0MsU0FBU3NDLFdBQVc7Z0JBQ3ZGLE1BQU11RixpQkFBaUI1RixNQUFNd0YsSUFBSSxDQUFDTCxPQUFPLENBQUN0SSx1QkFBdUIsSUFBSSxFQUFFa0Isc0NBQXNDLEtBQUs7Z0JBQ2xILElBQUk2SCxnQkFBZ0I7b0JBQ2hCLE9BQVFBLGVBQWVQLElBQUk7d0JBQ3ZCLEtBQUs7NEJBQ0QsSUFBSSxDQUFDQyxLQUFLLENBQUMsaUJBQWlCTSxlQUFlRCxVQUFVLEVBQUU5SSx1QkFBdUIsSUFBSSxFQUFFZ0Isa0NBQWtDOzRCQUN0SDt3QkFDSixLQUFLOzRCQUNELElBQUksQ0FBQ3lILEtBQUssQ0FBQyxZQUFZTSxlQUFlTCxJQUFJLEVBQUUxSSx1QkFBdUIsSUFBSSxFQUFFZ0Isa0NBQWtDOzRCQUMzRztvQkFDUjtnQkFDSjtZQUNKO1lBQ0EsSUFBSWhCLHVCQUF1QixJQUFJLEVBQUVnQixrQ0FBa0MsTUFBTTtnQkFDckUsSUFBSSxDQUFDeUgsS0FBSyxDQUFDLGVBQWV0RixNQUFNd0YsSUFBSTtZQUN4QztZQUNBakksdUJBQXVCLElBQUksRUFBRU0sa0NBQWtDd0MsV0FBVztJQUNsRjtBQUNKLEdBQUc1QixpQ0FBaUMsU0FBU0EsK0JBQStCdUIsS0FBSztJQUM3RSxNQUFNNkYscUJBQXFCaEosdUJBQXVCLElBQUksRUFBRVksNEJBQTRCLEtBQUtrQixvQ0FBb0N2QixJQUFJLENBQUMsSUFBSSxFQUFFNEM7SUFDeEl6Qyx1QkFBdUIsSUFBSSxFQUFFYyx5Q0FBeUN3SCxvQkFBb0I7SUFDMUYsT0FBUTdGLE1BQU1BLEtBQUs7UUFDZixLQUFLO1lBQ0QsSUFBSSxDQUFDc0YsS0FBSyxDQUFDLGtCQUFrQnRGLE1BQU13RixJQUFJO1lBQ3ZDO1FBQ0osS0FBSztZQUNELE1BQU0xQixRQUFROUQsTUFBTXdGLElBQUksQ0FBQzFCLEtBQUs7WUFDOUIsSUFBSUEsTUFBTWdDLFlBQVksSUFDbEJoQyxNQUFNZ0MsWUFBWSxDQUFDVCxJQUFJLElBQUksZ0JBQzNCdkIsTUFBTWdDLFlBQVksQ0FBQ0MsVUFBVSxJQUM3QkYsbUJBQW1CQyxZQUFZLENBQUNULElBQUksSUFBSSxjQUFjO2dCQUN0RCxLQUFLLE1BQU1XLFlBQVlsQyxNQUFNZ0MsWUFBWSxDQUFDQyxVQUFVLENBQUU7b0JBQ2xELElBQUlDLFNBQVN0QixLQUFLLElBQUk3SCx1QkFBdUIsSUFBSSxFQUFFb0IsdUNBQXVDLE1BQU07d0JBQzVGLElBQUksQ0FBQ3FILEtBQUssQ0FBQyxpQkFBaUJVLFVBQVVILG1CQUFtQkMsWUFBWSxDQUFDQyxVQUFVLENBQUNDLFNBQVN0QixLQUFLLENBQUM7b0JBQ3BHLE9BQ0s7d0JBQ0QsSUFBSTdILHVCQUF1QixJQUFJLEVBQUVxQixrQ0FBa0MsTUFBTTs0QkFDckUsSUFBSSxDQUFDb0gsS0FBSyxDQUFDLGdCQUFnQnpJLHVCQUF1QixJQUFJLEVBQUVxQixrQ0FBa0M7d0JBQzlGO3dCQUNBWCx1QkFBdUIsSUFBSSxFQUFFVSx1Q0FBdUMrSCxTQUFTdEIsS0FBSyxFQUFFO3dCQUNwRm5ILHVCQUF1QixJQUFJLEVBQUVXLGtDQUFrQzJILG1CQUFtQkMsWUFBWSxDQUFDQyxVQUFVLENBQUNDLFNBQVN0QixLQUFLLENBQUMsRUFBRTt3QkFDM0gsSUFBSTdILHVCQUF1QixJQUFJLEVBQUVxQixrQ0FBa0MsTUFDL0QsSUFBSSxDQUFDb0gsS0FBSyxDQUFDLG1CQUFtQnpJLHVCQUF1QixJQUFJLEVBQUVxQixrQ0FBa0M7b0JBQ3JHO2dCQUNKO1lBQ0o7WUFDQSxJQUFJLENBQUNvSCxLQUFLLENBQUMsZ0JBQWdCdEYsTUFBTXdGLElBQUksQ0FBQzFCLEtBQUssRUFBRStCO1lBQzdDO1FBQ0osS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUNEdEksdUJBQXVCLElBQUksRUFBRWMseUNBQXlDZ0MsV0FBVztZQUNqRixNQUFNNEYsVUFBVWpHLE1BQU13RixJQUFJLENBQUNNLFlBQVk7WUFDdkMsSUFBSUcsUUFBUVosSUFBSSxJQUFJLGNBQWM7Z0JBQzlCLElBQUl4SSx1QkFBdUIsSUFBSSxFQUFFcUIsa0NBQWtDLE1BQU07b0JBQ3JFLElBQUksQ0FBQ29ILEtBQUssQ0FBQyxnQkFBZ0J6SSx1QkFBdUIsSUFBSSxFQUFFcUIsa0NBQWtDO29CQUMxRlgsdUJBQXVCLElBQUksRUFBRVcsa0NBQWtDbUMsV0FBVztnQkFDOUU7WUFDSjtZQUNBLElBQUksQ0FBQ2lGLEtBQUssQ0FBQyxlQUFldEYsTUFBTXdGLElBQUksRUFBRUs7WUFDdEM7UUFDSixLQUFLO1lBQ0Q7SUFDUjtBQUNKLEdBQUduSCwrQkFBK0IsU0FBU0EsNkJBQTZCc0IsS0FBSztJQUN6RW5ELHVCQUF1QixJQUFJLEVBQUVhLHlCQUF5QixLQUFLMEMsSUFBSSxDQUFDSjtJQUNoRSxJQUFJLENBQUNzRixLQUFLLENBQUMsU0FBU3RGO0FBQ3hCLEdBQUdyQixxQ0FBcUMsU0FBU0EsbUNBQW1DcUIsS0FBSztJQUNyRixPQUFRQSxNQUFNQSxLQUFLO1FBQ2YsS0FBSztZQUNEbkQsdUJBQXVCLElBQUksRUFBRWMsbUNBQW1DLElBQUksQ0FBQ3FDLE1BQU13RixJQUFJLENBQUNOLEVBQUUsQ0FBQyxHQUFHbEYsTUFBTXdGLElBQUk7WUFDaEcsT0FBT3hGLE1BQU13RixJQUFJO1FBQ3JCLEtBQUs7WUFDRCxJQUFJRSxXQUFXN0ksdUJBQXVCLElBQUksRUFBRWMsbUNBQW1DLElBQUksQ0FBQ3FDLE1BQU13RixJQUFJLENBQUNOLEVBQUUsQ0FBQztZQUNsRyxJQUFJLENBQUNRLFVBQVU7Z0JBQ1gsTUFBTW5DLE1BQU07WUFDaEI7WUFDQSxJQUFJaUMsT0FBT3hGLE1BQU13RixJQUFJO1lBQ3JCLElBQUlBLEtBQUsxQixLQUFLLEVBQUU7Z0JBQ1osTUFBTW9DLGNBQWM5RyxnQkFBZ0J3RSxlQUFlLENBQUM4QixVQUFVRixLQUFLMUIsS0FBSztnQkFDeEVqSCx1QkFBdUIsSUFBSSxFQUFFYyxtQ0FBbUMsSUFBSSxDQUFDcUMsTUFBTXdGLElBQUksQ0FBQ04sRUFBRSxDQUFDLEdBQUdnQjtZQUMxRjtZQUNBLE9BQU9ySix1QkFBdUIsSUFBSSxFQUFFYyxtQ0FBbUMsSUFBSSxDQUFDcUMsTUFBTXdGLElBQUksQ0FBQ04sRUFBRSxDQUFDO1FBQzlGLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0RySSx1QkFBdUIsSUFBSSxFQUFFYyxtQ0FBbUMsSUFBSSxDQUFDcUMsTUFBTXdGLElBQUksQ0FBQ04sRUFBRSxDQUFDLEdBQUdsRixNQUFNd0YsSUFBSTtZQUNoRztJQUNSO0lBQ0EsSUFBSTNJLHVCQUF1QixJQUFJLEVBQUVjLG1DQUFtQyxJQUFJLENBQUNxQyxNQUFNd0YsSUFBSSxDQUFDTixFQUFFLENBQUMsRUFDbkYsT0FBT3JJLHVCQUF1QixJQUFJLEVBQUVjLG1DQUFtQyxJQUFJLENBQUNxQyxNQUFNd0YsSUFBSSxDQUFDTixFQUFFLENBQUM7SUFDOUYsTUFBTSxJQUFJM0IsTUFBTTtBQUNwQixHQUFHM0UscUNBQXFDLFNBQVNBLG1DQUFtQ29CLEtBQUssRUFBRTBGLFFBQVE7SUFDL0YsSUFBSVQsYUFBYSxFQUFFO0lBQ25CLE9BQVFqRixNQUFNQSxLQUFLO1FBQ2YsS0FBSztZQUNELHNEQUFzRDtZQUN0RCxPQUFPO2dCQUFDQSxNQUFNd0YsSUFBSTtnQkFBRVA7YUFBVztRQUNuQyxLQUFLO1lBQ0QsSUFBSSxDQUFDUyxVQUFVO2dCQUNYLE1BQU1uQyxNQUFNO1lBQ2hCO1lBQ0EsSUFBSWlDLE9BQU94RixNQUFNd0YsSUFBSTtZQUNyQix5REFBeUQ7WUFDekQsSUFBSUEsS0FBSzFCLEtBQUssQ0FBQ3FCLE9BQU8sRUFBRTtnQkFDcEIsS0FBSyxNQUFNZ0Isa0JBQWtCWCxLQUFLMUIsS0FBSyxDQUFDcUIsT0FBTyxDQUFFO29CQUM3QyxJQUFJZ0IsZUFBZXpCLEtBQUssSUFBSWdCLFNBQVNQLE9BQU8sRUFBRTt3QkFDMUMsSUFBSVMsaUJBQWlCRixTQUFTUCxPQUFPLENBQUNnQixlQUFlekIsS0FBSyxDQUFDO3dCQUMzRGdCLFNBQVNQLE9BQU8sQ0FBQ2dCLGVBQWV6QixLQUFLLENBQUMsR0FBRzdILHVCQUF1QixJQUFJLEVBQUVZLDRCQUE0QixLQUFLb0Isb0NBQW9DekIsSUFBSSxDQUFDLElBQUksRUFBRStJLGdCQUFnQlA7b0JBQzFLLE9BQ0s7d0JBQ0RGLFNBQVNQLE9BQU8sQ0FBQ2dCLGVBQWV6QixLQUFLLENBQUMsR0FBR3lCO3dCQUN6Qyx3QkFBd0I7d0JBQ3hCbEIsV0FBVzdFLElBQUksQ0FBQytGO29CQUNwQjtnQkFDSjtZQUNKO1lBQ0EsT0FBTztnQkFBQ1Q7Z0JBQVVUO2FBQVc7UUFDakMsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0QsbUNBQW1DO1lBQ25DLElBQUlTLFVBQVU7Z0JBQ1YsT0FBTztvQkFBQ0E7b0JBQVVUO2lCQUFXO1lBQ2pDLE9BQ0s7Z0JBQ0QsTUFBTTFCLE1BQU07WUFDaEI7SUFDUjtJQUNBLE1BQU1BLE1BQU07QUFDaEIsR0FBRzFFLHFDQUFxQyxTQUFTQSxtQ0FBbUNzSCxjQUFjLEVBQUVQLGNBQWM7SUFDOUcsT0FBT3hHLGdCQUFnQndFLGVBQWUsQ0FBQ2dDLGdCQUFnQk87QUFDM0QsR0FBR3JILDZCQUE2QixTQUFTQSwyQkFBMkJrQixLQUFLO0lBQ3JFekMsdUJBQXVCLElBQUksRUFBRWEscUNBQXFDNEIsTUFBTXdGLElBQUksRUFBRTtJQUM5RSxPQUFReEYsTUFBTUEsS0FBSztRQUNmLEtBQUs7WUFDRDtRQUNKLEtBQUs7WUFDRDtRQUNKLEtBQUs7WUFDRDtRQUNKLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0R6Qyx1QkFBdUIsSUFBSSxFQUFFTywyQkFBMkJrQyxNQUFNd0YsSUFBSSxFQUFFO1lBQ3BFLElBQUkzSSx1QkFBdUIsSUFBSSxFQUFFcUIsa0NBQWtDLE1BQU07Z0JBQ3JFLElBQUksQ0FBQ29ILEtBQUssQ0FBQyxnQkFBZ0J6SSx1QkFBdUIsSUFBSSxFQUFFcUIsa0NBQWtDO2dCQUMxRlgsdUJBQXVCLElBQUksRUFBRVcsa0NBQWtDbUMsV0FBVztZQUM5RTtZQUNBO1FBQ0osS0FBSztZQUNEO0lBQ1I7QUFDSjtBQUNBLFNBQVMwRSxZQUFZcUIsRUFBRSxHQUFJLEVBQzNCLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQXNzaXN0YW50U3RyZWFtLm1qcz85ZjAyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZVJ1blN0ZXAsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZUNvbnRlbnQsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBBUElVc2VyQWJvcnRFcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBFdmVudFN0cmVhbSB9IGZyb20gXCIuL0V2ZW50U3RyZWFtLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEFzc2lzdGFudFN0cmVhbSBleHRlbmRzIEV2ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICAvL1RyYWNrIGFsbCBldmVudHMgaW4gYSBzaW5nbGUgbGlzdCBmb3IgcmVmZXJlbmNlXG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fZXZlbnRzLnNldCh0aGlzLCBbXSk7XG4gICAgICAgIC8vVXNlZCB0byBhY2N1bXVsYXRlIGRlbHRhc1xuICAgICAgICAvL1dlIGFyZSBhY2N1bXVsYXRpbmcgbWFueSB0eXBlcyBzbyB0aGUgdmFsdWUgaGVyZSBpcyBub3Qgc3RyaWN0XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cy5zZXQodGhpcywge30pO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4uc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIC8vRm9yIGN1cnJlbnQgc25hcHNob3QgbWV0aG9kc1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICB9XG4gICAgWyhfQXNzaXN0YW50U3RyZWFtX2V2ZW50cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cyA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIC8vQ2F0Y2ggYWxsIGZvciBwYXNzaW5nIGFsb25nIGFsbCBldmVudHNcbiAgICAgICAgdGhpcy5vbignZXZlbnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSkpLnRoZW4oKGNodW5rKSA9PiAoY2h1bmsgPyB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS50b1JlYWRhYmxlU3RyZWFtKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBBc3Npc3RhbnRTdHJlYW0oKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Ub29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0ocnVuLCB0aHJlYWRJZCwgcnVuSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBydW4uc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBib2R5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFJ1bihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQXNzaXN0YW50U3RyZWFtKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fdGhyZWFkQXNzaXN0YW50U3RyZWFtKHBhcmFtcywgdGhyZWFkLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBBc3Npc3RhbnRTdHJlYW0oKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Bc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHJ1bnMsIHBhcmFtcywge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIGN1cnJlbnRFdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudFJ1bigpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudE1lc3NhZ2VTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgY3VycmVudFJ1blN0ZXBTbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90LCBcImZcIik7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsUnVuU3RlcHMoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpKTtcbiAgICB9XG4gICAgYXN5bmMgZmluYWxNZXNzYWdlcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLCBcImZcIikpO1xuICAgIH1cbiAgICBhc3luYyBmaW5hbFJ1bigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBcImZcIikpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignRmluYWwgcnVuIHdhcyBub3QgcmVjZWl2ZWQuJyk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIFwiZlwiKTtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbSh0aHJlYWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aHJlYWQuY3JlYXRlQW5kUnVuKGJvZHksIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkUnVuKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQXNzaXN0YW50U3RyZWFtKHJ1biwgdGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0geyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBydW4uY3JlYXRlKHRocmVhZElkLCBib2R5LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFJ1bihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICB9XG4gICAgc3RhdGljIGFjY3VtdWxhdGVEZWx0YShhY2MsIGRlbHRhKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgZGVsdGFWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGVsdGEpKSB7XG4gICAgICAgICAgICBpZiAoIWFjYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFjY1ZhbHVlID0gYWNjW2tleV07XG4gICAgICAgICAgICBpZiAoYWNjVmFsdWUgPT09IG51bGwgfHwgYWNjVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIGRvbid0IGFjY3VtdWxhdGUgdGhlc2Ugc3BlY2lhbCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnaW5kZXgnIHx8IGtleSA9PT0gJ3R5cGUnKSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHlwZS1zcGVjaWZpYyBhY2N1bXVsYXRpb24gbG9naWNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlICs9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWNjVmFsdWUgPT09ICdudW1iZXInICYmIHR5cGVvZiBkZWx0YVZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlICs9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChDb3JlLmlzT2JqKGFjY1ZhbHVlKSAmJiBDb3JlLmlzT2JqKGRlbHRhVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgYWNjVmFsdWUgPSB0aGlzLmFjY3VtdWxhdGVEZWx0YShhY2NWYWx1ZSwgZGVsdGFWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFjY1ZhbHVlKSAmJiBBcnJheS5pc0FycmF5KGRlbHRhVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFjY1ZhbHVlLmV2ZXJ5KCh4KSA9PiB0eXBlb2YgeCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHggPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgICAgICAgICBhY2NWYWx1ZS5wdXNoKC4uLmRlbHRhVmFsdWUpOyAvLyBVc2Ugc3ByZWFkIHN5bnRheCBmb3IgZWZmaWNpZW50IGFkZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlbHRhRW50cnkgb2YgZGVsdGFWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUNvcmUuaXNPYmooZGVsdGFFbnRyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXJyYXkgZGVsdGEgZW50cnkgdG8gYmUgYW4gb2JqZWN0IGJ1dCBnb3Q6ICR7ZGVsdGFFbnRyeX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGRlbHRhRW50cnlbJ2luZGV4J107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSB0byBoYXZlIGFuIGBpbmRleGAgcHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSBcXGBpbmRleFxcYCBwcm9wZXJ0eSB0byBiZSBhIG51bWJlciBidXQgZ290ICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjRW50cnkgPSBhY2NWYWx1ZVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NWYWx1ZS5wdXNoKGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjVmFsdWVbaW5kZXhdID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjRW50cnksIGRlbHRhRW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFVuaGFuZGxlZCByZWNvcmQgdHlwZTogJHtrZXl9LCBkZWx0YVZhbHVlOiAke2RlbHRhVmFsdWV9LCBhY2NWYWx1ZTogJHthY2NWYWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjY1trZXldID0gYWNjVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgX2FkZFJ1bihydW4pIHtcbiAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICB9XG4gICAgYXN5bmMgX3RocmVhZEFzc2lzdGFudFN0cmVhbShwYXJhbXMsIHRocmVhZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKHRocmVhZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1bkFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVBc3Npc3RhbnRTdHJlYW0ocnVucywgdGhyZWFkSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5Ub29sQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5JZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHJ1bnMsIHRocmVhZElkLCBydW5JZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG59XG5fQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudChldmVudCkge1xuICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICByZXR1cm47XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCwgZXZlbnQsIFwiZlwiKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVFdmVudCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQuY3JlYXRlZCc6XG4gICAgICAgICAgICAvL05vIGFjdGlvbiBvbiB0aGlzIGV2ZW50LlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY3JlYXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucXVldWVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmluY29tcGxldGUnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGluZyc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1bikuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZXhwaXJlZCc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW5TdGVwKS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZSkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgLy9UaGlzIGlzIGluY2x1ZGVkIGZvciBjb21wbGV0ZW5lc3MsIGJ1dCBlcnJvcnMgYXJlIHByb2Nlc3NlZCBpbiB0aGUgU1NFIGV2ZW50IHByb2Nlc3Npbmcgc28gdGhpcyBzaG91bGQgbm90IG9jY3VyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY291bnRlcmVkIGFuIGVycm9yIGV2ZW50IGluIGV2ZW50IHByb2Nlc3NpbmcgLSBlcnJvcnMgc2hvdWxkIGJlIHByb2Nlc3NlZCBlYXJsaWVyJyk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBhc3NlcnROZXZlcihldmVudCk7XG4gICAgfVxufSwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgfVxuICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBcImZcIikpXG4gICAgICAgIHRocm93IEVycm9yKCdGaW5hbCBydW4gaGFzIG5vdCBiZWVuIHJlY2VpdmVkJyk7XG4gICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVNZXNzYWdlKGV2ZW50KSB7XG4gICAgY29uc3QgW2FjY3VtdWxhdGVkTWVzc2FnZSwgbmV3Q29udGVudF0gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSkuY2FsbCh0aGlzLCBldmVudCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBhY2N1bXVsYXRlZE1lc3NhZ2UsIFwiZlwiKTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90cywgXCJmXCIpW2FjY3VtdWxhdGVkTWVzc2FnZS5pZF0gPSBhY2N1bXVsYXRlZE1lc3NhZ2U7XG4gICAgZm9yIChjb25zdCBjb250ZW50IG9mIG5ld0NvbnRlbnQpIHtcbiAgICAgICAgY29uc3Qgc25hcHNob3RDb250ZW50ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgIGlmIChzbmFwc2hvdENvbnRlbnQ/LnR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0Q3JlYXRlZCcsIHNuYXBzaG90Q29udGVudC50ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZUNyZWF0ZWQnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZURlbHRhJywgZXZlbnQuZGF0YS5kZWx0YSwgYWNjdW11bGF0ZWRNZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2YgZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgaXQgaXMgdGV4dCBkZWx0YSwgZW1pdCBhIHRleHQgZGVsdGEgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PSAndGV4dCcgJiYgY29udGVudC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dERlbHRhID0gY29udGVudC50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNuYXBzaG90ID0gYWNjdW11bGF0ZWRNZXNzYWdlLmNvbnRlbnRbY29udGVudC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc25hcHNob3QgJiYgc25hcHNob3QudHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RGVsdGEnLCB0ZXh0RGVsdGEsIHNuYXBzaG90LnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBzbmFwc2hvdCBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZXh0IGRlbHRhIGlzIG5vdCB0ZXh0IG9yIG1pc3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5pbmRleCAhPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnRJbmRleCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NlZSBpZiB3ZSBoYXZlIGluIHByb2dyZXNzIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3RleHREb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikudGV4dCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbWFnZV9maWxlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIFwiZlwiKS5pbWFnZV9maWxlLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIGNvbnRlbnQuaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdLCBcImZcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluY29tcGxldGUnOlxuICAgICAgICAgICAgLy9XZSBlbWl0IHRoZSBsYXRlc3QgY29udGVudCB3ZSB3ZXJlIHdvcmtpbmcgb24gb24gY29tcGxldGlvbiAoaW5jbHVkaW5nIGluY29tcGxldGUpXG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvbnRlbnQgPSBldmVudC5kYXRhLmNvbnRlbnRbX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKV07XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudENvbnRlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2VfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnaW1hZ2VGaWxlRG9uZScsIGN1cnJlbnRDb250ZW50LmltYWdlX2ZpbGUsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIGN1cnJlbnRDb250ZW50LnRleHQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnbWVzc2FnZURvbmUnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcChldmVudCkge1xuICAgIGNvbnN0IGFjY3VtdWxhdGVkUnVuU3RlcCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVSdW5TdGVwKS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCwgYWNjdW11bGF0ZWRSdW5TdGVwLCBcImZcIik7XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY3JlYXRlZCc6XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwQ3JlYXRlZCcsIGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV2ZW50LmRhdGEuZGVsdGE7XG4gICAgICAgICAgICBpZiAoZGVsdGEuc3RlcF9kZXRhaWxzICYmXG4gICAgICAgICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnICYmXG4gICAgICAgICAgICAgICAgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMgJiZcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBkZWx0YS5zdGVwX2RldGFpbHMudG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vbENhbGwuaW5kZXggPT0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbEluZGV4LCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRGVsdGEnLCB0b29sQ2FsbCwgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzW3Rvb2xDYWxsLmluZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxEb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCwgdG9vbENhbGwuaW5kZXgsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIGFjY3VtdWxhdGVkUnVuU3RlcC5zdGVwX2RldGFpbHMudG9vbF9jYWxsc1t0b29sQ2FsbC5pbmRleF0sIFwiZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxDcmVhdGVkJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEZWx0YScsIGV2ZW50LmRhdGEuZGVsdGEsIGFjY3VtdWxhdGVkUnVuU3RlcCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IGV2ZW50LmRhdGEuc3RlcF9kZXRhaWxzO1xuICAgICAgICAgICAgaWYgKGRldGFpbHMudHlwZSA9PSAndG9vbF9jYWxscycpIHtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIHVuZGVmaW5lZCwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3J1blN0ZXBEb25lJywgZXZlbnQuZGF0YSwgYWNjdW11bGF0ZWRSdW5TdGVwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVFdmVudCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZXZlbnRzLCBcImZcIikucHVzaChldmVudCk7XG4gICAgdGhpcy5fZW1pdCgnZXZlbnQnLCBldmVudCk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVSdW5TdGVwID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcChldmVudCkge1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgUnVuU3RlcERlbHRhIGJlZm9yZSBjcmVhdGlvbiBvZiBhIHNuYXBzaG90Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YS5kZWx0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY3VtdWxhdGVkID0gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShzbmFwc2hvdCwgZGF0YS5kZWx0YSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSA9IGFjY3VtdWxhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdKVxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNuYXBzaG90IGF2YWlsYWJsZScpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UoZXZlbnQsIHNuYXBzaG90KSB7XG4gICAgbGV0IG5ld0NvbnRlbnQgPSBbXTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICAgICAgLy9PbiBjcmVhdGlvbiB0aGUgc25hcHNob3QgaXMganVzdCB0aGUgaW5pdGlhbCBtZXNzYWdlXG4gICAgICAgICAgICByZXR1cm4gW2V2ZW50LmRhdGEsIG5ld0NvbnRlbnRdO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgZGVsdGEgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCAodGhlcmUgc2hvdWxkIGJlIG9uZSBmcm9tIG1lc3NhZ2UgY3JlYXRpb24pJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAvL0lmIHRoaXMgZGVsdGEgZG9lcyBub3QgaGF2ZSBjb250ZW50LCBub3RoaW5nIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnRFbGVtZW50IG9mIGRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuaW5kZXggaW4gc25hcHNob3QuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb250ZW50ID0gc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50KS5jYWxsKHRoaXMsIGNvbnRlbnRFbGVtZW50LCBjdXJyZW50Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IGNvbnRlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50LnB1c2goY29udGVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc6XG4gICAgICAgICAgICAvL05vIGNoYW5nZXMgb24gb3RoZXIgdGhyZWFkIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUmVjZWl2ZWQgdGhyZWFkIG1lc3NhZ2UgZXZlbnQgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCcpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignVHJpZWQgdG8gYWNjdW11bGF0ZSBhIG5vbi1tZXNzYWdlIGV2ZW50Jyk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudChjb250ZW50RWxlbWVudCwgY3VycmVudENvbnRlbnQpIHtcbiAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmFjY3VtdWxhdGVEZWx0YShjdXJyZW50Q29udGVudCwgY29udGVudEVsZW1lbnQpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4gPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1bihldmVudCkge1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3QsIGV2ZW50LmRhdGEsIFwiZlwiKTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY3JlYXRlZCc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5xdWV1ZWQnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4ucmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmZhaWxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgZXZlbnQuZGF0YSwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jYW5jZWxsaW5nJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn07XG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3Npc3RhbnRTdHJlYW0ubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInZhbHVlIiwiZ2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInNldCIsIl9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzIiwiX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMiLCJfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4iLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsIiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCJDb3JlIiwiU3RyZWFtIiwiQVBJVXNlckFib3J0RXJyb3IiLCJPcGVuQUlFcnJvciIsIkV2ZW50U3RyZWFtIiwiQXNzaXN0YW50U3RyZWFtIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJhZGQiLCJXZWFrTWFwIiwiV2Vha1NldCIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJwdXNoUXVldWUiLCJyZWFkUXVldWUiLCJkb25lIiwib24iLCJldmVudCIsInJlYWRlciIsInNoaWZ0IiwicmVzb2x2ZSIsInB1c2giLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJlcnIiLCJyZWplY3QiLCJuZXh0IiwiUHJvbWlzZSIsInRoZW4iLCJjaHVuayIsInJldHVybiIsImFib3J0IiwiZnJvbVJlYWRhYmxlU3RyZWFtIiwic3RyZWFtIiwicnVubmVyIiwiX3J1biIsIl9mcm9tUmVhZGFibGVTdHJlYW0iLCJyZWFkYWJsZVN0cmVhbSIsIm9wdGlvbnMiLCJzaWduYWwiLCJhYm9ydGVkIiwiY29udHJvbGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY29ubmVjdGVkIiwiX2FkZFJ1biIsInRvUmVhZGFibGVTdHJlYW0iLCJiaW5kIiwiY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbSIsInRocmVhZElkIiwicnVuSWQiLCJydW5zIiwicGFyYW1zIiwiX3J1blRvb2xBc3Npc3RhbnRTdHJlYW0iLCJoZWFkZXJzIiwiX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0iLCJydW4iLCJib2R5Iiwic3VibWl0VG9vbE91dHB1dHMiLCJjcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0iLCJ0aHJlYWQiLCJfdGhyZWFkQXNzaXN0YW50U3RyZWFtIiwiY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiX3J1bkFzc2lzdGFudFN0cmVhbSIsImN1cnJlbnRFdmVudCIsImN1cnJlbnRSdW4iLCJjdXJyZW50TWVzc2FnZVNuYXBzaG90IiwiY3VycmVudFJ1blN0ZXBTbmFwc2hvdCIsImZpbmFsUnVuU3RlcHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaW5hbE1lc3NhZ2VzIiwiZmluYWxSdW4iLCJFcnJvciIsIl9jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0iLCJjcmVhdGVBbmRSdW4iLCJfY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiY3JlYXRlIiwiYWNjdW11bGF0ZURlbHRhIiwiYWNjIiwiZGVsdGEiLCJrZXkiLCJkZWx0YVZhbHVlIiwiZW50cmllcyIsImhhc093blByb3BlcnR5IiwiYWNjVmFsdWUiLCJpc09iaiIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwieCIsImRlbHRhRW50cnkiLCJpbmRleCIsImNvbnNvbGUiLCJlcnJvciIsImFjY0VudHJ5IiwiZW5kZWQiLCJhc3NlcnROZXZlciIsImFjY3VtdWxhdGVkTWVzc2FnZSIsIm5ld0NvbnRlbnQiLCJpZCIsImNvbnRlbnQiLCJzbmFwc2hvdENvbnRlbnQiLCJ0eXBlIiwiX2VtaXQiLCJ0ZXh0IiwiZGF0YSIsInRleHREZWx0YSIsInNuYXBzaG90IiwiaW1hZ2VfZmlsZSIsImN1cnJlbnRDb250ZW50IiwiYWNjdW11bGF0ZWRSdW5TdGVwIiwic3RlcF9kZXRhaWxzIiwidG9vbF9jYWxscyIsInRvb2xDYWxsIiwiZGV0YWlscyIsImFjY3VtdWxhdGVkIiwiY29udGVudEVsZW1lbnQiLCJfeCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AssistantStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionRunner.mjs":
/*!******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionRunner.mjs ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionRunner: () => (/* binding */ ChatCompletionRunner)\n/* harmony export */ });\n/* harmony import */ var _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractChatCompletionRunner.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AbstractChatCompletionRunner.mjs\");\n/* harmony import */ var _chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chatCompletionUtils.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/chatCompletionUtils.mjs\");\n\n\nclass ChatCompletionRunner extends _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractChatCompletionRunner {\n    /** @deprecated - please use `runTools` instead. */ static runFunctions(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runFunctions\"\n            }\n        };\n        runner._run(()=>runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runTools\"\n            }\n        };\n        runner._run(()=>runner._runTools(client, params, opts));\n        return runner;\n    }\n    _addMessage(message, emit = true) {\n        super._addMessage(message, emit);\n        if ((0,_chatCompletionUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.isAssistantMessage)(message) && message.content) {\n            this._emit(\"content\", message.content);\n        }\n    }\n} //# sourceMappingURL=ChatCompletionRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUY7QUFDcEI7QUFDeEQsTUFBTUUsNkJBQTZCRiwyRkFBNEJBO0lBQ2xFLGlEQUFpRCxHQUNqRCxPQUFPRyxhQUFhQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQ3pDLE1BQU1DLFNBQVMsSUFBSUw7UUFDbkIsTUFBTU0sT0FBTztZQUNULEdBQUdGLE9BQU87WUFDVkcsU0FBUztnQkFBRSxHQUFHSCxTQUFTRyxPQUFPO2dCQUFFLDZCQUE2QjtZQUFlO1FBQ2hGO1FBQ0FGLE9BQU9HLElBQUksQ0FBQyxJQUFNSCxPQUFPSSxhQUFhLENBQUNQLFFBQVFDLFFBQVFHO1FBQ3ZELE9BQU9EO0lBQ1g7SUFDQSxPQUFPSyxTQUFTUixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQ3JDLE1BQU1DLFNBQVMsSUFBSUw7UUFDbkIsTUFBTU0sT0FBTztZQUNULEdBQUdGLE9BQU87WUFDVkcsU0FBUztnQkFBRSxHQUFHSCxTQUFTRyxPQUFPO2dCQUFFLDZCQUE2QjtZQUFXO1FBQzVFO1FBQ0FGLE9BQU9HLElBQUksQ0FBQyxJQUFNSCxPQUFPTSxTQUFTLENBQUNULFFBQVFDLFFBQVFHO1FBQ25ELE9BQU9EO0lBQ1g7SUFDQU8sWUFBWUMsT0FBTyxFQUFFQyxPQUFPLElBQUksRUFBRTtRQUM5QixLQUFLLENBQUNGLFlBQVlDLFNBQVNDO1FBQzNCLElBQUlmLDRFQUFrQkEsQ0FBQ2MsWUFBWUEsUUFBUUUsT0FBTyxFQUFFO1lBQ2hELElBQUksQ0FBQ0MsS0FBSyxDQUFDLFdBQVdILFFBQVFFLE9BQU87UUFDekM7SUFDSjtBQUNKLEVBQ0EsaURBQWlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanM/ZGM1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLCB9IGZyb20gXCIuL0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIubWpzXCI7XG5pbXBvcnQgeyBpc0Fzc2lzdGFudE1lc3NhZ2UgfSBmcm9tIFwiLi9jaGF0Q29tcGxldGlvblV0aWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uUnVubmVyIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciB7XG4gICAgLyoqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBgcnVuVG9vbHNgIGluc3RlYWQuICovXG4gICAgc3RhdGljIHJ1bkZ1bmN0aW9ucyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXIoKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIHJ1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblJ1bm5lcigpO1xuICAgICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAncnVuVG9vbHMnIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbHMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCA9IHRydWUpIHtcbiAgICAgICAgc3VwZXIuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZW1pdCk7XG4gICAgICAgIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgbWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYXRDb21wbGV0aW9uUnVubmVyLm1qcy5tYXAiXSwibmFtZXMiOlsiQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciIsImlzQXNzaXN0YW50TWVzc2FnZSIsIkNoYXRDb21wbGV0aW9uUnVubmVyIiwicnVuRnVuY3Rpb25zIiwiY2xpZW50IiwicGFyYW1zIiwib3B0aW9ucyIsInJ1bm5lciIsIm9wdHMiLCJoZWFkZXJzIiwiX3J1biIsIl9ydW5GdW5jdGlvbnMiLCJydW5Ub29scyIsIl9ydW5Ub29scyIsIl9hZGRNZXNzYWdlIiwibWVzc2FnZSIsImVtaXQiLCJjb250ZW50IiwiX2VtaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStream.mjs":
/*!******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStream.mjs ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStream: () => (/* binding */ ChatCompletionStream)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractChatCompletionRunner.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AbstractChatCompletionRunner.mjs\");\n/* harmony import */ var _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../streaming.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs\");\n/* harmony import */ var _lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/parser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs\");\n/* harmony import */ var _vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../_vendor/partial-json-parser/parser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_vendor/partial-json-parser/parser.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;\n\n\n\n\n\nclass ChatCompletionStream extends _AbstractChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractChatCompletionRunner {\n    constructor(params){\n        super();\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_params.set(this, void 0);\n        _ChatCompletionStream_choiceEventStates.set(this, void 0);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n        __classPrivateFieldSet(this, _ChatCompletionStream_params, params, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n    }\n    get currentChatCompletionSnapshot() {\n        return __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */ static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream(null);\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(client, params, options) {\n        const runner = new ChatCompletionStream(params);\n        runner._run(()=>runner._runChatCompletion(client, {\n                ...params,\n                stream: true\n            }, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    async _createChatCompletion(client, params, options) {\n        super._createChatCompletion;\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await client.chat.completions.create({\n            ...params,\n            stream: true\n        }, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const chunk of stream){\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__.Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream){\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_params = new WeakMap(), _ChatCompletionStream_choiceEventStates = new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended) return;\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState(choice) {\n        let state = __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index];\n        if (state) {\n            return state;\n        }\n        state = {\n            content_done: false,\n            refusal_done: false,\n            logprobs_content_done: false,\n            logprobs_refusal_done: false,\n            done_tool_calls: new Set(),\n            current_tool_call_index: null\n        };\n        __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index] = state;\n        return state;\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended) return;\n        const completion = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit(\"chunk\", chunk, completion);\n        for (const choice of chunk.choices){\n            const choiceSnapshot = completion.choices[choice.index];\n            if (choice.delta.content != null && choiceSnapshot.message?.role === \"assistant\" && choiceSnapshot.message?.content) {\n                this._emit(\"content\", choice.delta.content, choiceSnapshot.message.content);\n                this._emit(\"content.delta\", {\n                    delta: choice.delta.content,\n                    snapshot: choiceSnapshot.message.content,\n                    parsed: choiceSnapshot.message.parsed\n                });\n            }\n            if (choice.delta.refusal != null && choiceSnapshot.message?.role === \"assistant\" && choiceSnapshot.message?.refusal) {\n                this._emit(\"refusal.delta\", {\n                    delta: choice.delta.refusal,\n                    snapshot: choiceSnapshot.message.refusal\n                });\n            }\n            if (choice.logprobs?.content != null && choiceSnapshot.message?.role === \"assistant\") {\n                this._emit(\"logprobs.content.delta\", {\n                    content: choice.logprobs?.content,\n                    snapshot: choiceSnapshot.logprobs?.content ?? []\n                });\n            }\n            if (choice.logprobs?.refusal != null && choiceSnapshot.message?.role === \"assistant\") {\n                this._emit(\"logprobs.refusal.delta\", {\n                    refusal: choice.logprobs?.refusal,\n                    snapshot: choiceSnapshot.logprobs?.refusal ?? []\n                });\n            }\n            const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n            if (choiceSnapshot.finish_reason) {\n                __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                if (state.current_tool_call_index != null) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                }\n            }\n            for (const toolCall of choice.delta.tool_calls ?? []){\n                if (state.current_tool_call_index !== toolCall.index) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                    // new tool call started, the previous one is done\n                    if (state.current_tool_call_index != null) {\n                        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                    }\n                }\n                state.current_tool_call_index = toolCall.index;\n            }\n            for (const toolCallDelta of choice.delta.tool_calls ?? []){\n                const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallDelta.index];\n                if (!toolCallSnapshot?.type) {\n                    continue;\n                }\n                if (toolCallSnapshot?.type === \"function\") {\n                    this._emit(\"tool_calls.function.arguments.delta\", {\n                        name: toolCallSnapshot.function?.name,\n                        index: toolCallDelta.index,\n                        arguments: toolCallSnapshot.function.arguments,\n                        parsed_arguments: toolCallSnapshot.function.parsed_arguments,\n                        arguments_delta: toolCallDelta.function?.arguments ?? \"\"\n                    });\n                } else {\n                    assertNever(toolCallSnapshot?.type);\n                }\n            }\n        }\n    }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent(choiceSnapshot, toolCallIndex) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (state.done_tool_calls.has(toolCallIndex)) {\n            // we've already fired the done event\n            return;\n        }\n        const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallIndex];\n        if (!toolCallSnapshot) {\n            throw new Error(\"no tool call snapshot\");\n        }\n        if (!toolCallSnapshot.type) {\n            throw new Error(\"tool call snapshot missing `type`\");\n        }\n        if (toolCallSnapshot.type === \"function\") {\n            const inputTool = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.tools?.find((tool)=>tool.type === \"function\" && tool.function.name === toolCallSnapshot.function.name);\n            this._emit(\"tool_calls.function.arguments.done\", {\n                name: toolCallSnapshot.function.name,\n                index: toolCallIndex,\n                arguments: toolCallSnapshot.function.arguments,\n                parsed_arguments: (0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableTool)(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments) : inputTool?.function.strict ? JSON.parse(toolCallSnapshot.function.arguments) : null\n            });\n        } else {\n            assertNever(toolCallSnapshot.type);\n        }\n    }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents(choiceSnapshot) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (choiceSnapshot.message.content && !state.content_done) {\n            state.content_done = true;\n            const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);\n            this._emit(\"content.done\", {\n                content: choiceSnapshot.message.content,\n                parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null\n            });\n        }\n        if (choiceSnapshot.message.refusal && !state.refusal_done) {\n            state.refusal_done = true;\n            this._emit(\"refusal.done\", {\n                refusal: choiceSnapshot.message.refusal\n            });\n        }\n        if (choiceSnapshot.logprobs?.content && !state.logprobs_content_done) {\n            state.logprobs_content_done = true;\n            this._emit(\"logprobs.content.done\", {\n                content: choiceSnapshot.logprobs.content\n            });\n        }\n        if (choiceSnapshot.logprobs?.refusal && !state.logprobs_refusal_done) {\n            state.logprobs_refusal_done = true;\n            this._emit(\"logprobs.refusal.done\", {\n                refusal: choiceSnapshot.logprobs.refusal\n            });\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`request ended without sending any chunks`);\n        }\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n        return finalizeChatCompletion(snapshot, __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"));\n    }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat() {\n        const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.response_format;\n        if ((0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.isAutoParsableResponseFormat)(responseFormat)) {\n            return responseFormat;\n        }\n        return null;\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b, _c, _d;\n        let snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: []\n            }, \"f\");\n        } else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices){\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                choice = snapshot.choices[index] = {\n                    finish_reason,\n                    index,\n                    message: {},\n                    logprobs,\n                    ...other\n                };\n            }\n            if (logprobs) {\n                if (!choice.logprobs) {\n                    choice.logprobs = Object.assign({}, logprobs);\n                } else {\n                    const { content, refusal, ...rest } = logprobs;\n                    assertIsEmpty(rest);\n                    Object.assign(choice.logprobs, rest);\n                    if (content) {\n                        (_a = choice.logprobs).content ?? (_a.content = []);\n                        choice.logprobs.content.push(...content);\n                    }\n                    if (refusal) {\n                        (_b = choice.logprobs).refusal ?? (_b.refusal = []);\n                        choice.logprobs.refusal.push(...refusal);\n                    }\n                }\n            }\n            if (finish_reason) {\n                choice.finish_reason = finish_reason;\n                if (__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\") && (0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.hasAutoParseableInput)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"))) {\n                    if (finish_reason === \"length\") {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.LengthFinishReasonError();\n                    }\n                    if (finish_reason === \"content_filter\") {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.ContentFilterFinishReasonError();\n                    }\n                }\n            }\n            Object.assign(choice, other);\n            if (!delta) continue; // Shouldn't happen; just in case.\n            const { content, refusal, function_call, role, tool_calls, ...rest } = delta;\n            assertIsEmpty(rest);\n            Object.assign(choice.message, rest);\n            if (refusal) {\n                choice.message.refusal = (choice.message.refusal || \"\") + refusal;\n            }\n            if (role) choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                } else {\n                    if (function_call.name) choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_c = choice.message.function_call).arguments ?? (_c.arguments = \"\");\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (content) {\n                choice.message.content = (choice.message.content || \"\") + content;\n                if (!choice.message.refusal && __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {\n                    choice.message.parsed = (0,_vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__.partialParse)(choice.message.content);\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls) choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn, ...rest } of tool_calls){\n                    const tool_call = (_d = choice.message.tool_calls)[index] ?? (_d[index] = {});\n                    Object.assign(tool_call, rest);\n                    if (id) tool_call.id = id;\n                    if (type) tool_call.type = type;\n                    if (fn) tool_call.function ?? (tool_call.function = {\n                        name: fn.name ?? \"\",\n                        arguments: \"\"\n                    });\n                    if (fn?.name) tool_call.function.name = fn.name;\n                    if (fn?.arguments) {\n                        tool_call.function.arguments += fn.arguments;\n                        if ((0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.shouldParseToolCall)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"), tool_call)) {\n                            tool_call.function.parsed_arguments = (0,_vendor_partial_json_parser_parser_mjs__WEBPACK_IMPORTED_MODULE_4__.partialParse)(tool_call.function.arguments);\n                        }\n                    }\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on(\"chunk\", (chunk)=>{\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(chunk);\n            } else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on(\"end\", ()=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"abort\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"error\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async ()=>{\n                if (!pushQueue.length) {\n                    if (done) {\n                        return {\n                            value: undefined,\n                            done: true\n                        };\n                    }\n                    return new Promise((resolve, reject)=>readQueue.push({\n                            resolve,\n                            reject\n                        })).then((chunk)=>chunk ? {\n                            value: chunk,\n                            done: false\n                        } : {\n                            value: undefined,\n                            done: true\n                        });\n                }\n                const chunk = pushQueue.shift();\n                return {\n                    value: chunk,\n                    done: false\n                };\n            },\n            return: async ()=>{\n                this.abort();\n                return {\n                    value: undefined,\n                    done: true\n                };\n            }\n        };\n    }\n    toReadableStream() {\n        const stream = new _streaming_mjs__WEBPACK_IMPORTED_MODULE_2__.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nfunction finalizeChatCompletion(snapshot, params) {\n    const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;\n    const completion = {\n        ...rest,\n        id,\n        choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest })=>{\n            if (!finish_reason) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing finish_reason for choice ${index}`);\n            }\n            const { content = null, function_call, tool_calls, ...messageRest } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing role for choice ${index}`);\n            }\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null) {\n                    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing function_call.arguments for choice ${index}`);\n                }\n                if (!name) {\n                    throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing function_call.name for choice ${index}`);\n                }\n                return {\n                    ...choiceRest,\n                    message: {\n                        content,\n                        function_call: {\n                            arguments: args,\n                            name\n                        },\n                        role,\n                        refusal: message.refusal ?? null\n                    },\n                    finish_reason,\n                    index,\n                    logprobs\n                };\n            }\n            if (tool_calls) {\n                return {\n                    ...choiceRest,\n                    index,\n                    finish_reason,\n                    logprobs,\n                    message: {\n                        ...messageRest,\n                        role,\n                        content,\n                        refusal: message.refusal ?? null,\n                        tool_calls: tool_calls.map((tool_call, i)=>{\n                            const { function: fn, type, id, ...toolRest } = tool_call;\n                            const { arguments: args, name, ...fnRest } = fn || {};\n                            if (id == null) {\n                                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            }\n                            if (type == null) {\n                                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            }\n                            if (name == null) {\n                                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            }\n                            if (args == null) {\n                                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            }\n                            return {\n                                ...toolRest,\n                                id,\n                                type,\n                                function: {\n                                    ...fnRest,\n                                    name,\n                                    arguments: args\n                                }\n                            };\n                        })\n                    }\n                };\n            }\n            return {\n                ...choiceRest,\n                message: {\n                    ...messageRest,\n                    content,\n                    role,\n                    refusal: message.refusal ?? null\n                },\n                finish_reason,\n                index,\n                logprobs\n            };\n        }),\n        created,\n        model,\n        object: \"chat.completion\",\n        ...system_fingerprint ? {\n            system_fingerprint\n        } : {}\n    };\n    return (0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_3__.maybeParseChatCompletion)(completion, params);\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n/**\n * Ensures the given argument is an empty object, useful for\n * asserting that all known properties on an object have been\n * destructured.\n */ function assertIsEmpty(obj) {\n    return;\n}\nfunction assertNever(_x) {} //# sourceMappingURL=ChatCompletionStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDUCxVQUFVRSxTQUFTRSxJQUFJQSxFQUFFRixLQUFLLEdBQUdBLFFBQVFELE1BQU1PLEdBQUcsQ0FBQ1IsVUFBVUUsUUFBU0E7QUFDeEc7QUFDQSxJQUFJTyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNQLFlBQVlJLElBQUlBLEVBQUVGLEtBQUssR0FBR0QsTUFBTVMsR0FBRyxDQUFDVjtBQUN4RjtBQUNBLElB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Z0JBQUs7Z0JBQzNFRTtnQkFDQXBCO2dCQUNBbUI7WUFDSjtRQUNKO1FBQ0F5RDtRQUNBQztRQUNBVSxRQUFRO1FBQ1IsR0FBSVQscUJBQXFCO1lBQUVBO1FBQW1CLElBQUksQ0FBQyxDQUFDO0lBQ3hEO0lBQ0EsT0FBT3BILHlFQUF3QkEsQ0FBQzhDLFlBQVl6QztBQUNoRDtBQUNBLFNBQVN1SCxJQUFJRSxDQUFDO0lBQ1YsT0FBT2hELEtBQUtpRCxTQUFTLENBQUNEO0FBQzFCO0FBQ0E7Ozs7Q0FJQyxHQUNELFNBQVNuQyxjQUFjcUMsR0FBRztJQUN0QjtBQUNKO0FBQ0EsU0FBUzNELFlBQVk0RCxFQUFFLEdBQUksRUFDM0IsaURBQWlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanM/MTQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmssIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IsIEFQSVVzZXJBYm9ydEVycm9yLCBMZW5ndGhGaW5pc2hSZWFzb25FcnJvciwgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yLCB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIsIH0gZnJvbSBcIi4vQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lci5tanNcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9zdHJlYW1pbmcubWpzXCI7XG5pbXBvcnQgeyBoYXNBdXRvUGFyc2VhYmxlSW5wdXQsIGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQsIGlzQXV0b1BhcnNhYmxlVG9vbCwgbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uLCBzaG91bGRQYXJzZVRvb2xDYWxsLCB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuaW1wb3J0IHsgcGFydGlhbFBhcnNlIH0gZnJvbSBcIi4uL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdHJlYW0gZXh0ZW5kcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIHBhcmFtcywgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgW10sIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZW5kZWQgZm9yIHVzZSBvbiB0aGUgZnJvbnRlbmQsIGNvbnN1bWluZyBhIHN0cmVhbSBwcm9kdWNlZCB3aXRoXG4gICAgICogYC50b1JlYWRhYmxlU3RyZWFtKClgIG9uIHRoZSBiYWNrZW5kLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IG1lc3NhZ2VzIHNlbnQgdG8gdGhlIG1vZGVsIGRvIG5vdCBhcHBlYXIgaW4gYC5vbignbWVzc2FnZScpYFxuICAgICAqIGluIHRoaXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW0obnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtKHBhcmFtcyk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0gfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIuX2NyZWF0ZUNoYXRDb21wbGV0aW9uO1xuICAgICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zPy5zaWduYWw7XG4gICAgICAgIGlmIChzaWduYWwpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHRoaXMuY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBjbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmspLmNhbGwodGhpcywgY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIF9mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIGxldCBjaGF0SWQ7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBpZiAoY2hhdElkICYmIGNoYXRJZCAhPT0gY2h1bmsuaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5ldyByZXF1ZXN0IGhhcyBiZWVuIG1hZGUuXG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKS5jYWxsKHRoaXMsIGNodW5rKTtcbiAgICAgICAgICAgIGNoYXRJZCA9IGNodW5rLmlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIFsoX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcyA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0ID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlKGNob2ljZSkge1xuICAgICAgICBsZXQgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgXCJmXCIpW2Nob2ljZS5pbmRleF07XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0ge1xuICAgICAgICAgICAgY29udGVudF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHJlZnVzYWxfZG9uZTogZmFsc2UsXG4gICAgICAgICAgICBsb2dwcm9ic19jb250ZW50X2RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgbG9ncHJvYnNfcmVmdXNhbF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGRvbmVfdG9vbF9jYWxsczogbmV3IFNldCgpLFxuICAgICAgICAgICAgY3VycmVudF90b29sX2NhbGxfaW5kZXg6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBcImZcIilbY2hvaWNlLmluZGV4XSA9IHN0YXRlO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKGNodW5rKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbikuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2NodW5rJywgY2h1bmssIGNvbXBsZXRpb24pO1xuICAgICAgICBmb3IgKGNvbnN0IGNob2ljZSBvZiBjaHVuay5jaG9pY2VzKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VTbmFwc2hvdCA9IGNvbXBsZXRpb24uY2hvaWNlc1tjaG9pY2UuaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5jb250ZW50ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdjb250ZW50JywgY2hvaWNlLmRlbHRhLmNvbnRlbnQsIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGNob2ljZS5kZWx0YS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UucGFyc2VkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNob2ljZS5kZWx0YS5yZWZ1c2FsICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdyZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBkZWx0YTogY2hvaWNlLmRlbHRhLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50ICE9IG51bGwgJiYgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5jb250ZW50LmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2UubG9ncHJvYnM/LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaG9pY2UubG9ncHJvYnM/LnJlZnVzYWwgIT0gbnVsbCAmJiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2xvZ3Byb2JzLnJlZnVzYWwuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IGNob2ljZS5sb2dwcm9icz8ucmVmdXNhbCxcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5yZWZ1c2FsID8/IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgICAgICBpZiAoY2hvaWNlU25hcHNob3QuZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9PSB0b29sQ2FsbC5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzKS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IHRvb2wgY2FsbCBzdGFydGVkLCB0aGUgcHJldmlvdXMgb25lIGlzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QsIHN0YXRlLmN1cnJlbnRfdG9vbF9jYWxsX2luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCA9IHRvb2xDYWxsLmluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbERlbHRhIG9mIGNob2ljZS5kZWx0YS50b29sX2NhbGxzID8/IFtdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsRGVsdGEuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghdG9vbENhbGxTbmFwc2hvdD8udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uPy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsRGVsdGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzX2RlbHRhOiB0b29sQ2FsbERlbHRhLmZ1bmN0aW9uPy5hcmd1bWVudHMgPz8gJycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0TmV2ZXIodG9vbENhbGxTbmFwc2hvdD8udHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQoY2hvaWNlU25hcHNob3QsIHRvb2xDYWxsSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChzdGF0ZS5kb25lX3Rvb2xfY2FsbHMuaGFzKHRvb2xDYWxsSW5kZXgpKSB7XG4gICAgICAgICAgICAvLyB3ZSd2ZSBhbHJlYWR5IGZpcmVkIHRoZSBkb25lIGV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbENhbGxTbmFwc2hvdCA9IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UudG9vbF9jYWxscz8uW3Rvb2xDYWxsSW5kZXhdO1xuICAgICAgICBpZiAoIXRvb2xDYWxsU25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gdG9vbCBjYWxsIHNuYXBzaG90Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90LnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndG9vbCBjYWxsIHNuYXBzaG90IG1pc3NpbmcgYHR5cGVgJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvb2xDYWxsU25hcHNob3QudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRUb29sID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIik/LnRvb2xzPy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5mdW5jdGlvbi5uYW1lID09PSB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbF9jYWxscy5mdW5jdGlvbi5hcmd1bWVudHMuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvb2xDYWxsSW5kZXgsXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnROZXZlcih0b29sQ2FsbFNuYXBzaG90LnR5cGUpO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMoY2hvaWNlU25hcHNob3QpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZSkuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQgJiYgIXN0YXRlLmNvbnRlbnRfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUuY29udGVudF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlRm9ybWF0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQuZG9uZScsIHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgcGFyc2VkOiByZXNwb25zZUZvcm1hdCA/IHJlc3BvbnNlRm9ybWF0LiRwYXJzZVJhdyhjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpIDogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgJiYgIXN0YXRlLnJlZnVzYWxfZG9uZSkge1xuICAgICAgICAgICAgc3RhdGUucmVmdXNhbF9kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3JlZnVzYWwuZG9uZScsIHsgcmVmdXNhbDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8uY29udGVudCAmJiAhc3RhdGUubG9ncHJvYnNfY29udGVudF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMuY29udGVudC5kb25lJywgeyBjb250ZW50OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5jb250ZW50IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8ucmVmdXNhbCAmJiAhc3RhdGUubG9ncHJvYnNfcmVmdXNhbF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5sb2dwcm9ic19yZWZ1c2FsX2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMucmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icy5yZWZ1c2FsIH0pO1xuICAgICAgICB9XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgc3RyZWFtIGhhcyBlbmRlZCwgdGhpcyBzaG91bGRuJ3QgaGFwcGVuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHJlcXVlc3QgZW5kZWQgd2l0aG91dCBzZW5kaW5nIGFueSBjaHVua3NgKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBbXSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gZmluYWxpemVDaGF0Q29tcGxldGlvbihzbmFwc2hvdCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikpO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KCkge1xuICAgICAgICBjb25zdCByZXNwb25zZUZvcm1hdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpPy5yZXNwb25zZV9mb3JtYXQ7XG4gICAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlRm9ybWF0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlRm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24gPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uKGNodW5rKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbGV0IHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIFwiZlwiKTtcbiAgICAgICAgY29uc3QgeyBjaG9pY2VzLCAuLi5yZXN0IH0gPSBjaHVuaztcbiAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwge1xuICAgICAgICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgICAgICAgY2hvaWNlczogW10sXG4gICAgICAgICAgICB9LCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNuYXBzaG90LCByZXN0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHsgZGVsdGEsIGZpbmlzaF9yZWFzb24sIGluZGV4LCBsb2dwcm9icyA9IG51bGwsIC4uLm90aGVyIH0gb2YgY2h1bmsuY2hvaWNlcykge1xuICAgICAgICAgICAgbGV0IGNob2ljZSA9IHNuYXBzaG90LmNob2ljZXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFjaG9pY2UpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UgPSBzbmFwc2hvdC5jaG9pY2VzW2luZGV4XSA9IHsgZmluaXNoX3JlYXNvbiwgaW5kZXgsIG1lc3NhZ2U6IHt9LCBsb2dwcm9icywgLi4ub3RoZXIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2dwcm9icykge1xuICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLmxvZ3Byb2JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icyA9IE9iamVjdC5hc3NpZ24oe30sIGxvZ3Byb2JzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCwgcmVmdXNhbCwgLi4ucmVzdCB9ID0gbG9ncHJvYnM7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLmxvZ3Byb2JzLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGNob2ljZS5sb2dwcm9icykuY29udGVudCA/PyAoX2EuY29udGVudCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5jb250ZW50LnB1c2goLi4uY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGNob2ljZS5sb2dwcm9icykucmVmdXNhbCA/PyAoX2IucmVmdXNhbCA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5sb2dwcm9icy5yZWZ1c2FsLnB1c2goLi4ucmVmdXNhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIGNob2ljZS5maW5pc2hfcmVhc29uID0gZmluaXNoX3JlYXNvbjtcbiAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikgJiYgaGFzQXV0b1BhcnNlYWJsZUlucHV0KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnY29udGVudF9maWx0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZSwgb3RoZXIpO1xuICAgICAgICAgICAgaWYgKCFkZWx0YSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2hvdWxkbid0IGhhcHBlbjsganVzdCBpbiBjYXNlLlxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCBmdW5jdGlvbl9jYWxsLCByb2xlLCB0b29sX2NhbGxzLCAuLi5yZXN0IH0gPSBkZWx0YTtcbiAgICAgICAgICAgIGFzc2VydElzRW1wdHkocmVzdCk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGNob2ljZS5tZXNzYWdlLCByZXN0KTtcbiAgICAgICAgICAgIGlmIChyZWZ1c2FsKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA9IChjaG9pY2UubWVzc2FnZS5yZWZ1c2FsIHx8ICcnKSArIHJlZnVzYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9sZSlcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5yb2xlID0gcm9sZTtcbiAgICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwgPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwubmFtZSA9IGZ1bmN0aW9uX2NhbGwubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSBjaG9pY2UubWVzc2FnZS5mdW5jdGlvbl9jYWxsKS5hcmd1bWVudHMgPz8gKF9jLmFyZ3VtZW50cyA9ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzICs9IGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5jb250ZW50ID0gKGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgfHwgJycpICsgY29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnJlZnVzYWwgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCkuY2FsbCh0aGlzKSkge1xuICAgICAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5wYXJzZWQgPSBwYXJ0aWFsUGFyc2UoY2hvaWNlLm1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpXG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgaW5kZXgsIGlkLCB0eXBlLCBmdW5jdGlvbjogZm4sIC4uLnJlc3QgfSBvZiB0b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xfY2FsbCA9ICgoX2QgPSBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzKVtpbmRleF0gPz8gKF9kW2luZGV4XSA9IHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odG9vbF9jYWxsLCByZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24gPz8gKHRvb2xfY2FsbC5mdW5jdGlvbiA9IHsgbmFtZTogZm4ubmFtZSA/PyAnJywgYXJndW1lbnRzOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZuPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLm5hbWUgPSBmbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4/LmFyZ3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyArPSBmbi5hcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkUGFyc2VUb29sQ2FsbChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIFwiZlwiKSwgdG9vbF9jYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbi5wYXJzZWRfYXJndW1lbnRzID0gcGFydGlhbFBhcnNlKHRvb2xfY2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMub24oJ2NodW5rJywgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9SZWFkYWJsZVN0cmVhbSgpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFN0cmVhbSh0aGlzW1N5bWJvbC5hc3luY0l0ZXJhdG9yXS5iaW5kKHRoaXMpLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICByZXR1cm4gc3RyZWFtLnRvUmVhZGFibGVTdHJlYW0oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uKHNuYXBzaG90LCBwYXJhbXMpIHtcbiAgICBjb25zdCB7IGlkLCBjaG9pY2VzLCBjcmVhdGVkLCBtb2RlbCwgc3lzdGVtX2ZpbmdlcnByaW50LCAuLi5yZXN0IH0gPSBzbmFwc2hvdDtcbiAgICBjb25zdCBjb21wbGV0aW9uID0ge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBpZCxcbiAgICAgICAgY2hvaWNlczogY2hvaWNlcy5tYXAoKHsgbWVzc2FnZSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzLCAuLi5jaG9pY2VSZXN0IH0pID0+IHtcbiAgICAgICAgICAgIGlmICghZmluaXNoX3JlYXNvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmaW5pc2hfcmVhc29uIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVudCA9IG51bGwsIGZ1bmN0aW9uX2NhbGwsIHRvb2xfY2FsbHMsIC4uLm1lc3NhZ2VSZXN0IH0gPSBtZXNzYWdlO1xuICAgICAgICAgICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTsgLy8gdGhpcyBpcyB3aGF0IHdlIGV4cGVjdDsgaW4gdGhlb3J5IGl0IGNvdWxkIGJlIGRpZmZlcmVudCB3aGljaCB3b3VsZCBtYWtlIG91ciB0eXBlcyBhIHNsaWdodCBsaWUgYnV0IHdvdWxkIGJlIGZpbmUuXG4gICAgICAgICAgICBpZiAoIXJvbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgcm9sZSBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lIH0gPSBmdW5jdGlvbl9jYWxsO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwuYXJndW1lbnRzIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBmdW5jdGlvbl9jYWxsLm5hbWUgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2VSZXN0LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb25fY2FsbDogeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoX3JlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsczogdG9vbF9jYWxscy5tYXAoKHRvb2xfY2FsbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZnVuY3Rpb246IGZuLCB0eXBlLCBpZCwgLi4udG9vbFJlc3QgfSA9IHRvb2xfY2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFyZ3VtZW50czogYXJncywgbmFtZSwgLi4uZm5SZXN0IH0gPSBmbiB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5pZFxcbiR7c3RyKHNuYXBzaG90KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS50eXBlXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmZ1bmN0aW9uLm5hbWVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24uYXJndW1lbnRzXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi50b29sUmVzdCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiB7IC4uLmZuUmVzdCwgbmFtZSwgYXJndW1lbnRzOiBhcmdzIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogeyAuLi5tZXNzYWdlUmVzdCwgY29udGVudCwgcm9sZSwgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwgfSxcbiAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGNyZWF0ZWQsXG4gICAgICAgIG1vZGVsLFxuICAgICAgICBvYmplY3Q6ICdjaGF0LmNvbXBsZXRpb24nLFxuICAgICAgICAuLi4oc3lzdGVtX2ZpbmdlcnByaW50ID8geyBzeXN0ZW1fZmluZ2VycHJpbnQgfSA6IHt9KSxcbiAgICB9O1xuICAgIHJldHVybiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKTtcbn1cbmZ1bmN0aW9uIHN0cih4KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIHRoZSBnaXZlbiBhcmd1bWVudCBpcyBhbiBlbXB0eSBvYmplY3QsIHVzZWZ1bCBmb3JcbiAqIGFzc2VydGluZyB0aGF0IGFsbCBrbm93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdCBoYXZlIGJlZW5cbiAqIGRlc3RydWN0dXJlZC5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0SXNFbXB0eShvYmopIHtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiBhc3NlcnROZXZlcihfeCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGF0Q29tcGxldGlvblN0cmVhbS5tanMubWFwIl0sIm5hbWVzIjpbIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJyZWNlaXZlciIsInN0YXRlIiwidmFsdWUiLCJraW5kIiwiZiIsIlR5cGVFcnJvciIsImhhcyIsImNhbGwiLCJzZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiZ2V0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcyIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYmVnaW5SZXF1ZXN0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldENob2ljZUV2ZW50U3RhdGUiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmsiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdFRvb2xDYWxsRG9uZUV2ZW50IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24iLCJPcGVuQUlFcnJvciIsIkFQSVVzZXJBYm9ydEVycm9yIiwiTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IiLCJDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IiLCJBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIiwiU3RyZWFtIiwiaGFzQXV0b1BhcnNlYWJsZUlucHV0IiwiaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCIsImlzQXV0b1BhcnNhYmxlVG9vbCIsIm1heWJlUGFyc2VDaGF0Q29tcGxldGlvbiIsInNob3VsZFBhcnNlVG9vbENhbGwiLCJwYXJ0aWFsUGFyc2UiLCJDaGF0Q29tcGxldGlvblN0cmVhbSIsImNvbnN0cnVjdG9yIiwicGFyYW1zIiwiYWRkIiwiY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QiLCJmcm9tUmVhZGFibGVTdHJlYW0iLCJzdHJlYW0iLCJydW5uZXIiLCJfcnVuIiwiX2Zyb21SZWFkYWJsZVN0cmVhbSIsImNyZWF0ZUNoYXRDb21wbGV0aW9uIiwiY2xpZW50Iiwib3B0aW9ucyIsIl9ydW5DaGF0Q29tcGxldGlvbiIsImhlYWRlcnMiLCJfY3JlYXRlQ2hhdENvbXBsZXRpb24iLCJzaWduYWwiLCJhYm9ydGVkIiwiY29udHJvbGxlciIsImFib3J0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIl9jb25uZWN0ZWQiLCJjaHVuayIsIl9hZGRDaGF0Q29tcGxldGlvbiIsInJlYWRhYmxlU3RyZWFtIiwiY2hhdElkIiwiaWQiLCJXZWFrTWFwIiwiV2Vha1NldCIsImVuZGVkIiwidW5kZWZpbmVkIiwiY2hvaWNlIiwiaW5kZXgiLCJjb250ZW50X2RvbmUiLCJyZWZ1c2FsX2RvbmUiLCJsb2dwcm9ic19jb250ZW50X2RvbmUiLCJsb2dwcm9ic19yZWZ1c2FsX2RvbmUiLCJkb25lX3Rvb2xfY2FsbHMiLCJTZXQiLCJjdXJyZW50X3Rvb2xfY2FsbF9pbmRleCIsImNvbXBsZXRpb24iLCJfZW1pdCIsImNob2ljZXMiLCJjaG9pY2VTbmFwc2hvdCIsImRlbHRhIiwiY29udGVudCIsIm1lc3NhZ2UiLCJyb2xlIiwic25hcHNob3QiLCJwYXJzZWQiLCJyZWZ1c2FsIiwibG9ncHJvYnMiLCJmaW5pc2hfcmVhc29uIiwidG9vbENhbGwiLCJ0b29sX2NhbGxzIiwidG9vbENhbGxEZWx0YSIsInRvb2xDYWxsU25hcHNob3QiLCJ0eXBlIiwibmFtZSIsImZ1bmN0aW9uIiwiYXJndW1lbnRzIiwicGFyc2VkX2FyZ3VtZW50cyIsImFyZ3VtZW50c19kZWx0YSIsImFzc2VydE5ldmVyIiwidG9vbENhbGxJbmRleCIsIkVycm9yIiwiaW5wdXRUb29sIiwidG9vbHMiLCJmaW5kIiwidG9vbCIsIiRwYXJzZVJhdyIsInN0cmljdCIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlRm9ybWF0IiwiZmluYWxpemVDaGF0Q29tcGxldGlvbiIsInJlc3BvbnNlX2Zvcm1hdCIsIl9hIiwiX2IiLCJfYyIsIl9kIiwicmVzdCIsIk9iamVjdCIsImFzc2lnbiIsIm90aGVyIiwiYXNzZXJ0SXNFbXB0eSIsInB1c2giLCJmdW5jdGlvbl9jYWxsIiwiZm4iLCJ0b29sX2NhbGwiLCJTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwicHVzaFF1ZXVlIiwicmVhZFF1ZXVlIiwiZG9uZSIsIm9uIiwicmVhZGVyIiwic2hpZnQiLCJyZXNvbHZlIiwibGVuZ3RoIiwiZXJyIiwicmVqZWN0IiwibmV4dCIsIlByb21pc2UiLCJ0aGVuIiwicmV0dXJuIiwidG9SZWFkYWJsZVN0cmVhbSIsImJpbmQiLCJjcmVhdGVkIiwibW9kZWwiLCJzeXN0ZW1fZmluZ2VycHJpbnQiLCJtYXAiLCJjaG9pY2VSZXN0IiwibWVzc2FnZVJlc3QiLCJhcmdzIiwiaSIsInRvb2xSZXN0IiwiZm5SZXN0Iiwic3RyIiwib2JqZWN0IiwieCIsInN0cmluZ2lmeSIsIm9iaiIsIl94Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStreamingRunner.mjs":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStreamingRunner.mjs ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStreamingRunner: () => (/* binding */ ChatCompletionStreamingRunner)\n/* harmony export */ });\n/* harmony import */ var _ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChatCompletionStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStream.mjs\");\n\nclass ChatCompletionStreamingRunner extends _ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        runner._run(()=>runner._fromReadableStream(stream));\n        return runner;\n    }\n    /** @deprecated - please use `runTools` instead. */ static runFunctions(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runFunctions\"\n            }\n        };\n        runner._run(()=>runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(// @ts-expect-error TODO these types are incompatible\n        params);\n        const opts = {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"runTools\"\n            }\n        };\n        runner._run(()=>runner._runTools(client, params, opts));\n        return runner;\n    }\n} //# sourceMappingURL=ChatCompletionStreamingRunner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRTtBQUMzRCxNQUFNQyxzQ0FBc0NELDJFQUFvQkE7SUFDbkUsT0FBT0UsbUJBQW1CQyxNQUFNLEVBQUU7UUFDOUIsTUFBTUMsU0FBUyxJQUFJSCw4QkFBOEI7UUFDakRHLE9BQU9DLElBQUksQ0FBQyxJQUFNRCxPQUFPRSxtQkFBbUIsQ0FBQ0g7UUFDN0MsT0FBT0M7SUFDWDtJQUNBLGlEQUFpRCxHQUNqRCxPQUFPRyxhQUFhQyxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQ3pDLE1BQU1OLFNBQVMsSUFBSUgsOEJBQThCO1FBQ2pELE1BQU1VLE9BQU87WUFDVCxHQUFHRCxPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsR0FBR0YsU0FBU0UsT0FBTztnQkFBRSw2QkFBNkI7WUFBZTtRQUNoRjtRQUNBUixPQUFPQyxJQUFJLENBQUMsSUFBTUQsT0FBT1MsYUFBYSxDQUFDTCxRQUFRQyxRQUFRRTtRQUN2RCxPQUFPUDtJQUNYO0lBQ0EsT0FBT1UsU0FBU04sTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRTtRQUNyQyxNQUFNTixTQUFTLElBQUlILDhCQUNuQixxREFBcUQ7UUFDckRRO1FBQ0EsTUFBTUUsT0FBTztZQUNULEdBQUdELE9BQU87WUFDVkUsU0FBUztnQkFBRSxHQUFHRixTQUFTRSxPQUFPO2dCQUFFLDZCQUE2QjtZQUFXO1FBQzVFO1FBQ0FSLE9BQU9DLElBQUksQ0FBQyxJQUFNRCxPQUFPVyxTQUFTLENBQUNQLFFBQVFDLFFBQVFFO1FBQ25ELE9BQU9QO0lBQ1g7QUFDSixFQUNBLDBEQUEwRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzPzA4MjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciBleHRlbmRzIENoYXRDb21wbGV0aW9uU3RyZWFtIHtcbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIobnVsbCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICAvKiogQGRlcHJlY2F0ZWQgLSBwbGVhc2UgdXNlIGBydW5Ub29sc2AgaW5zdGVhZC4gKi9cbiAgICBzdGF0aWMgcnVuRnVuY3Rpb25zKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1bkZ1bmN0aW9ucycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5GdW5jdGlvbnMoY2xpZW50LCBwYXJhbXMsIG9wdHMpKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIHJ1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIHRoZXNlIHR5cGVzIGFyZSBpbmNvbXBhdGlibGVcbiAgICAgICAgcGFyYW1zKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJDaGF0Q29tcGxldGlvblN0cmVhbSIsIkNoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIiwiZnJvbVJlYWRhYmxlU3RyZWFtIiwic3RyZWFtIiwicnVubmVyIiwiX3J1biIsIl9mcm9tUmVhZGFibGVTdHJlYW0iLCJydW5GdW5jdGlvbnMiLCJjbGllbnQiLCJwYXJhbXMiLCJvcHRpb25zIiwib3B0cyIsImhlYWRlcnMiLCJfcnVuRnVuY3Rpb25zIiwicnVuVG9vbHMiLCJfcnVuVG9vbHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStreamingRunner.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStream: () => (/* binding */ EventStream)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;\n\nclass EventStream {\n    constructor(){\n        _EventStream_instances.add(this);\n        this.controller = new AbortController();\n        _EventStream_connectedPromise.set(this, void 0);\n        _EventStream_resolveConnectedPromise.set(this, ()=>{});\n        _EventStream_rejectConnectedPromise.set(this, ()=>{});\n        _EventStream_endPromise.set(this, void 0);\n        _EventStream_resolveEndPromise.set(this, ()=>{});\n        _EventStream_rejectEndPromise.set(this, ()=>{});\n        _EventStream_listeners.set(this, {});\n        _EventStream_ended.set(this, false);\n        _EventStream_errored.set(this, false);\n        _EventStream_aborted.set(this, false);\n        _EventStream_catchingPromiseCreated.set(this, false);\n        __classPrivateFieldSet(this, _EventStream_connectedPromise, new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_resolveConnectedPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        __classPrivateFieldSet(this, _EventStream_endPromise, new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_resolveEndPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        __classPrivateFieldGet(this, _EventStream_connectedPromise, \"f\").catch(()=>{});\n        __classPrivateFieldGet(this, _EventStream_endPromise, \"f\").catch(()=>{});\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(()=>{\n            executor().then(()=>{\n                this._emitFinal();\n                this._emit(\"end\");\n            }, __classPrivateFieldGet(this, _EventStream_instances, \"m\", _EventStream_handleError).bind(this));\n        }, 0);\n    }\n    _connected() {\n        if (this.ended) return;\n        __classPrivateFieldGet(this, _EventStream_resolveConnectedPromise, \"f\").call(this);\n        this._emit(\"connect\");\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _EventStream_ended, \"f\");\n    }\n    get errored() {\n        return __classPrivateFieldGet(this, _EventStream_errored, \"f\");\n    }\n    get aborted() {\n        return __classPrivateFieldGet(this, _EventStream_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ on(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({\n            listener\n        });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ off(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (!listeners) return this;\n        const index = listeners.findIndex((l)=>l.listener === listener);\n        if (index >= 0) listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */ once(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({\n            listener,\n            once: true\n        });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */ emitted(event) {\n        return new Promise((resolve, reject)=>{\n            __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n            if (event !== \"error\") this.once(\"error\", reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n        await __classPrivateFieldGet(this, _EventStream_endPromise, \"f\");\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (__classPrivateFieldGet(this, _EventStream_ended, \"f\")) {\n            return;\n        }\n        if (event === \"end\") {\n            __classPrivateFieldSet(this, _EventStream_ended, true, \"f\");\n            __classPrivateFieldGet(this, _EventStream_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (listeners) {\n            __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = listeners.filter((l)=>!l.once);\n            listeners.forEach(({ listener })=>listener(...args));\n        }\n        if (event === \"abort\") {\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit(\"end\");\n            return;\n        }\n        if (event === \"error\") {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit(\"end\");\n        }\n    }\n    _emitFinal() {}\n}\n_EventStream_connectedPromise = new WeakMap(), _EventStream_resolveConnectedPromise = new WeakMap(), _EventStream_rejectConnectedPromise = new WeakMap(), _EventStream_endPromise = new WeakMap(), _EventStream_resolveEndPromise = new WeakMap(), _EventStream_rejectEndPromise = new WeakMap(), _EventStream_listeners = new WeakMap(), _EventStream_ended = new WeakMap(), _EventStream_errored = new WeakMap(), _EventStream_aborted = new WeakMap(), _EventStream_catchingPromiseCreated = new WeakMap(), _EventStream_instances = new WeakSet(), _EventStream_handleError = function _EventStream_handleError(error) {\n    __classPrivateFieldSet(this, _EventStream_errored, true, \"f\");\n    if (error instanceof Error && error.name === \"AbortError\") {\n        error = new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.APIUserAbortError();\n    }\n    if (error instanceof _error_mjs__WEBPACK_IMPORTED_MODULE_0__.APIUserAbortError) {\n        __classPrivateFieldSet(this, _EventStream_aborted, true, \"f\");\n        return this._emit(\"abort\", error);\n    }\n    if (error instanceof _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError) {\n        return this._emit(\"error\", error);\n    }\n    if (error instanceof Error) {\n        const openAIError = new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(error.message);\n        // @ts-ignore\n        openAIError.cause = error;\n        return this._emit(\"error\", openAIError);\n    }\n    return this._emit(\"error\", new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(String(error)));\n}; //# sourceMappingURL=EventStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0V2ZW50U3RyZWFtLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQUlBLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLENBQUM7SUFDM0csSUFBSUQsU0FBUyxLQUFLLE1BQU0sSUFBSUUsVUFBVTtJQUN0QyxJQUFJRixTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU8sU0FBVSxNQUFNRCxFQUFFRyxJQUFJLENBQUNQLFVBQVVFLFNBQVNFLElBQUlBLEVBQUVGLEtBQUssR0FBR0EsUUFBUUQsTUFBTU8sR0FBRyxDQUFDUixVQUFVRSxRQUFTQTtBQUN4RztBQUNBLElBQUlPLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVVCxRQUFRLEVBQUVDLEtBQUssRUFBRUUsSUFBSSxFQUFFQyxDQUFDO0lBQ3BHLElBQUlELFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9KLFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRyxJQUFJLENBQUNILE1BQU1LLEdBQUcsQ0FBQ04sV0FBVyxNQUFNLElBQUlLLFVBQVU7SUFDdkcsT0FBT0YsU0FBUyxNQUFNQyxJQUFJRCxTQUFTLE1BQU1DLEVBQUVHLElBQUksQ0FBQ1AsWUFBWUksSUFBSUEsRUFBRUYsS0FBSyxHQUFHRCxNQUFNUyxHQUFHLENBQUNWO0FBQ3hGO0FBQ0EsSUFBSVcsd0JBQXdCQywr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QSxpQkFBaUJJLE9BQU87UUFDeEIsTUFBTUUsY0FBYyxJQUFJNUMsbURBQVdBLENBQUNzQyxNQUFNTyxPQUFPO1FBQ2pELGFBQWE7UUFDYkQsWUFBWUUsS0FBSyxHQUFHUjtRQUNwQixPQUFPLElBQUksQ0FBQ3ZCLEtBQUssQ0FBQyxTQUFTNkI7SUFDL0I7SUFDQSxPQUFPLElBQUksQ0FBQzdCLEtBQUssQ0FBQyxTQUFTLElBQUlmLG1EQUFXQSxDQUFDK0MsT0FBT1Q7QUFDdEQsR0FDQSx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0V2ZW50U3RyZWFtLm1qcz9lOGI2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIF9FdmVudFN0cmVhbV9lbmRlZCwgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEV2ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Nvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9lbmRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZXJyb3JlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fYWJvcnRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZC5zZXQodGhpcywgZmFsc2UpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgcmVzb2x2ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLCByZXNvbHZlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCByZWplY3QsIFwiZlwiKTtcbiAgICAgICAgfSksIFwiZlwiKTtcbiAgICAgICAgLy8gRG9uJ3QgbGV0IHRoZXNlIHByb21pc2VzIGNhdXNlIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3JzLlxuICAgICAgICAvLyB3ZSB3aWxsIG1hbnVhbGx5IGNhdXNlIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgbGF0ZXJcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgaGFzbid0IHJlZ2lzdGVyZWQgYW55IGVycm9yIGxpc3RlbmVyIG9yIGNhbGxlZFxuICAgICAgICAvLyBhbnkgcHJvbWlzZS1yZXR1cm5pbmcgbWV0aG9kLlxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSwgXCJmXCIpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgfVxuICAgIF9ydW4oZXhlY3V0b3IpIHtcbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSBpZiB3ZSBjYWxsIGBleGVjdXRvcigpYCBpbW1lZGlhdGVseSB3ZSBnZXQgcnVudGltZSBlcnJvcnMgYWJvdXRcbiAgICAgICAgLy8gcmVmZXJlbmNlcyB0byBgdGhpc2AgYmVmb3JlIHRoZSBgc3VwZXIoKWAgY29uc3RydWN0b3IgY2FsbCByZXR1cm5zLlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdEZpbmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgICAgICB9LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IpLmJpbmQodGhpcykpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgX2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdCcpO1xuICAgIH1cbiAgICBnZXQgZW5kZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBnZXQgZXJyb3JlZCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGFib3J0ZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBcImZcIik7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgbGlzdGVuZXJzIGFycmF5IGZvciB0aGUgZXZlbnQuXG4gICAgICogTm8gY2hlY2tzIGFyZSBtYWRlIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaGFzIGFscmVhZHkgYmVlbiBhZGRlZC4gTXVsdGlwbGUgY2FsbHMgcGFzc2luZ1xuICAgICAqIHRoZSBzYW1lIGNvbWJpbmF0aW9uIG9mIGV2ZW50IGFuZCBsaXN0ZW5lciB3aWxsIHJlc3VsdCBpbiB0aGUgbGlzdGVuZXIgYmVpbmcgYWRkZWQsIGFuZFxuICAgICAqIGNhbGxlZCwgbXVsdGlwbGUgdGltZXMuXG4gICAgICogQHJldHVybnMgdGhpcyBDaGF0Q29tcGxldGlvblN0cmVhbSwgc28gdGhhdCBjYWxscyBjYW4gYmUgY2hhaW5lZFxuICAgICAqL1xuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gfHwgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSA9IFtdKTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBsaXN0ZW5lciB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHNwZWNpZmllZCBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgICAqIG9mZigpIHdpbGwgcmVtb3ZlLCBhdCBtb3N0LCBvbmUgaW5zdGFuY2Ugb2YgYSBsaXN0ZW5lciBmcm9tIHRoZSBsaXN0ZW5lciBhcnJheS4gSWYgYW55IHNpbmdsZVxuICAgICAqIGxpc3RlbmVyIGhhcyBiZWVuIGFkZGVkIG11bHRpcGxlIHRpbWVzIHRvIHRoZSBsaXN0ZW5lciBhcnJheSBmb3IgdGhlIHNwZWNpZmllZCBldmVudCwgdGhlblxuICAgICAqIG9mZigpIG11c3QgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIHJlbW92ZSBlYWNoIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuZmluZEluZGV4KChsKSA9PiBsLmxpc3RlbmVyID09PSBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgb25lLXRpbWUgbGlzdGVuZXIgZnVuY3Rpb24gZm9yIHRoZSBldmVudC4gVGhlIG5leHQgdGltZSB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLFxuICAgICAqIHRoaXMgbGlzdGVuZXIgaXMgcmVtb3ZlZCBhbmQgdGhlbiBpbnZva2VkLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gfHwgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XSA9IFtdKTtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goeyBsaXN0ZW5lciwgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgc2ltaWxhciB0byBgLm9uY2UoKWAsIGJ1dCByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRoZSBuZXh0IHRpbWVcbiAgICAgKiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLCBpbnN0ZWFkIG9mIGNhbGxpbmcgYSBsaXN0ZW5lciBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0aGUgbmV4dCB0aW1lIGdpdmVuIGV2ZW50IGlzIHRyaWdnZXJlZCxcbiAgICAgKiBvciByZWplY3RzIGlmIGFuIGVycm9yIGlzIGVtaXR0ZWQuICAoSWYgeW91IHJlcXVlc3QgdGhlICdlcnJvcicgZXZlbnQsXG4gICAgICogcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBlcnJvcikuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICBjb25zdCBtZXNzYWdlID0gYXdhaXQgc3RyZWFtLmVtaXR0ZWQoJ21lc3NhZ2UnKSAvLyByZWplY3RzIGlmIHRoZSBzdHJlYW0gZXJyb3JzXG4gICAgICovXG4gICAgZW1pdHRlZChldmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgaWYgKGV2ZW50ICE9PSAnZXJyb3InKVxuICAgICAgICAgICAgICAgIHRoaXMub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgICAgICAgICAgdGhpcy5vbmNlKGV2ZW50LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGRvbmUoKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgYXdhaXQgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSwgXCJmXCIpO1xuICAgIH1cbiAgICBfZW1pdChldmVudCwgLi4uYXJncykge1xuICAgICAgICAvLyBtYWtlIHN1cmUgd2UgZG9uJ3QgZW1pdCBhbnkgZXZlbnRzIGFmdGVyIGVuZFxuICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kZWQsIFwiZlwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBsaXN0ZW5lcnMuZmlsdGVyKChsKSA9PiAhbC5vbmNlKTtcbiAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKCh7IGxpc3RlbmVyIH0pID0+IGxpc3RlbmVyKC4uLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdhYm9ydCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgXCJmXCIpICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudCA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgLy8gTk9URTogX2VtaXQoJ2Vycm9yJywgZXJyb3IpIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tICNoYW5kbGVFcnJvcigpLlxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCBcImZcIikgJiYgIWxpc3RlbmVycz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UgYXJlIHNlZWluZyBzdGFjayB0cmFjZXMgaGVyZSwgbWFrZSBzdXJlIHRvIGhhbmRsZSBlcnJvcnMgdmlhIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAtIHJ1bm5lci5vbignZXJyb3InLCAoKSA9PiAuLi4pXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZG9uZSgpXG4gICAgICAgICAgICAgICAgLy8gLSBhd2FpdCBydW5uZXIuZmluYWxDaGF0Q29tcGxldGlvbigpXG4gICAgICAgICAgICAgICAgLy8gLSBldGMuXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VtaXRGaW5hbCgpIHsgfVxufVxuX0V2ZW50U3RyZWFtX2Nvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2VuZGVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2Vycm9yZWQgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9FdmVudFN0cmVhbV9oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIF9FdmVudFN0cmVhbV9oYW5kbGVFcnJvcihlcnJvcikge1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIHRydWUsIFwiZlwiKTtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQVBJVXNlckFib3J0RXJyb3IpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnYWJvcnQnLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIE9wZW5BSUVycm9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc3Qgb3BlbkFJRXJyb3IgPSBuZXcgT3BlbkFJRXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgb3BlbkFJRXJyb3IuY2F1c2UgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgb3BlbkFJRXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgT3BlbkFJRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50U3RyZWFtLm1qcy5tYXAiXSwibmFtZXMiOlsiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInJlY2VpdmVyIiwic3RhdGUiLCJ2YWx1ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJnZXQiLCJfRXZlbnRTdHJlYW1faW5zdGFuY2VzIiwiX0V2ZW50U3RyZWFtX2Nvbm5lY3RlZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9lbmRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fbGlzdGVuZXJzIiwiX0V2ZW50U3RyZWFtX2VuZGVkIiwiX0V2ZW50U3RyZWFtX2Vycm9yZWQiLCJfRXZlbnRTdHJlYW1fYWJvcnRlZCIsIl9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkIiwiX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yIiwiQVBJVXNlckFib3J0RXJyb3IiLCJPcGVuQUlFcnJvciIsIkV2ZW50U3RyZWFtIiwiY29uc3RydWN0b3IiLCJhZGQiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjYXRjaCIsIl9ydW4iLCJleGVjdXRvciIsInNldFRpbWVvdXQiLCJ0aGVuIiwiX2VtaXRGaW5hbCIsIl9lbWl0IiwiYmluZCIsIl9jb25uZWN0ZWQiLCJlbmRlZCIsImVycm9yZWQiLCJhYm9ydGVkIiwiYWJvcnQiLCJvbiIsImV2ZW50IiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJwdXNoIiwib2ZmIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJsIiwic3BsaWNlIiwib25jZSIsImVtaXR0ZWQiLCJkb25lIiwiYXJncyIsImZpbHRlciIsImZvckVhY2giLCJlcnJvciIsImxlbmd0aCIsIldlYWtNYXAiLCJXZWFrU2V0IiwiRXJyb3IiLCJuYW1lIiwib3BlbkFJRXJyb3IiLCJtZXNzYWdlIiwiY2F1c2UiLCJTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ResponsesParser.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ResponsesParser.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addOutputText: () => (/* binding */ addOutputText),\n/* harmony export */   hasAutoParseableInput: () => (/* binding */ hasAutoParseableInput),\n/* harmony export */   isAutoParsableTool: () => (/* binding */ isAutoParsableTool),\n/* harmony export */   makeParseableResponseTool: () => (/* binding */ makeParseableResponseTool),\n/* harmony export */   maybeParseResponse: () => (/* binding */ maybeParseResponse),\n/* harmony export */   parseResponse: () => (/* binding */ parseResponse),\n/* harmony export */   shouldParseToolCall: () => (/* binding */ shouldParseToolCall),\n/* harmony export */   validateInputTools: () => (/* binding */ validateInputTools)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _lib_parser_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/parser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs\");\n\n\nfunction maybeParseResponse(response, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...response,\n            output_parsed: null,\n            output: response.output.map((item)=>{\n                if (item.type === \"function_call\") {\n                    return {\n                        ...item,\n                        parsed_arguments: null\n                    };\n                }\n                if (item.type === \"message\") {\n                    return {\n                        ...item,\n                        content: item.content.map((content)=>({\n                                ...content,\n                                parsed: null\n                            }))\n                    };\n                } else {\n                    return item;\n                }\n            })\n        };\n    }\n    return parseResponse(response, params);\n}\nfunction parseResponse(response, params) {\n    const output = response.output.map((item)=>{\n        if (item.type === \"function_call\") {\n            return {\n                ...item,\n                parsed_arguments: parseToolCall(params, item)\n            };\n        }\n        if (item.type === \"message\") {\n            const content = item.content.map((content)=>{\n                if (content.type === \"output_text\") {\n                    return {\n                        ...content,\n                        parsed: parseTextFormat(params, content.text)\n                    };\n                }\n                return content;\n            });\n            return {\n                ...item,\n                content\n            };\n        }\n        return item;\n    });\n    const parsed = Object.assign({}, response, {\n        output\n    });\n    if (!Object.getOwnPropertyDescriptor(response, \"output_text\")) {\n        addOutputText(parsed);\n    }\n    Object.defineProperty(parsed, \"output_parsed\", {\n        enumerable: true,\n        get () {\n            for (const output of parsed.output){\n                if (output.type !== \"message\") {\n                    continue;\n                }\n                for (const content of output.content){\n                    if (content.type === \"output_text\" && content.parsed !== null) {\n                        return content.parsed;\n                    }\n                }\n            }\n            return null;\n        }\n    });\n    return parsed;\n}\nfunction parseTextFormat(params, content) {\n    if (params.text?.format?.type !== \"json_schema\") {\n        return null;\n    }\n    if (\"$parseRaw\" in params.text?.format) {\n        const text_format = params.text?.format;\n        return text_format.$parseRaw(content);\n    }\n    return JSON.parse(content);\n}\nfunction hasAutoParseableInput(params) {\n    if ((0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_0__.isAutoParsableResponseFormat)(params.text?.format)) {\n        return true;\n    }\n    return false;\n}\nfunction makeParseableResponseTool(tool, { parser, callback }) {\n    const obj = {\n        ...tool\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-tool\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        },\n        $callback: {\n            value: callback,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction isAutoParsableTool(tool) {\n    return tool?.[\"$brand\"] === \"auto-parseable-tool\";\n}\nfunction getInputToolByName(input_tools, name) {\n    return input_tools.find((tool)=>tool.type === \"function\" && tool.name === name);\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = getInputToolByName(params.tools ?? [], toolCall.name);\n    return {\n        ...toolCall,\n        ...toolCall,\n        parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.arguments) : inputTool?.strict ? JSON.parse(toolCall.arguments) : null\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = getInputToolByName(params.tools ?? [], toolCall.name);\n    return isAutoParsableTool(inputTool) || inputTool?.strict || false;\n}\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []){\n        if (tool.type !== \"function\") {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n}\nfunction addOutputText(rsp) {\n    const texts = [];\n    for (const output of rsp.output){\n        if (output.type !== \"message\") {\n            continue;\n        }\n        for (const content of output.content){\n            if (content.type === \"output_text\") {\n                texts.push(content.text);\n            }\n        }\n    }\n    rsp.output_text = texts.join(\"\");\n} //# sourceMappingURL=ResponsesParser.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1Jlc3BvbnNlc1BhcnNlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUEyQztBQUNzQjtBQUMxRCxTQUFTRSxtQkFBbUJDLFFBQVEsRUFBRUMsTUFBTTtJQUMvQyxJQUFJLENBQUNBLFVBQVUsQ0FBQ0Msc0JBQXNCRCxTQUFTO1FBQzNDLE9BQU87WUFDSCxHQUFHRCxRQUFRO1lBQ1hHLGVBQWU7WUFDZkMsUUFBUUosU0FBU0ksTUFBTSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0M7Z0JBQ3pCLElBQUlBLEtBQUtDLElBQUksS0FBSyxpQkFBaUI7b0JBQy9CLE9BQU87d0JBQ0gsR0FBR0QsSUFBSTt3QkFDUEUsa0JBQWtCO29CQUN0QjtnQkFDSjtnQkFDQSxJQUFJRixLQUFLQyxJQUFJLEtBQUssV0FBVztvQkFDekIsT0FBTzt3QkFDSCxHQUFHRCxJQUFJO3dCQUNQRyxTQUFTSCxLQUFLRyxPQUFPLENBQUNKLEdBQUcsQ0FBQyxDQUFDSSxVQUFhO2dDQUNwQyxHQUFHQSxPQUFPO2dDQUNWQyxRQUFROzRCQUNaO29CQUNKO2dCQUNKLE9BQ0s7b0JBQ0QsT0FBT0o7Z0JBQ1g7WUFDSjtRQUNKO0lBQ0o7SUFDQSxPQUFPSyxjQUFjWCxVQUFVQztBQUNuQztBQUNPLFNBQVNVLGNBQWNYLFFBQVEsRUFBRUMsTUFBTTtJQUMxQyxNQUFNRyxTQUFTSixTQUFTSSxNQUFNLENBQUNDLEdBQUcsQ0FBQyxDQUFDQztRQUNoQyxJQUFJQSxLQUFLQyxJQUFJLEtBQUssaUJBQWlCO1lBQy9CLE9BQU87Z0JBQ0gsR0FBR0QsSUFBSTtnQkFDUEUsa0JBQWtCSSxjQUFjWCxRQUFRSztZQUM1QztRQUNKO1FBQ0EsSUFBSUEsS0FBS0MsSUFBSSxLQUFLLFdBQVc7WUFDekIsTUFBTUUsVUFBVUgsS0FBS0csT0FBTyxDQUFDSixHQUFHLENBQUMsQ0FB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cEMsT0FBTzBDLEtBQUssSUFBSSxFQUFFLEVBQUVGLFNBQVNGLElBQUk7SUFDdEUsT0FBT0gsbUJBQW1CTSxjQUFjQSxXQUFXRyxVQUFVO0FBQ2pFO0FBQ08sU0FBU0UsbUJBQW1CSixLQUFLO0lBQ3BDLEtBQUssTUFBTWYsUUFBUWUsU0FBUyxFQUFFLENBQUU7UUFDNUIsSUFBSWYsS0FBS3JCLElBQUksS0FBSyxZQUFZO1lBQzFCLE1BQU0sSUFBSVYsbURBQVdBLENBQUMsQ0FBQyx3RUFBd0UsRUFBRStCLEtBQUtyQixJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2xIO1FBQ0EsSUFBSXFCLEtBQUtvQixRQUFRLENBQUNILE1BQU0sS0FBSyxNQUFNO1lBQy9CLE1BQU0sSUFBSWhELG1EQUFXQSxDQUFDLENBQUMsTUFBTSxFQUFFK0IsS0FBS29CLFFBQVEsQ0FBQ1QsSUFBSSxDQUFDLDBGQUEwRixDQUFDO1FBQ2pKO0lBQ0o7QUFDSjtBQUNPLFNBQVNyQixjQUFjK0IsR0FBRztJQUM3QixNQUFNQyxRQUFRLEVBQUU7SUFDaEIsS0FBSyxNQUFNOUMsVUFBVTZDLElBQUk3QyxNQUFNLENBQUU7UUFDN0IsSUFBSUEsT0FBT0csSUFBSSxLQUFLLFdBQVc7WUFDM0I7UUFDSjtRQUNBLEtBQUssTUFBTUUsV0FBV0wsT0FBT0ssT0FBTyxDQUFFO1lBQ2xDLElBQUlBLFFBQVFGLElBQUksS0FBSyxlQUFlO2dCQUNoQzJDLE1BQU1DLElBQUksQ0FBQzFDLFFBQVFLLElBQUk7WUFDM0I7UUFDSjtJQUNKO0lBQ0FtQyxJQUFJRyxXQUFXLEdBQUdGLE1BQU1HLElBQUksQ0FBQztBQUNqQyxFQUNBLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvUmVzcG9uc2VzUGFyc2VyLm1qcz81YjZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIG1heWJlUGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgIG91dHB1dF9wYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICBvdXRwdXQ6IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcykge1xuICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogcGFyc2VUb29sQ2FsbChwYXJhbXMsIGl0ZW0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBpdGVtLmNvbnRlbnQubWFwKChjb250ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudC50ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9KTtcbiAgICBjb25zdCBwYXJzZWQgPSBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSwgeyBvdXRwdXQgfSk7XG4gICAgaWYgKCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlc3BvbnNlLCAnb3V0cHV0X3RleHQnKSkge1xuICAgICAgICBhZGRPdXRwdXRUZXh0KHBhcnNlZCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXJzZWQsICdvdXRwdXRfcGFyc2VkJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiBwYXJzZWQub3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnICYmIGNvbnRlbnQucGFyc2VkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudC5wYXJzZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24gcGFyc2VUZXh0Rm9ybWF0KHBhcmFtcywgY29udGVudCkge1xuICAgIGlmIChwYXJhbXMudGV4dD8uZm9ybWF0Py50eXBlICE9PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoJyRwYXJzZVJhdycgaW4gcGFyYW1zLnRleHQ/LmZvcm1hdCkge1xuICAgICAgICBjb25zdCB0ZXh0X2Zvcm1hdCA9IHBhcmFtcy50ZXh0Py5mb3JtYXQ7XG4gICAgICAgIHJldHVybiB0ZXh0X2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnBhcnNlKGNvbnRlbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpIHtcbiAgICBpZiAoaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdChwYXJhbXMudGV4dD8uZm9ybWF0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZVRvb2wodG9vbCwgeyBwYXJzZXIsIGNhbGxiYWNrLCB9KSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJGNhbGxiYWNrOiB7XG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuIHRvb2w/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbn1cbmZ1bmN0aW9uIGdldElucHV0VG9vbEJ5TmFtZShpbnB1dF90b29scywgbmFtZSkge1xuICAgIHJldHVybiBpbnB1dF90b29scy5maW5kKCh0b29sKSA9PiB0b29sLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbC5uYW1lID09PSBuYW1lKTtcbn1cbmZ1bmN0aW9uIHBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICAuLi50b29sQ2FsbCxcbiAgICAgICAgcGFyc2VkX2FyZ3VtZW50czogaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgPyBpbnB1dFRvb2wuJHBhcnNlUmF3KHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgIDogaW5wdXRUb29sPy5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IGdldElucHV0VG9vbEJ5TmFtZShwYXJhbXMudG9vbHMgPz8gW10sIHRvb2xDYWxsLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZE91dHB1dFRleHQocnNwKSB7XG4gICAgY29uc3QgdGV4dHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG91dHB1dCBvZiByc3Aub3V0cHV0KSB7XG4gICAgICAgIGlmIChvdXRwdXQudHlwZSAhPT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnQgb2Ygb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0cy5wdXNoKGNvbnRlbnQudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcnNwLm91dHB1dF90ZXh0ID0gdGV4dHMuam9pbignJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNwb25zZXNQYXJzZXIubWpzLm1hcCJdLCJuYW1lcyI6WyJPcGVuQUlFcnJvciIsImlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQiLCJtYXliZVBhcnNlUmVzcG9uc2UiLCJyZXNwb25zZSIsInBhcmFtcyIsImhhc0F1dG9QYXJzZWFibGVJbnB1dCIsIm91dHB1dF9wYXJzZWQiLCJvdXRwdXQiLCJtYXAiLCJpdGVtIiwidHlwZSIsInBhcnNlZF9hcmd1bWVudHMiLCJjb250ZW50IiwicGFyc2VkIiwicGFyc2VSZXNwb25zZSIsInBhcnNlVG9vbENhbGwiLCJwYXJzZVRleHRGb3JtYXQiLCJ0ZXh0IiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiYWRkT3V0cHV0VGV4dCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImZvcm1hdCIsInRleHRfZm9ybWF0IiwiJHBhcnNlUmF3IiwiSlNPTiIsInBhcnNlIiwibWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCIsInRvb2wiLCJwYXJzZXIiLCJjYWxsYmFjayIsIm9iaiIsImRlZmluZVByb3BlcnRpZXMiLCIkYnJhbmQiLCJ2YWx1ZSIsIiRjYWxsYmFjayIsImlzQXV0b1BhcnNhYmxlVG9vbCIsImdldElucHV0VG9vbEJ5TmFtZSIsImlucHV0X3Rvb2xzIiwibmFtZSIsImZpbmQiLCJ0b29sQ2FsbCIsImlucHV0VG9vbCIsInRvb2xzIiwiYXJndW1lbnRzIiwic3RyaWN0Iiwic2hvdWxkUGFyc2VUb29sQ2FsbCIsInZhbGlkYXRlSW5wdXRUb29scyIsImZ1bmN0aW9uIiwicnNwIiwidGV4dHMiLCJwdXNoIiwib3V0cHV0X3RleHQiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ResponsesParser.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/RunnableFunction.mjs":
/*!**************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/RunnableFunction.mjs ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParsingFunction: () => (/* binding */ ParsingFunction),\n/* harmony export */   ParsingToolFunction: () => (/* binding */ ParsingToolFunction),\n/* harmony export */   isRunnableFunctionWithParse: () => (/* binding */ isRunnableFunctionWithParse)\n/* harmony export */ });\nfunction isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === \"function\";\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n *\n * @deprecated - please use ParsingToolFunction instead.\n */ class ParsingFunction {\n    constructor(input){\n        this.function = input.function;\n        this.parse = input.parse;\n        this.parameters = input.parameters;\n        this.description = input.description;\n        this.name = input.name;\n    }\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */ class ParsingToolFunction {\n    constructor(input){\n        this.type = \"function\";\n        this.function = input;\n    }\n} //# sourceMappingURL=RunnableFunction.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1J1bm5hYmxlRnVuY3Rpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPLFNBQVNBLDRCQUE0QkMsRUFBRTtJQUMxQyxPQUFPLE9BQU9BLEdBQUdDLEtBQUssS0FBSztBQUMvQjtBQUNBOzs7OztDQUtDLEdBQ00sTUFBTUM7SUFDVEMsWUFBWUMsS0FBSyxDQUFFO1FBQ2YsSUFBSSxDQUFDQyxRQUFRLEdBQUdELE1BQU1DLFFBQVE7UUFDOUIsSUFBSSxDQUFDSixLQUFLLEdBQUdHLE1BQU1ILEtBQUs7UUFDeEIsSUFBSSxDQUFDSyxVQUFVLEdBQUdGLE1BQU1FLFVBQVU7UUFDbEMsSUFBSSxDQUFDQyxXQUFXLEdBQUdILE1BQU1HLFdBQVc7UUFDcEMsSUFBSSxDQUFDQyxJQUFJLEdBQUdKLE1BQU1JLElBQUk7SUFDMUI7QUFDSjtBQUNBOzs7Q0FHQyxHQUNNLE1BQU1DO0lBQ1ROLFlBQVlDLEtBQUssQ0FBRTtRQUNmLElBQUksQ0FBQ00sSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDTCxRQUFRLEdBQUdEO0lBQ3BCO0FBQ0osRUFDQSw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1J1bm5hYmxlRnVuY3Rpb24ubWpzP2Y2YWQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4ucGFyc2UgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICpcbiAqIEBkZXByZWNhdGVkIC0gcGxlYXNlIHVzZSBQYXJzaW5nVG9vbEZ1bmN0aW9uIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJzaW5nRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dC5mdW5jdGlvbjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IGlucHV0LnBhcnNlO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBpbnB1dC5wYXJhbWV0ZXJzO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gaW5wdXQuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMubmFtZSA9IGlucHV0Lm5hbWU7XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGlzIGhlbHBlciBjbGFzcyBmb3IgcGFzc2luZyBhIGBmdW5jdGlvbmAgYW5kIGBwYXJzZWAgd2hlcmUgdGhlIGBmdW5jdGlvbmBcbiAqIGFyZ3VtZW50IHR5cGUgbWF0Y2hlcyB0aGUgYHBhcnNlYCByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnNpbmdUb29sRnVuY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgICAgIHRoaXMudHlwZSA9ICdmdW5jdGlvbic7XG4gICAgICAgIHRoaXMuZnVuY3Rpb24gPSBpbnB1dDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SdW5uYWJsZUZ1bmN0aW9uLm1qcy5tYXAiXSwibmFtZXMiOlsiaXNSdW5uYWJsZUZ1bmN0aW9uV2l0aFBhcnNlIiwiZm4iLCJwYXJzZSIsIlBhcnNpbmdGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwiaW5wdXQiLCJmdW5jdGlvbiIsInBhcmFtZXRlcnMiLCJkZXNjcmlwdGlvbiIsIm5hbWUiLCJQYXJzaW5nVG9vbEZ1bmN0aW9uIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/RunnableFunction.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/Util.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/Util.mjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   allSettledWithThrow: () => (/* binding */ allSettledWithThrow)\n/* harmony export */ });\n/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */ const allSettledWithThrow = async (promises)=>{\n    const results = await Promise.allSettled(promises);\n    const rejected = results.filter((result)=>result.status === \"rejected\");\n    if (rejected.length) {\n        for (const result of rejected){\n            console.error(result.reason);\n        }\n        throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n    }\n    // Note: TS was complaining about using `.filter().map()` here for some reason\n    const values = [];\n    for (const result of results){\n        if (result.status === \"fulfilled\") {\n            values.push(result.value);\n        }\n    }\n    return values;\n}; //# sourceMappingURL=Util.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1V0aWwubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Q0FFQyxHQUNNLE1BQU1BLHNCQUFzQixPQUFPQztJQUN0QyxNQUFNQyxVQUFVLE1BQU1DLFFBQVFDLFVBQVUsQ0FBQ0g7SUFDekMsTUFBTUksV0FBV0gsUUFBUUksTUFBTSxDQUFDLENBQUNDLFNBQVdBLE9BQU9DLE1BQU0sS0FBSztJQUM5RCxJQUFJSCxTQUFTSSxNQUFNLEVBQUU7UUFDakIsS0FBSyxNQUFNRixVQUFVRixTQUFVO1lBQzNCSyxRQUFRQyxLQUFLLENBQUNKLE9BQU9LLE1BQU07UUFDL0I7UUFDQSxNQUFNLElBQUlDLE1BQU0sQ0FBQyxFQUFFUixTQUFTSSxNQUFNLENBQUMseUNBQXlDLENBQUM7SUFDakY7SUFDQSw4RUFBOEU7SUFDOUUsTUFBTUssU0FBUyxFQUFFO0lBQ2pCLEtBQUssTUFBTVAsVUFBVUwsUUFBUztRQUMxQixJQUFJSyxPQUFPQyxNQUFNLEtBQUssYUFBYTtZQUMvQk0sT0FBT0MsSUFBSSxDQUFDUixPQUFPUyxLQUFLO1FBQzVCO0lBQ0o7SUFDQSxPQUFPRjtBQUNYLEVBQUUsQ0FDRixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1V0aWwubWpzPzJlMjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWtlIGBQcm9taXNlLmFsbFNldHRsZWQoKWAgYnV0IHRocm93cyBhbiBlcnJvciBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgYWxsU2V0dGxlZFdpdGhUaHJvdyA9IGFzeW5jIChwcm9taXNlcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gICAgaWYgKHJlamVjdGVkLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZWplY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXN1bHQucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVqZWN0ZWQubGVuZ3RofSBwcm9taXNlKHMpIGZhaWxlZCAtIHNlZSB0aGUgYWJvdmUgZXJyb3JzYCk7XG4gICAgfVxuICAgIC8vIE5vdGU6IFRTIHdhcyBjb21wbGFpbmluZyBhYm91dCB1c2luZyBgLmZpbHRlcigpLm1hcCgpYCBoZXJlIGZvciBzb21lIHJlYXNvblxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbC5tanMubWFwIl0sIm5hbWVzIjpbImFsbFNldHRsZWRXaXRoVGhyb3ciLCJwcm9taXNlcyIsInJlc3VsdHMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInJlamVjdGVkIiwiZmlsdGVyIiwicmVzdWx0Iiwic3RhdHVzIiwibGVuZ3RoIiwiY29uc29sZSIsImVycm9yIiwicmVhc29uIiwiRXJyb3IiLCJ2YWx1ZXMiLCJwdXNoIiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/Util.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/chatCompletionUtils.mjs":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/chatCompletionUtils.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAssistantMessage: () => (/* binding */ isAssistantMessage),\n/* harmony export */   isFunctionMessage: () => (/* binding */ isFunctionMessage),\n/* harmony export */   isPresent: () => (/* binding */ isPresent),\n/* harmony export */   isToolMessage: () => (/* binding */ isToolMessage)\n/* harmony export */ });\nconst isAssistantMessage = (message)=>{\n    return message?.role === \"assistant\";\n};\nconst isFunctionMessage = (message)=>{\n    return message?.role === \"function\";\n};\nconst isToolMessage = (message)=>{\n    return message?.role === \"tool\";\n};\nfunction isPresent(obj) {\n    return obj != null;\n} //# sourceMappingURL=chatCompletionUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTyxNQUFNQSxxQkFBcUIsQ0FBQ0M7SUFDL0IsT0FBT0EsU0FBU0MsU0FBUztBQUM3QixFQUFFO0FBQ0ssTUFBTUMsb0JBQW9CLENBQUNGO0lBQzlCLE9BQU9BLFNBQVNDLFNBQVM7QUFDN0IsRUFBRTtBQUNLLE1BQU1FLGdCQUFnQixDQUFDSDtJQUMxQixPQUFPQSxTQUFTQyxTQUFTO0FBQzdCLEVBQUU7QUFDSyxTQUFTRyxVQUFVQyxHQUFHO0lBQ3pCLE9BQU9BLE9BQU87QUFDbEIsRUFDQSxnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL2NoYXRDb21wbGV0aW9uVXRpbHMubWpzPzVhYmMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGlzQXNzaXN0YW50TWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnO1xufTtcbmV4cG9ydCBjb25zdCBpc0Z1bmN0aW9uTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICdmdW5jdGlvbic7XG59O1xuZXhwb3J0IGNvbnN0IGlzVG9vbE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAndG9vbCc7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJlc2VudChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGF0Q29tcGxldGlvblV0aWxzLm1qcy5tYXAiXSwibmFtZXMiOlsiaXNBc3Npc3RhbnRNZXNzYWdlIiwibWVzc2FnZSIsInJvbGUiLCJpc0Z1bmN0aW9uTWVzc2FnZSIsImlzVG9vbE1lc3NhZ2UiLCJpc1ByZXNlbnQiLCJvYmoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/chatCompletionUtils.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasAutoParseableInput: () => (/* binding */ hasAutoParseableInput),\n/* harmony export */   isAutoParsableResponseFormat: () => (/* binding */ isAutoParsableResponseFormat),\n/* harmony export */   isAutoParsableTool: () => (/* binding */ isAutoParsableTool),\n/* harmony export */   makeParseableResponseFormat: () => (/* binding */ makeParseableResponseFormat),\n/* harmony export */   makeParseableTextFormat: () => (/* binding */ makeParseableTextFormat),\n/* harmony export */   makeParseableTool: () => (/* binding */ makeParseableTool),\n/* harmony export */   maybeParseChatCompletion: () => (/* binding */ maybeParseChatCompletion),\n/* harmony export */   parseChatCompletion: () => (/* binding */ parseChatCompletion),\n/* harmony export */   shouldParseToolCall: () => (/* binding */ shouldParseToolCall),\n/* harmony export */   validateInputTools: () => (/* binding */ validateInputTools)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n\nfunction makeParseableResponseFormat(response_format, parser) {\n    const obj = {\n        ...response_format\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-response-format\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction makeParseableTextFormat(response_format, parser) {\n    const obj = {\n        ...response_format\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-response-format\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction isAutoParsableResponseFormat(response_format) {\n    return response_format?.[\"$brand\"] === \"auto-parseable-response-format\";\n}\nfunction makeParseableTool(tool, { parser, callback }) {\n    const obj = {\n        ...tool\n    };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: \"auto-parseable-tool\",\n            enumerable: false\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false\n        },\n        $callback: {\n            value: callback,\n            enumerable: false\n        }\n    });\n    return obj;\n}\nfunction isAutoParsableTool(tool) {\n    return tool?.[\"$brand\"] === \"auto-parseable-tool\";\n}\nfunction maybeParseChatCompletion(completion, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...completion,\n            choices: completion.choices.map((choice)=>({\n                    ...choice,\n                    message: {\n                        ...choice.message,\n                        parsed: null,\n                        ...choice.message.tool_calls ? {\n                            tool_calls: choice.message.tool_calls\n                        } : undefined\n                    }\n                }))\n        };\n    }\n    return parseChatCompletion(completion, params);\n}\nfunction parseChatCompletion(completion, params) {\n    const choices = completion.choices.map((choice)=>{\n        if (choice.finish_reason === \"length\") {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.LengthFinishReasonError();\n        }\n        if (choice.finish_reason === \"content_filter\") {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.ContentFilterFinishReasonError();\n        }\n        return {\n            ...choice,\n            message: {\n                ...choice.message,\n                ...choice.message.tool_calls ? {\n                    tool_calls: choice.message.tool_calls?.map((toolCall)=>parseToolCall(params, toolCall)) ?? undefined\n                } : undefined,\n                parsed: choice.message.content && !choice.message.refusal ? parseResponseFormat(params, choice.message.content) : null\n            }\n        };\n    });\n    return {\n        ...completion,\n        choices\n    };\n}\nfunction parseResponseFormat(params, content) {\n    if (params.response_format?.type !== \"json_schema\") {\n        return null;\n    }\n    if (params.response_format?.type === \"json_schema\") {\n        if (\"$parseRaw\" in params.response_format) {\n            const response_format = params.response_format;\n            return response_format.$parseRaw(content);\n        }\n        return JSON.parse(content);\n    }\n    return null;\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = params.tools?.find((inputTool)=>inputTool.function?.name === toolCall.function.name);\n    return {\n        ...toolCall,\n        function: {\n            ...toolCall.function,\n            parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments) : inputTool?.function.strict ? JSON.parse(toolCall.function.arguments) : null\n        }\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = params.tools?.find((inputTool)=>inputTool.function?.name === toolCall.function.name);\n    return isAutoParsableTool(inputTool) || inputTool?.function.strict || false;\n}\nfunction hasAutoParseableInput(params) {\n    if (isAutoParsableResponseFormat(params.response_format)) {\n        return true;\n    }\n    return params.tools?.some((t)=>isAutoParsableTool(t) || t.type === \"function\" && t.function.strict === true) ?? false;\n}\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []){\n        if (tool.type !== \"function\") {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_0__.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n} //# sourceMappingURL=parser.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3BhcnNlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0c7QUFDN0YsU0FBU0csNEJBQTRCQyxlQUFlLEVBQUVDLE1BQU07SUFDL0QsTUFBTUMsTUFBTTtRQUFFLEdBQUdGLGVBQWU7SUFBQztJQUNqQ0csT0FBT0MsZ0JBQWdCLENBQUNGLEtBQUs7UUFDekJHLFFBQVE7WUFDSkMsT0FBTztZQUNQQyxZQUFZO1FBQ2hCO1FBQ0FDLFdBQVc7WUFDUEYsT0FBT0w7WUFDUE0sWUFBWTtRQUNoQjtJQUNKO0lBQ0EsT0FBT0w7QUFDWDtBQUNPLFNBQVNPLHdCQUF3QlQsZUFBZSxFQUFFQyxNQUFNO0lBQzNELE1BQU1DLE1BQU07UUFBRSxHQUFHRixlQUFlO0lBQUM7SUFDakNHLE9BQU9DLGdCQUFnQixDQUFDRixLQUFLO1FBQ3pCRyxRQUFRO1lBQ0pDLE9BQU87WUFDUEMsWUFBWTtRQUNoQjtRQUNBQyxXQUFXO1lBQ1BGLE9BQU9MO1lBQ1BNLFlBQVk7UUFDaEI7SUFDSjtJQUNBLE9BQU9MO0FBQ1g7QUFDTyxTQUFTUSw2QkFBNkJWLGVBQWU7SUFDeEQsT0FBT0EsaUJBQWlCLENBQUMsU0FBUyxLQUFLO0FBQzNDO0FBQ08sU0FBU1csa0JBQWtCQyxJQUFJLEVBQUUsRUFBRVgsTUFBTSxFQUFFWSxRQUFRLEVBQUc7SUFDekQsTUFBTVgsTUFBTTtRQUFFLEdBQUdVLElBQUk7SUFBQztJQUN0QlQsT0FBT0MsZ0JBQWdCLENBQUNGLEtBQUs7UUFDekJHLFFBQVE7WUFDSkMsT0FBTztZQUNQQyxZQUFZO1FBQ2hCO1FBQ0FDLFdBQVc7WUFDUEYsT0FBT0w7WUFDUE0sWUFBWTtRQUNoQjtRQUNBTyxXQUFXO1lBQ1BSLE9BQU9PO1lBQ1BOLFlBQVk7UUFDaEI7SUFDSjtJQUNBLE9BQU9MO0FBQ1g7QUFDTyxTQUFTYSxtQkFBbUJI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Q0MsSUFBSTtJQUN2RyxPQUFPMUIsbUJBQW1Cc0IsY0FBY0EsV0FBV0csU0FBU0ksVUFBVTtBQUMxRTtBQUNPLFNBQVN6QixzQkFBc0JELE1BQU07SUFDeEMsSUFBSVIsNkJBQTZCUSxPQUFPbEIsZUFBZSxHQUFHO1FBQ3RELE9BQU87SUFDWDtJQUNBLE9BQVFrQixPQUFPb0IsS0FBSyxFQUFFUSxLQUFLLENBQUNDLElBQU1oQyxtQkFBbUJnQyxNQUFPQSxFQUFFYixJQUFJLEtBQUssY0FBY2EsRUFBRVAsUUFBUSxDQUFDSSxNQUFNLEtBQUssU0FBVTtBQUN6SDtBQUNPLFNBQVNJLG1CQUFtQlYsS0FBSztJQUNwQyxLQUFLLE1BQU0xQixRQUFRMEIsU0FBUyxFQUFFLENBQUU7UUFDNUIsSUFBSTFCLEtBQUtzQixJQUFJLEtBQUssWUFBWTtZQUMxQixNQUFNLElBQUlwQyxtREFBV0EsQ0FBQyxDQUFDLHdFQUF3RSxFQUFFYyxLQUFLc0IsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsSDtRQUNBLElBQUl0QixLQUFLNEIsUUFBUSxDQUFDSSxNQUFNLEtBQUssTUFBTTtZQUMvQixNQUFNLElBQUk5QyxtREFBV0EsQ0FBQyxDQUFDLE1BQU0sRUFBRWMsS0FBSzRCLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDLDBGQUEwRixDQUFDO1FBQ2pKO0lBQ0o7QUFDSixFQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9saWIvcGFyc2VyLm1qcz9kM2UwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdChyZXNwb25zZV9mb3JtYXQsIHBhcnNlcikge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4ucmVzcG9uc2VfZm9ybWF0IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVRleHRGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVRvb2wodG9vbCwgeyBwYXJzZXIsIGNhbGxiYWNrLCB9KSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi50b29sIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICAgICRicmFuZDoge1xuICAgICAgICAgICAgdmFsdWU6ICdhdXRvLXBhcnNlYWJsZS10b29sJyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJGNhbGxiYWNrOiB7XG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2ssXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0b1BhcnNhYmxlVG9vbCh0b29sKSB7XG4gICAgcmV0dXJuIHRvb2w/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS10b29sJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgIWhhc0F1dG9QYXJzZWFibGVJbnB1dChwYXJhbXMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jb21wbGV0aW9uLFxuICAgICAgICAgICAgY2hvaWNlczogY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmNob2ljZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlucHV0VG9vbC5mdW5jdGlvbj8ubmFtZSA9PT0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAuLi50b29sQ2FsbC5mdW5jdGlvbixcbiAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgOiBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRQYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpIHtcbiAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpO1xuICAgIHJldHVybiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSB8fCBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCB8fCBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0VG9vbHModG9vbHMpIHtcbiAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHMgPz8gW10pIHtcbiAgICAgICAgaWYgKHRvb2wudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBDdXJyZW50bHkgb25seSBcXGBmdW5jdGlvblxcYCB0b29sIHR5cGVzIHN1cHBvcnQgYXV0by1wYXJzaW5nOyBSZWNlaXZlZCBcXGAke3Rvb2wudHlwZX1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9vbC5mdW5jdGlvbi5zdHJpY3QgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgVGhlIFxcYCR7dG9vbC5mdW5jdGlvbi5uYW1lfVxcYCB0b29sIGlzIG5vdCBtYXJrZWQgd2l0aCBcXGBzdHJpY3Q6IHRydWVcXGAuIE9ubHkgc3RyaWN0IGZ1bmN0aW9uIHRvb2xzIGNhbiBiZSBhdXRvLXBhcnNlZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiXSwibmFtZXMiOlsiQ29udGVudEZpbHRlckZpbmlzaFJlYXNvbkVycm9yIiwiTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IiLCJPcGVuQUlFcnJvciIsIm1ha2VQYXJzZWFibGVSZXNwb25zZUZvcm1hdCIsInJlc3BvbnNlX2Zvcm1hdCIsInBhcnNlciIsIm9iaiIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCIkYnJhbmQiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCIkcGFyc2VSYXciLCJtYWtlUGFyc2VhYmxlVGV4dEZvcm1hdCIsImlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQiLCJtYWtlUGFyc2VhYmxlVG9vbCIsInRvb2wiLCJjYWxsYmFjayIsIiRjYWxsYmFjayIsImlzQXV0b1BhcnNhYmxlVG9vbCIsIm1heWJlUGFyc2VDaGF0Q29tcGxldGlvbiIsImNvbXBsZXRpb24iLCJwYXJhbXMiLCJoYXNBdXRvUGFyc2VhYmxlSW5wdXQiLCJjaG9pY2VzIiwibWFwIiwiY2hvaWNlIiwibWVzc2FnZSIsInBhcnNlZCIsInRvb2xfY2FsbHMiLCJ1bmRlZmluZWQiLCJwYXJzZUNoYXRDb21wbGV0aW9uIiwiZmluaXNoX3JlYXNvbiIsInRvb2xDYWxsIiwicGFyc2VUb29sQ2FsbCIsImNvbnRlbnQiLCJyZWZ1c2FsIiwicGFyc2VSZXNwb25zZUZvcm1hdCIsInR5cGUiLCJKU09OIiwicGFyc2UiLCJpbnB1dFRvb2wiLCJ0b29scyIsImZpbmQiLCJmdW5jdGlvbiIsIm5hbWUiLCJwYXJzZWRfYXJndW1lbnRzIiwiYXJndW1lbnRzIiwic3RyaWN0Iiwic2hvdWxkUGFyc2VUb29sQ2FsbCIsInNvbWUiLCJ0IiwidmFsaWRhdGVJbnB1dFRvb2xzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/responses/ResponseStream.mjs":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/responses/ResponseStream.mjs ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResponseStream: () => (/* binding */ ResponseStream)\n/* harmony export */ });\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/EventStream.mjs\");\n/* harmony import */ var _ResponsesParser_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResponsesParser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ResponsesParser.mjs\");\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ResponseStream_instances, _ResponseStream_params, _ResponseStream_currentResponseSnapshot, _ResponseStream_finalResponse, _ResponseStream_beginRequest, _ResponseStream_addEvent, _ResponseStream_endRequest, _ResponseStream_accumulateResponse;\n\n\n\nclass ResponseStream extends _EventStream_mjs__WEBPACK_IMPORTED_MODULE_0__.EventStream {\n    constructor(params){\n        super();\n        _ResponseStream_instances.add(this);\n        _ResponseStream_params.set(this, void 0);\n        _ResponseStream_currentResponseSnapshot.set(this, void 0);\n        _ResponseStream_finalResponse.set(this, void 0);\n        __classPrivateFieldSet(this, _ResponseStream_params, params, \"f\");\n    }\n    static createResponse(client, params, options) {\n        const runner = new ResponseStream(params);\n        runner._run(()=>runner._createResponse(client, params, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    \"X-Stainless-Helper-Method\": \"stream\"\n                }\n            }));\n        return runner;\n    }\n    async _createResponse(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted) this.controller.abort();\n            signal.addEventListener(\"abort\", ()=>this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_beginRequest).call(this);\n        const stream = await client.responses.create({\n            ...params,\n            stream: true\n        }, {\n            ...options,\n            signal: this.controller.signal\n        });\n        this._connected();\n        for await (const event of stream){\n            __classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIUserAbortError();\n        }\n        return __classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_endRequest).call(this);\n    }\n    [(_ResponseStream_params = new WeakMap(), _ResponseStream_currentResponseSnapshot = new WeakMap(), _ResponseStream_finalResponse = new WeakMap(), _ResponseStream_instances = new WeakSet(), _ResponseStream_beginRequest = function _ResponseStream_beginRequest() {\n        if (this.ended) return;\n        __classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, undefined, \"f\");\n    }, _ResponseStream_addEvent = function _ResponseStream_addEvent(event) {\n        if (this.ended) return;\n        const response = __classPrivateFieldGet(this, _ResponseStream_instances, \"m\", _ResponseStream_accumulateResponse).call(this, event);\n        this._emit(\"event\", event);\n        switch(event.type){\n            case \"response.output_text.delta\":\n                {\n                    const output = response.output[event.output_index];\n                    if (!output) {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing output at index ${event.output_index}`);\n                    }\n                    if (output.type === \"message\") {\n                        const content = output.content[event.content_index];\n                        if (!content) {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing content at index ${event.content_index}`);\n                        }\n                        if (content.type !== \"output_text\") {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`expected content to be 'output_text', got ${content.type}`);\n                        }\n                        this._emit(\"response.output_text.delta\", {\n                            ...event,\n                            snapshot: content.text\n                        });\n                    }\n                    break;\n                }\n            case \"response.function_call_arguments.delta\":\n                {\n                    const output = response.output[event.output_index];\n                    if (!output) {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing output at index ${event.output_index}`);\n                    }\n                    if (output.type === \"function_call\") {\n                        this._emit(\"response.function_call_arguments.delta\", {\n                            ...event,\n                            snapshot: output.arguments\n                        });\n                    }\n                    break;\n                }\n            default:\n                // @ts-ignore\n                this._emit(event.type, event);\n                break;\n        }\n    }, _ResponseStream_endRequest = function _ResponseStream_endRequest() {\n        if (this.ended) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ResponseStream_currentResponseSnapshot, \"f\");\n        if (!snapshot) {\n            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`request ended without sending any events`);\n        }\n        __classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, undefined, \"f\");\n        const parsedResponse = finalizeResponse(snapshot, __classPrivateFieldGet(this, _ResponseStream_params, \"f\"));\n        __classPrivateFieldSet(this, _ResponseStream_finalResponse, parsedResponse, \"f\");\n        return parsedResponse;\n    }, _ResponseStream_accumulateResponse = function _ResponseStream_accumulateResponse(event) {\n        let snapshot = __classPrivateFieldGet(this, _ResponseStream_currentResponseSnapshot, \"f\");\n        if (!snapshot) {\n            if (event.type !== \"response.created\") {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`When snapshot hasn't been set yet, expected 'response.created' event, got ${event.type}`);\n            }\n            snapshot = __classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, event.response, \"f\");\n            return snapshot;\n        }\n        switch(event.type){\n            case \"response.output_item.added\":\n                {\n                    snapshot.output.push(event.item);\n                    break;\n                }\n            case \"response.content_part.added\":\n                {\n                    const output = snapshot.output[event.output_index];\n                    if (!output) {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing output at index ${event.output_index}`);\n                    }\n                    if (output.type === \"message\") {\n                        output.content.push(event.part);\n                    }\n                    break;\n                }\n            case \"response.output_text.delta\":\n                {\n                    const output = snapshot.output[event.output_index];\n                    if (!output) {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing output at index ${event.output_index}`);\n                    }\n                    if (output.type === \"message\") {\n                        const content = output.content[event.content_index];\n                        if (!content) {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing content at index ${event.content_index}`);\n                        }\n                        if (content.type !== \"output_text\") {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`expected content to be 'output_text', got ${content.type}`);\n                        }\n                        content.text += event.delta;\n                    }\n                    break;\n                }\n            case \"response.function_call_arguments.delta\":\n                {\n                    const output = snapshot.output[event.output_index];\n                    if (!output) {\n                        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`missing output at index ${event.output_index}`);\n                    }\n                    if (output.type === \"function_call\") {\n                        output.arguments += event.delta;\n                    }\n                    break;\n                }\n            case \"response.completed\":\n                {\n                    __classPrivateFieldSet(this, _ResponseStream_currentResponseSnapshot, event.response, \"f\");\n                    break;\n                }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on(\"event\", (event)=>{\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            } else {\n                pushQueue.push(event);\n            }\n        });\n        this.on(\"end\", ()=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"abort\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on(\"error\", (err)=>{\n            done = true;\n            for (const reader of readQueue){\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async ()=>{\n                if (!pushQueue.length) {\n                    if (done) {\n                        return {\n                            value: undefined,\n                            done: true\n                        };\n                    }\n                    return new Promise((resolve, reject)=>readQueue.push({\n                            resolve,\n                            reject\n                        })).then((event)=>event ? {\n                            value: event,\n                            done: false\n                        } : {\n                            value: undefined,\n                            done: true\n                        });\n                }\n                const event = pushQueue.shift();\n                return {\n                    value: event,\n                    done: false\n                };\n            },\n            return: async ()=>{\n                this.abort();\n                return {\n                    value: undefined,\n                    done: true\n                };\n            }\n        };\n    }\n    /**\n     * @returns a promise that resolves with the final Response, or rejects\n     * if an error occurred or the stream ended prematurely without producing a REsponse.\n     */ async finalResponse() {\n        await this.done();\n        const response = __classPrivateFieldGet(this, _ResponseStream_finalResponse, \"f\");\n        if (!response) throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(\"stream ended without producing a ChatCompletion\");\n        return response;\n    }\n}\nfunction finalizeResponse(snapshot, params) {\n    return (0,_ResponsesParser_mjs__WEBPACK_IMPORTED_MODULE_2__.maybeParseResponse)(snapshot, params);\n} //# sourceMappingURL=ResponseStream.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUlBLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLENBQUM7SUFDM0csSUFBSUQsU0FBUyxLQUFLLE1BQU0sSUFBSUUsVUFBVTtJQUN0QyxJQUFJRixTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU8sU0FBVSxNQUFNRCxFQUFFRyxJQUFJLENBQUNQLFVBQVVFLFNBQVNFLElBQUlBLEVBQUVGLEtBQUssR0FBR0EsUUFBUUQsTUFBTU8sR0FBRyxDQUFDUixVQUFVRSxRQUFTQTtBQUN4RztBQUNBLElBQUlPLHlCQUF5QixTQUFLLElBQUksU0FBSSxDQUFDQSxzQkFBc0IsSUFBSyxTQUFVVCxRQUFRLEVBQUVDLEtBQUssRUFBRUUsSUFBSSxFQUFFQyxDQUFDO0lBQ3BHLElBQUlELFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9KLFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRyxJQUFJLENBQUNILE1BQU1LLEdBQUcsQ0FBQ04sV0FBVyxNQUFNLElBQUlLLFVBQVU7SUFDdkcsT0FBT0YsU0FBUyxNQUFNQyxJQUFJRCxTQUFTLE1BQU1DLEVBQUVHLElBQUksQ0FBQ1AsWUFBWUksSUFBSUEsRUFBRUYsS0FBSyxHQUFHRCxNQUFNUyxHQUFHLENBQUNWO0FBQ3hGO0FBQ0Es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QUV6QyxPQUFPeUM7NEJBQU95QixNQUFNO3dCQUFNLElBQUk7NEJBQUVsRSxPQUFPNkM7NEJBQVdxQixNQUFNO3dCQUFLO2dCQUN6SztnQkFDQSxNQUFNekIsUUFBUXVCLFVBQVVLLEtBQUs7Z0JBQzdCLE9BQU87b0JBQUVyRSxPQUFPeUM7b0JBQU95QixNQUFNO2dCQUFNO1lBQ3ZDO1lBQ0FXLFFBQVE7Z0JBQ0osSUFBSSxDQUFDMUMsS0FBSztnQkFDVixPQUFPO29CQUFFbkMsT0FBTzZDO29CQUFXcUIsTUFBTTtnQkFBSztZQUMxQztRQUNKO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRCxNQUFNWSxnQkFBZ0I7UUFDbEIsTUFBTSxJQUFJLENBQUNaLElBQUk7UUFDZixNQUFNcEIsV0FBV3ZDLHVCQUF1QixJQUFJLEVBQUVLLCtCQUErQjtRQUM3RSxJQUFJLENBQUNrQyxVQUNELE1BQU0sSUFBSTVCLG1EQUFXQSxDQUFDO1FBQzFCLE9BQU80QjtJQUNYO0FBQ0o7QUFDQSxTQUFTVyxpQkFBaUJKLFFBQVEsRUFBRTlCLE1BQU07SUFDdEMsT0FBT0gsd0VBQWtCQSxDQUFDaUMsVUFBVTlCO0FBQ3hDLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9yZXNwb25zZXMvUmVzcG9uc2VTdHJlYW0ubWpzPzdiYTciXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fY2xhc3NQcml2YXRlRmllbGRTZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRTZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufTtcbnZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59O1xudmFyIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMsIF9SZXNwb25zZVN0cmVhbV9wYXJhbXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UsIF9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QsIF9SZXNwb25zZVN0cmVhbV9hZGRFdmVudCwgX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QsIF9SZXNwb25zZVN0cmVhbV9hY2N1bXVsYXRlUmVzcG9uc2U7XG5pbXBvcnQgeyBBUElVc2VyQWJvcnRFcnJvciwgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBFdmVudFN0cmVhbSB9IGZyb20gXCIuLi9FdmVudFN0cmVhbS5tanNcIjtcbmltcG9ydCB7IG1heWJlUGFyc2VSZXNwb25zZSB9IGZyb20gXCIuLi9SZXNwb25zZXNQYXJzZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgUmVzcG9uc2VTdHJlYW0gZXh0ZW5kcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1fcGFyYW1zLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9SZXNwb25zZVN0cmVhbV9maW5hbFJlc3BvbnNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9wYXJhbXMsIHBhcmFtcywgXCJmXCIpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlUmVzcG9uc2UoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IFJlc3BvbnNlU3RyZWFtKHBhcmFtcyk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fY3JlYXRlUmVzcG9uc2UoY2xpZW50LCBwYXJhbXMsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3N0cmVhbScgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlUmVzcG9uc2UoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgY2xpZW50LnJlc3BvbnNlcy5jcmVhdGUoeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgZXZlbnQgb2Ygc3RyZWFtKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfUmVzcG9uc2VTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgWyhfUmVzcG9uc2VTdHJlYW1fcGFyYW1zID0gbmV3IFdlYWtNYXAoKSwgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90ID0gbmV3IFdlYWtNYXAoKSwgX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UgPSBuZXcgV2Vha01hcCgpLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCA9IGZ1bmN0aW9uIF9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgfSwgX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50ID0gZnVuY3Rpb24gX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9SZXNwb25zZVN0cmVhbV9hY2N1bXVsYXRlUmVzcG9uc2UpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB0aGlzLl9lbWl0KCdldmVudCcsIGV2ZW50KTtcbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSByZXNwb25zZS5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnRbZXZlbnQuY29udGVudF9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNvbnRlbnQgYXQgaW5kZXggJHtldmVudC5jb250ZW50X2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgZXhwZWN0ZWQgY29udGVudCB0byBiZSAnb3V0cHV0X3RleHQnLCBnb3QgJHtjb250ZW50LnR5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjb250ZW50LnRleHQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogb3V0cHV0LmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChldmVudC50eXBlLCBldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCBfUmVzcG9uc2VTdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9SZXNwb25zZVN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCBcImZcIik7XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgcmVxdWVzdCBlbmRlZCB3aXRob3V0IHNlbmRpbmcgYW55IGV2ZW50c2ApO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBmaW5hbGl6ZVJlc3BvbnNlKHNuYXBzaG90LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9wYXJhbXMsIFwiZlwiKSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UsIHBhcnNlZFJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgIHJldHVybiBwYXJzZWRSZXNwb25zZTtcbiAgICB9LCBfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZShldmVudCkge1xuICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBXaGVuIHNuYXBzaG90IGhhc24ndCBiZWVuIHNldCB5ZXQsIGV4cGVjdGVkICdyZXNwb25zZS5jcmVhdGVkJyBldmVudCwgZ290ICR7ZXZlbnQudHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIGV2ZW50LnJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCc6IHtcbiAgICAgICAgICAgICAgICBzbmFwc2hvdC5vdXRwdXQucHVzaChldmVudC5pdGVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmNvbnRlbnRfcGFydC5hZGRlZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuY29udGVudC5wdXNoKGV2ZW50LnBhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLm91dHB1dF90ZXh0LmRlbHRhJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHNuYXBzaG90Lm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBvdXRwdXQuY29udGVudFtldmVudC5jb250ZW50X2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY29udGVudCBhdCBpbmRleCAke2V2ZW50LmNvbnRlbnRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSAhPT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBleHBlY3RlZCBjb250ZW50IHRvIGJlICdvdXRwdXRfdGV4dCcsIGdvdCAke2NvbnRlbnQudHlwZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHQgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gc25hcHNob3Qub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmFyZ3VtZW50cyArPSBldmVudC5kZWx0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5jb21wbGV0ZWQnOiB7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIGV2ZW50LnJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgIH0sIFN5bWJvbC5hc3luY0l0ZXJhdG9yKV0oKSB7XG4gICAgICAgIGNvbnN0IHB1c2hRdWV1ZSA9IFtdO1xuICAgICAgICBjb25zdCByZWFkUXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbignZXZlbnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2hRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSkpLnRoZW4oKGV2ZW50KSA9PiAoZXZlbnQgPyB7IHZhbHVlOiBldmVudCwgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gcHVzaFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGV2ZW50LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBmaW5hbCBSZXNwb25zZSwgb3IgcmVqZWN0c1xuICAgICAqIGlmIGFuIGVycm9yIG9jY3VycmVkIG9yIHRoZSBzdHJlYW0gZW5kZWQgcHJlbWF0dXJlbHkgd2l0aG91dCBwcm9kdWNpbmcgYSBSRXNwb25zZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbFJlc3BvbnNlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9maW5hbFJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgIGlmICghcmVzcG9uc2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uJyk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5hbGl6ZVJlc3BvbnNlKHNuYXBzaG90LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbWF5YmVQYXJzZVJlc3BvbnNlKHNuYXBzaG90LCBwYXJhbXMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzcG9uc2VTdHJlYW0ubWpzLm1hcCJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsInZhbHVlIiwia2luZCIsImYiLCJUeXBlRXJyb3IiLCJoYXMiLCJjYWxsIiwic2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsImdldCIsIl9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMiLCJfUmVzcG9uc2VTdHJlYW1fcGFyYW1zIiwiX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90IiwiX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UiLCJfUmVzcG9uc2VTdHJlYW1fYmVnaW5SZXF1ZXN0IiwiX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50IiwiX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QiLCJfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlIiwiQVBJVXNlckFib3J0RXJyb3IiLCJPcGVuQUlFcnJvciIsIkV2ZW50U3RyZWFtIiwibWF5YmVQYXJzZVJlc3BvbnNlIiwiUmVzcG9uc2VTdHJlYW0iLCJjb25zdHJ1Y3RvciIsInBhcmFtcyIsImFkZCIsImNyZWF0ZVJlc3BvbnNlIiwiY2xpZW50Iiwib3B0aW9ucyIsInJ1bm5lciIsIl9ydW4iLCJfY3JlYXRlUmVzcG9uc2UiLCJoZWFkZXJzIiwic2lnbmFsIiwiYWJvcnRlZCIsImNvbnRyb2xsZXIiLCJhYm9ydCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHJlYW0iLCJyZXNwb25zZXMiLCJjcmVhdGUiLCJfY29ubmVjdGVkIiwiZXZlbnQiLCJXZWFrTWFwIiwiV2Vha1NldCIsImVuZGVkIiwidW5kZWZpbmVkIiwicmVzcG9uc2UiLCJfZW1pdCIsInR5cGUiLCJvdXRwdXQiLCJvdXRwdXRfaW5kZXgiLCJjb250ZW50IiwiY29udGVudF9pbmRleCIsInNuYXBzaG90IiwidGV4dCIsImFyZ3VtZW50cyIsInBhcnNlZFJlc3BvbnNlIiwiZmluYWxpemVSZXNwb25zZSIsInB1c2giLCJpdGVtIiwicGFydCIsImRlbHRhIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInB1c2hRdWV1ZSIsInJlYWRRdWV1ZSIsImRvbmUiLCJvbiIsInJlYWRlciIsInNoaWZ0IiwicmVzb2x2ZSIsImxlbmd0aCIsImVyciIsInJlamVjdCIsIm5leHQiLCJQcm9taXNlIiwidGhlbiIsInJldHVybiIsImZpbmFsUmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/responses/ResponseStream.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CursorPage: () => (/* binding */ CursorPage),\n/* harmony export */   Page: () => (/* binding */ Page)\n/* harmony export */ });\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class Page extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractPage {\n    constructor(client, response, body, options){\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    /**\n     * This page represents a response that isn't actually paginated at the API level\n     * so there will never be any next page params.\n     */ nextPageParams() {\n        return null;\n    }\n    nextPageInfo() {\n        return null;\n    }\n}\nclass CursorPage extends _core_mjs__WEBPACK_IMPORTED_MODULE_0__.AbstractPage {\n    constructor(client, response, body, options){\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.has_more = body.has_more || false;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    hasNextPage() {\n        if (this.has_more === false) {\n            return false;\n        }\n        return super.hasNextPage();\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    nextPageParams() {\n        const info = this.nextPageInfo();\n        if (!info) return null;\n        if (\"params\" in info) return info.params;\n        const params = Object.fromEntries(info.url.searchParams);\n        if (!Object.keys(params).length) return null;\n        return params;\n    }\n    nextPageInfo() {\n        const data = this.getPaginatedItems();\n        if (!data.length) {\n            return null;\n        }\n        const id = data[data.length - 1]?.id;\n        if (!id) {\n            return null;\n        }\n        return {\n            params: {\n                after: id\n            }\n        };\n    }\n} //# sourceMappingURL=pagination.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcGFnaW5hdGlvbi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQzVDO0FBQzFDOztDQUVDLEdBQ00sTUFBTUMsYUFBYUQsbURBQVlBO0lBQ2xDRSxZQUFZQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLENBQUU7UUFDekMsS0FBSyxDQUFDSCxRQUFRQyxVQUFVQyxNQUFNQztRQUM5QixJQUFJLENBQUNDLElBQUksR0FBR0YsS0FBS0UsSUFBSSxJQUFJLEVBQUU7UUFDM0IsSUFBSSxDQUFDQyxNQUFNLEdBQUdILEtBQUtHLE1BQU07SUFDN0I7SUFDQUMsb0JBQW9CO1FBQ2hCLE9BQU8sSUFBSSxDQUFDRixJQUFJLElBQUksRUFBRTtJQUMxQjtJQUNBLGtEQUFrRDtJQUNsRDs7O0tBR0MsR0FDREcsaUJBQWlCO1FBQ2IsT0FBTztJQUNYO0lBQ0FDLGVBQWU7UUFDWCxPQUFPO0lBQ1g7QUFDSjtBQUNPLE1BQU1DLG1CQUFtQlosbURBQVlBO0lBQ3hDRSxZQUFZQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLENBQUU7UUFDekMsS0FBSyxDQUFDSCxRQUFRQyxVQUFVQyxNQUFNQztRQUM5QixJQUFJLENBQUNDLElBQUksR0FBR0YsS0FBS0UsSUFBSSxJQUFJLEVBQUU7UUFDM0IsSUFBSSxDQUFDTSxRQUFRLEdBQUdSLEtBQUtRLFFBQVEsSUFBSTtJQUNyQztJQUNBSixvQkFBb0I7UUFDaEIsT0FBTyxJQUFJLENBQUNGLElBQUksSUFBSSxFQUFFO0lBQzFCO0lBQ0FPLGNBQWM7UUFDVixJQUFJLElBQUksQ0FBQ0QsUUFBUSxLQUFLLE9BQU87WUFDekIsT0FBTztRQUNYO1FBQ0EsT0FBTyxLQUFLLENBQUNDO0lBQ2pCO0lBQ0Esa0RBQWtEO0lBQ2xESixpQkFBaUI7UUFDYixNQUFNSyxPQUFPLElBQUksQ0FBQ0osWUFBWTtRQUM5QixJQUFJLENBQUNJLE1BQ0QsT0FBTztRQUNYLElBQUksWUFBWUEsTUFDWixPQUFPQSxLQUFLQyxNQUFNO1FBQ3RCLE1BQU1BLFNBQVNDLE9BQU9DLFdBQVcsQ0FBQ0gsS0FBS0ksR0FBRyxDQUFDQyxZQUFZO1FBQ3ZELElBQUksQ0FBQ0gsT0FBT0ksSUFBSSxDQUFDTCxRQUFRTSxNQUFNLEVBQzNCLE9BQU87UUFDWCxPQUFPTjtJQUNYO0lBQ0FMLGVBQWU7UUFDWCxNQUFNSixPQUFPLElBQUksQ0FBQ0UsaUJBQWlCO1FBQ25DLElBQUksQ0FBQ0YsS0FBS2UsTUFBTSxFQUFFO1lBQ2QsT0FBTztRQUNYO1FBQ0EsTUFBTUMsS0FBS2hCLElBQUksQ0FBQ0EsS0FBS2UsTUFBTSxHQUFHLEVBQUUsRUFBRUM7UUFDbEMsSUFBSSxDQUFDQSxJQUFJO1lBQ0wsT0FBTztRQUNYO1FBQ0EsT0FBTztZQUFFUCxRQUFRO2dCQUFFUSxPQUFPRDtZQUFHO1FBQUU7SUFDbkM7QUFDSixFQUNBLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9wYWdpbmF0aW9uLm1qcz9hZjQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBYnN0cmFjdFBhZ2UgfSBmcm9tIFwiLi9jb3JlLm1qc1wiO1xuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlIGV4dGVuZHMgQWJzdHJhY3RQYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBib2R5LmRhdGEgfHwgW107XG4gICAgICAgIHRoaXMub2JqZWN0ID0gYm9keS5vYmplY3Q7XG4gICAgfVxuICAgIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICAgIH1cbiAgICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAgIC8qKlxuICAgICAqIFRoaXMgcGFnZSByZXByZXNlbnRzIGEgcmVzcG9uc2UgdGhhdCBpc24ndCBhY3R1YWxseSBwYWdpbmF0ZWQgYXQgdGhlIEFQSSBsZXZlbFxuICAgICAqIHNvIHRoZXJlIHdpbGwgbmV2ZXIgYmUgYW55IG5leHQgcGFnZSBwYXJhbXMuXG4gICAgICovXG4gICAgbmV4dFBhZ2VQYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBuZXh0UGFnZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXJzb3JQYWdlIGV4dGVuZHMgQWJzdHJhY3RQYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBib2R5LmRhdGEgfHwgW107XG4gICAgICAgIHRoaXMuaGFzX21vcmUgPSBib2R5Lmhhc19tb3JlIHx8IGZhbHNlO1xuICAgIH1cbiAgICBnZXRQYWdpbmF0ZWRJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSA/PyBbXTtcbiAgICB9XG4gICAgaGFzTmV4dFBhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc19tb3JlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5oYXNOZXh0UGFnZSgpO1xuICAgIH1cbiAgICAvLyBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGBuZXh0UGFnZUluZm8oKWAgaW5zdGVhZFxuICAgIG5leHRQYWdlUGFyYW1zKCkge1xuICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5uZXh0UGFnZUluZm8oKTtcbiAgICAgICAgaWYgKCFpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgncGFyYW1zJyBpbiBpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIGluZm8ucGFyYW1zO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuZnJvbUVudHJpZXMoaW5mby51cmwuc2VhcmNoUGFyYW1zKTtcbiAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBuZXh0UGFnZUluZm8oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldFBhZ2luYXRlZEl0ZW1zKCk7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlkID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdPy5pZDtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcGFyYW1zOiB7IGFmdGVyOiBpZCB9IH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnaW5hdGlvbi5tanMubWFwIl0sIm5hbWVzIjpbIkFic3RyYWN0UGFnZSIsIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImNsaWVudCIsInJlc3BvbnNlIiwiYm9keSIsIm9wdGlvbnMiLCJkYXRhIiwib2JqZWN0IiwiZ2V0UGFnaW5hdGVkSXRlbXMiLCJuZXh0UGFnZVBhcmFtcyIsIm5leHRQYWdlSW5mbyIsIkN1cnNvclBhZ2UiLCJoYXNfbW9yZSIsImhhc05leHRQYWdlIiwiaW5mbyIsInBhcmFtcyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwidXJsIiwic2VhcmNoUGFyYW1zIiwia2V5cyIsImxlbmd0aCIsImlkIiwiYWZ0ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APIResource: () => (/* binding */ APIResource)\n/* harmony export */ });\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nclass APIResource {\n    constructor(client){\n        this._client = client;\n    }\n} //# sourceMappingURL=resource.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2UubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxzRkFBc0Y7QUFDL0UsTUFBTUE7SUFDVEMsWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLElBQUksQ0FBQ0MsT0FBTyxHQUFHRDtJQUNuQjtBQUNKLEVBQ0EscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlLm1qcz8xNzc3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5leHBvcnQgY2xhc3MgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLl9jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImNvbnN0cnVjdG9yIiwiY2xpZW50IiwiX2NsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/audio.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/audio.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Audio: () => (/* binding */ Audio)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _speech_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./speech.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/speech.mjs\");\n/* harmony import */ var _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./transcriptions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/transcriptions.mjs\");\n/* harmony import */ var _translations_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./translations.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/translations.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Audio extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.transcriptions = new _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__.Transcriptions(this._client);\n        this.translations = new _translations_mjs__WEBPACK_IMPORTED_MODULE_2__.Translations(this._client);\n        this.speech = new _speech_mjs__WEBPACK_IMPORTED_MODULE_3__.Speech(this._client);\n    }\n}\nAudio.Transcriptions = _transcriptions_mjs__WEBPACK_IMPORTED_MODULE_1__.Transcriptions;\nAudio.Translations = _translations_mjs__WEBPACK_IMPORTED_MODULE_2__.Translations;\nAudio.Speech = _speech_mjs__WEBPACK_IMPORTED_MODULE_3__.Speech; //# sourceMappingURL=audio.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNQO0FBQ0o7QUFDb0I7QUFDSDtBQUNEO0FBQ0g7QUFDNUMsTUFBTU8sY0FBY1Asc0RBQVdBO0lBQ2xDUSxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsY0FBYyxHQUFHLElBQUlQLCtEQUFnQyxDQUFDLElBQUksQ0FBQ1EsT0FBTztRQUN2RSxJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJUCwyREFBNEIsQ0FBQyxJQUFJLENBQUNNLE9BQU87UUFDakUsSUFBSSxDQUFDRSxNQUFNLEdBQUcsSUFBSVosK0NBQWdCLENBQUMsSUFBSSxDQUFDVSxPQUFPO0lBQ25EO0FBQ0o7QUFDQUosTUFBTUgsY0FBYyxHQUFHQSwrREFBY0E7QUFDckNHLE1BQU1ELFlBQVksR0FBR0EsMkRBQVlBO0FBQ2pDQyxNQUFNTCxNQUFNLEdBQUdBLCtDQUFNQSxFQUNyQixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qcz8xMzJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFNwZWVjaEFQSSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgeyBTcGVlY2ggfSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgKiBhcyBUcmFuc2NyaXB0aW9uc0FQSSBmcm9tIFwiLi90cmFuc2NyaXB0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zLCB9IGZyb20gXCIuL3RyYW5zY3JpcHRpb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNsYXRpb25zQVBJIGZyb20gXCIuL3RyYW5zbGF0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zbGF0aW9ucywgfSBmcm9tIFwiLi90cmFuc2xhdGlvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHJhbnNjcmlwdGlvbnMgPSBuZXcgVHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvbnModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnNwZWVjaCA9IG5ldyBTcGVlY2hBUEkuU3BlZWNoKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQXVkaW8uVHJhbnNjcmlwdGlvbnMgPSBUcmFuc2NyaXB0aW9ucztcbkF1ZGlvLlRyYW5zbGF0aW9ucyA9IFRyYW5zbGF0aW9ucztcbkF1ZGlvLlNwZWVjaCA9IFNwZWVjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJTcGVlY2hBUEkiLCJTcGVlY2giLCJUcmFuc2NyaXB0aW9uc0FQSSIsIlRyYW5zY3JpcHRpb25zIiwiVHJhbnNsYXRpb25zQVBJIiwiVHJhbnNsYXRpb25zIiwiQXVkaW8iLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInRyYW5zY3JpcHRpb25zIiwiX2NsaWVudCIsInRyYW5zbGF0aW9ucyIsInNwZWVjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/audio.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/speech.mjs":
/*!****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/speech.mjs ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Speech: () => (/* binding */ Speech)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Speech extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Generates audio from the input text.\n     */ create(body, options) {\n        return this._client.post(\"/audio/speech\", {\n            body,\n            ...options,\n            headers: {\n                Accept: \"application/octet-stream\",\n                ...options?.headers\n            },\n            __binaryResponse: true\n        });\n    }\n} //# sourceMappingURL=speech.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3NwZWVjaC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDMUMsTUFBTUMsZUFBZUQsc0RBQVdBO0lBQ25DOztLQUVDLEdBQ0RFLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxpQkFBaUI7WUFDdENIO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFQyxRQUFRO2dCQUE0QixHQUFHSixTQUFTRyxPQUFPO1lBQUM7WUFDbkVFLGtCQUFrQjtRQUN0QjtJQUNKO0FBQ0osRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3NwZWVjaC5tanM/ODQ0YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgU3BlZWNoIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhdWRpbyBmcm9tIHRoZSBpbnB1dCB0ZXh0LlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2F1ZGlvL3NwZWVjaCcsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgICAgICBfX2JpbmFyeVJlc3BvbnNlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGVlY2gubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIlNwZWVjaCIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJoZWFkZXJzIiwiQWNjZXB0IiwiX19iaW5hcnlSZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/speech.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/transcriptions.mjs":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/transcriptions.mjs ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Transcriptions: () => (/* binding */ Transcriptions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Transcriptions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/audio/transcriptions\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options,\n            stream: body.stream ?? false,\n            __metadata: {\n                model: body.model\n            }\n        }));\n    }\n} //# sourceMappingURL=transcriptions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDVjtBQUNoQyxNQUFNRSx1QkFBdUJGLHNEQUFXQTtJQUMzQ0csT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLHlCQUF5Qk4sa0VBQWdDLENBQUM7WUFDL0VHO1lBQ0EsR0FBR0MsT0FBTztZQUNWSSxRQUFRTCxLQUFLSyxNQUFNLElBQUk7WUFDdkJDLFlBQVk7Z0JBQUVDLE9BQU9QLEtBQUtPLEtBQUs7WUFBQztRQUNwQztJQUNKO0FBQ0osRUFDQSwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zY3JpcHRpb25zLm1qcz8yMDk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYXVkaW8vdHJhbnNjcmlwdGlvbnMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgICAgICBfX21ldGFkYXRhOiB7IG1vZGVsOiBib2R5Lm1vZGVsIH0sXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2NyaXB0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29yZSIsIlRyYW5zY3JpcHRpb25zIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsInN0cmVhbSIsIl9fbWV0YWRhdGEiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/transcriptions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/translations.mjs":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/translations.mjs ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Translations: () => (/* binding */ Translations)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Translations extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/audio/translations\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options,\n            __metadata: {\n                model: body.model\n            }\n        }));\n    }\n} //# sourceMappingURL=translations.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3RyYW5zbGF0aW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ1Y7QUFDaEMsTUFBTUUscUJBQXFCRixzREFBV0E7SUFDekNHLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyx1QkFBdUJOLGtFQUFnQyxDQUFDO1lBQUVHO1lBQU0sR0FBR0MsT0FBTztZQUFFSSxZQUFZO2dCQUFFQyxPQUFPTixLQUFLTSxLQUFLO1lBQUM7UUFBRTtJQUMzSTtBQUNKLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzP2Q4NjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYXVkaW8vdHJhbnNsYXRpb25zJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zLCBfX21ldGFkYXRhOiB7IG1vZGVsOiBib2R5Lm1vZGVsIH0gfSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zbGF0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29yZSIsIlRyYW5zbGF0aW9ucyIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJfX21ldGFkYXRhIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/audio/translations.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/batches.mjs":
/*!***********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/batches.mjs ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Batches: () => (/* binding */ Batches),\n/* harmony export */   BatchesPage: () => (/* binding */ BatchesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Batches extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates and executes a batch from an uploaded file of requests\n     */ create(body, options) {\n        return this._client.post(\"/batches\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Retrieves a batch.\n     */ retrieve(batchId, options) {\n        return this._client.get(`/batches/${batchId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/batches\", BatchesPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Cancels an in-progress batch. The batch will be in status `cancelling` for up to\n     * 10 minutes, before changing to `cancelled`, where it will have partial results\n     * (if any) available in the output file.\n     */ cancel(batchId, options) {\n        return this._client.post(`/batches/${batchId}/cancel`, options);\n    }\n}\nclass BatchesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nBatches.BatchesPage = BatchesPage; //# sourceMappingURL=batches.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JhdGNoZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3hDO0FBQ0M7QUFDQTtBQUN4QyxNQUFNRyxnQkFBZ0JILHNEQUFXQTtJQUNwQzs7S0FFQyxHQUNESSxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsWUFBWTtZQUFFSDtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUM1RDtJQUNBOztLQUVDLEdBQ0RHLFNBQVNDLE9BQU8sRUFBRUosT0FBTyxFQUFFO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRUQsUUFBUSxDQUFDLEVBQUVKO0lBQ25EO0lBQ0FNLEtBQUtDLFFBQVEsQ0FBQyxDQUFDLEVBQUVQLE9BQU8sRUFBRTtRQUN0QixJQUFJTCwyREFBZ0JBLENBQUNZLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNOLE9BQU8sQ0FBQ08sVUFBVSxDQUFDLFlBQVlDLGFBQWE7WUFBRUY7WUFBTyxHQUFHUCxPQUFPO1FBQUM7SUFDaEY7SUFDQTs7OztLQUlDLEdBQ0RVLE9BQU9OLE9BQU8sRUFBRUosT0FBTyxFQUFFO1FBQ3JCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUUsUUFBUSxPQUFPLENBQUMsRUFBRUo7SUFDM0Q7QUFDSjtBQUNPLE1BQU1TLG9CQUFvQmIsdURBQVVBO0FBQzNDO0FBQ0FDLFFBQVFZLFdBQVcsR0FBR0EsYUFDdEIsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iYXRjaGVzLm1qcz9iZDdjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIGV4ZWN1dGVzIGEgYmF0Y2ggZnJvbSBhbiB1cGxvYWRlZCBmaWxlIG9mIHJlcXVlc3RzXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvYmF0Y2hlcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgYmF0Y2guXG4gICAgICovXG4gICAgcmV0cmlldmUoYmF0Y2hJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2JhdGNoZXMvJHtiYXRjaElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvYmF0Y2hlcycsIEJhdGNoZXNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGFuIGluLXByb2dyZXNzIGJhdGNoLiBUaGUgYmF0Y2ggd2lsbCBiZSBpbiBzdGF0dXMgYGNhbmNlbGxpbmdgIGZvciB1cCB0b1xuICAgICAqIDEwIG1pbnV0ZXMsIGJlZm9yZSBjaGFuZ2luZyB0byBgY2FuY2VsbGVkYCwgd2hlcmUgaXQgd2lsbCBoYXZlIHBhcnRpYWwgcmVzdWx0c1xuICAgICAqIChpZiBhbnkpIGF2YWlsYWJsZSBpbiB0aGUgb3V0cHV0IGZpbGUuXG4gICAgICovXG4gICAgY2FuY2VsKGJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvYmF0Y2hlcy8ke2JhdGNoSWR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXRjaGVzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuQmF0Y2hlcy5CYXRjaGVzUGFnZSA9IEJhdGNoZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmF0Y2hlcy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsIkN1cnNvclBhZ2UiLCJCYXRjaGVzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsInJldHJpZXZlIiwiYmF0Y2hJZCIsImdldCIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJCYXRjaGVzUGFnZSIsImNhbmNlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/batches.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/assistants.mjs":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/assistants.mjs ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Assistants: () => (/* binding */ Assistants),\n/* harmony export */   AssistantsPage: () => (/* binding */ AssistantsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\nclass Assistants extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create an assistant with a model and instructions.\n     */ create(body, options) {\n        return this._client.post(\"/assistants\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     */ retrieve(assistantId, options) {\n        return this._client.get(`/assistants/${assistantId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies an assistant.\n     */ update(assistantId, body, options) {\n        return this._client.post(`/assistants/${assistantId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/assistants\", AssistantsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete an assistant.\n     */ del(assistantId, options) {\n        return this._client.delete(`/assistants/${assistantId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass AssistantsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nAssistants.AssistantsPage = AssistantsPage; //# sourceMappingURL=assistants.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvYXNzaXN0YW50cy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDQztBQUNBO0FBQ2M7QUFDekQsTUFBTUksbUJBQW1CSixzREFBV0E7SUFDdkM7O0tBRUMsR0FDREssT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGVBQWU7WUFDcENIO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU0MsV0FBVyxFQUFFTCxPQUFPLEVBQUU7UUFDM0IsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFRCxZQUFZLENBQUMsRUFBRTtZQUNsRCxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESSxPQUFPRixXQUFXLEVBQUVOLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQy9CLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRUcsWUFBWSxDQUFDLEVBQUU7WUFDbkROO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0FLLEtBQUtDLFFBQVEsQ0FBQyxDQUFDLEVBQUVULE9BQU8sRUFBRTtRQUN0QixJQUFJTiwyREFBZ0JBLENBQUNlLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNSLE9BQU8sQ0FBQ1MsVUFBVSxDQUFDLGVBQWVDLGdCQUFnQjtZQUMxREY7WUFDQSxHQUFHVCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNEUyxJQUFJUCxXQUFXLEVBQUVMLE9BQU8sRUFBRTtRQUN0QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDWSxNQUFNLENBQUMsQ0FBQyxZQUFZLEVBQUVSLFlBQVksQ0FBQyxFQUFFO1lBQ3JELEdBQUdMLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtBQUNKO0FBQ08sTUFBTVEsdUJBQXVCaEIsdURBQVVBO0FBQzlDO0FBQ0FFLFdBQVdjLGNBQWMsR0FBR0EsZ0JBQzVCLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9hc3Npc3RhbnRzLm1qcz9jNDgyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSB9IGZyb20gXCIuLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEFzc2lzdGFudHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGFzc2lzdGFudCB3aXRoIGEgbW9kZWwgYW5kIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hc3Npc3RhbnRzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFuIGFzc2lzdGFudC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShhc3Npc3RhbnRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGFuIGFzc2lzdGFudC5cbiAgICAgKi9cbiAgICB1cGRhdGUoYXNzaXN0YW50SWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElkfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9hc3Npc3RhbnRzJywgQXNzaXN0YW50c1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gYXNzaXN0YW50LlxuICAgICAqL1xuICAgIGRlbChhc3Npc3RhbnRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFzc2lzdGFudHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5Bc3Npc3RhbnRzLkFzc2lzdGFudHNQYWdlID0gQXNzaXN0YW50c1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3Npc3RhbnRzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ3Vyc29yUGFnZSIsIkFzc2lzdGFudFN0cmVhbSIsIkFzc2lzdGFudHMiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwiYXNzaXN0YW50SWQiLCJnZXQiLCJ1cGRhdGUiLCJsaXN0IiwicXVlcnkiLCJnZXRBUElMaXN0IiwiQXNzaXN0YW50c1BhZ2UiLCJkZWwiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/assistants.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/beta.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/beta.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Beta: () => (/* binding */ Beta)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assistants.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/assistants.mjs\");\n/* harmony import */ var _chat_chat_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chat/chat.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/chat.mjs\");\n/* harmony import */ var _realtime_realtime_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./realtime/realtime.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/realtime.mjs\");\n/* harmony import */ var _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./threads/threads.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/threads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\n\n\nclass Beta extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.realtime = new _realtime_realtime_mjs__WEBPACK_IMPORTED_MODULE_1__.Realtime(this._client);\n        this.chat = new _chat_chat_mjs__WEBPACK_IMPORTED_MODULE_2__.Chat(this._client);\n        this.assistants = new _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.Assistants(this._client);\n        this.threads = new _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__.Threads(this._client);\n    }\n}\nBeta.Realtime = _realtime_realtime_mjs__WEBPACK_IMPORTED_MODULE_1__.Realtime;\nBeta.Assistants = _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.Assistants;\nBeta.AssistantsPage = _assistants_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantsPage;\nBeta.Threads = _threads_threads_mjs__WEBPACK_IMPORTED_MODULE_4__.Threads; //# sourceMappingURL=beta.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvYmV0YS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ0M7QUFDUDtBQUNvQjtBQUNSO0FBQ0g7QUFDQTtBQUNIO0FBQ1Y7QUFDaEMsTUFBTVUsYUFBYVYsc0RBQVdBO0lBQ2pDVyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlSLDREQUFvQixDQUFDLElBQUksQ0FBQ1MsT0FBTztRQUNyRCxJQUFJLENBQUNDLElBQUksR0FBRyxJQUFJYixnREFBWSxDQUFDLElBQUksQ0FBQ1ksT0FBTztRQUN6QyxJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJZix1REFBd0IsQ0FBQyxJQUFJLENBQUNhLE9BQU87UUFDM0QsSUFBSSxDQUFDRyxPQUFPLEdBQUcsSUFBSVYseURBQWtCLENBQUMsSUFBSSxDQUFDTyxPQUFPO0lBQ3REO0FBQ0o7QUFDQUosS0FBS0osUUFBUSxHQUFHQSw0REFBUUE7QUFDeEJJLEtBQUtQLFVBQVUsR0FBR0EsdURBQVVBO0FBQzVCTyxLQUFLTixjQUFjLEdBQUdBLDJEQUFjQTtBQUNwQ00sS0FBS0YsT0FBTyxHQUFHQSx5REFBT0EsRUFDdEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2JldGEubWpzP2FhYjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQXNzaXN0YW50c0FQSSBmcm9tIFwiLi9hc3Npc3RhbnRzLm1qc1wiO1xuaW1wb3J0ICogYXMgQ2hhdEFQSSBmcm9tIFwiLi9jaGF0L2NoYXQubWpzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRzLCBBc3Npc3RhbnRzUGFnZSwgfSBmcm9tIFwiLi9hc3Npc3RhbnRzLm1qc1wiO1xuaW1wb3J0ICogYXMgUmVhbHRpbWVBUEkgZnJvbSBcIi4vcmVhbHRpbWUvcmVhbHRpbWUubWpzXCI7XG5pbXBvcnQgeyBSZWFsdGltZSwgfSBmcm9tIFwiLi9yZWFsdGltZS9yZWFsdGltZS5tanNcIjtcbmltcG9ydCAqIGFzIFRocmVhZHNBUEkgZnJvbSBcIi4vdGhyZWFkcy90aHJlYWRzLm1qc1wiO1xuaW1wb3J0IHsgVGhyZWFkcywgfSBmcm9tIFwiLi90aHJlYWRzL3RocmVhZHMubWpzXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vY2hhdC9jaGF0Lm1qc1wiO1xuZXhwb3J0IGNsYXNzIEJldGEgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVhbHRpbWUgPSBuZXcgUmVhbHRpbWVBUEkuUmVhbHRpbWUodGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IENoYXRBUEkuQ2hhdCh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmFzc2lzdGFudHMgPSBuZXcgQXNzaXN0YW50c0FQSS5Bc3Npc3RhbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMudGhyZWFkcyA9IG5ldyBUaHJlYWRzQVBJLlRocmVhZHModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5CZXRhLlJlYWx0aW1lID0gUmVhbHRpbWU7XG5CZXRhLkFzc2lzdGFudHMgPSBBc3Npc3RhbnRzO1xuQmV0YS5Bc3Npc3RhbnRzUGFnZSA9IEFzc2lzdGFudHNQYWdlO1xuQmV0YS5UaHJlYWRzID0gVGhyZWFkcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJldGEubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkFzc2lzdGFudHNBUEkiLCJDaGF0QVBJIiwiQXNzaXN0YW50cyIsIkFzc2lzdGFudHNQYWdlIiwiUmVhbHRpbWVBUEkiLCJSZWFsdGltZSIsIlRocmVhZHNBUEkiLCJUaHJlYWRzIiwiQ2hhdCIsIkJldGEiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInJlYWx0aW1lIiwiX2NsaWVudCIsImNoYXQiLCJhc3Npc3RhbnRzIiwidGhyZWFkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/beta.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/chat.mjs":
/*!******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/chat.mjs ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _completions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./completions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Chat extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.completions = new _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions(this._client);\n    }\n}\n(function(Chat) {\n    Chat.Completions = _completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions;\n})(Chat || (Chat = {})); //# sourceMappingURL=chat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvY2hhdC9jaGF0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQTtBQUM3QyxNQUFNRSxhQUFhRixzREFBV0E7SUFDakNHLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSUoseURBQTBCLENBQUMsSUFBSSxDQUFDTSxPQUFPO0lBQ2xFO0FBQ0o7QUFDQyxVQUFVTCxJQUFJO0lBQ1hBLEtBQUtJLFdBQVcsR0FBR0wseURBQTBCO0FBQ2pELEdBQUdDLFFBQVNBLENBQUFBLE9BQU8sQ0FBQyxLQUNwQixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvY2hhdC9jaGF0Lm1qcz80MjY5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gXCIuL2NvbXBsZXRpb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXQgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG4oZnVuY3Rpb24gKENoYXQpIHtcbiAgICBDaGF0LkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnM7XG59KShDaGF0IHx8IChDaGF0ID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvbXBsZXRpb25zQVBJIiwiQ2hhdCIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiY29tcGxldGlvbnMiLCJDb21wbGV0aW9ucyIsIl9jbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/chat.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/completions.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/completions.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionRunner: () => (/* reexport safe */ _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_3__.ChatCompletionRunner),\n/* harmony export */   ChatCompletionStream: () => (/* reexport safe */ _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_2__.ChatCompletionStream),\n/* harmony export */   ChatCompletionStreamingRunner: () => (/* reexport safe */ _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionStreamingRunner),\n/* harmony export */   Completions: () => (/* binding */ Completions),\n/* harmony export */   ParsingFunction: () => (/* reexport safe */ _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_1__.ParsingFunction),\n/* harmony export */   ParsingToolFunction: () => (/* reexport safe */ _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_1__.ParsingToolFunction)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/ChatCompletionRunner.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionRunner.mjs\");\n/* harmony import */ var _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/ChatCompletionStreamingRunner.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStreamingRunner.mjs\");\n/* harmony import */ var _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/ChatCompletionStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ChatCompletionStream.mjs\");\n/* harmony import */ var _lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../lib/parser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/parser.mjs\");\n/* harmony import */ var _lib_RunnableFunction_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/RunnableFunction.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/RunnableFunction.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\n\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_4__.APIResource {\n    parse(body, options) {\n        (0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__.validateInputTools)(body.tools);\n        return this._client.chat.completions.create(body, {\n            ...options,\n            headers: {\n                ...options?.headers,\n                \"X-Stainless-Helper-Method\": \"beta.chat.completions.parse\"\n            }\n        })._thenUnwrap((completion)=>(0,_lib_parser_mjs__WEBPACK_IMPORTED_MODULE_5__.parseChatCompletion)(completion, body));\n    }\n    runFunctions(body, options) {\n        if (body.stream) {\n            return _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionStreamingRunner.runFunctions(this._client, body, options);\n        }\n        return _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_3__.ChatCompletionRunner.runFunctions(this._client, body, options);\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return _lib_ChatCompletionStreamingRunner_mjs__WEBPACK_IMPORTED_MODULE_0__.ChatCompletionStreamingRunner.runTools(this._client, body, options);\n        }\n        return _lib_ChatCompletionRunner_mjs__WEBPACK_IMPORTED_MODULE_3__.ChatCompletionRunner.runTools(this._client, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */ stream(body, options) {\n        return _lib_ChatCompletionStream_mjs__WEBPACK_IMPORTED_MODULE_2__.ChatCompletionStream.createChatCompletion(this._client, body, options);\n    }\n} //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvY2hhdC9jb21wbGV0aW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ3lCO0FBQ21CO0FBQ25CO0FBQ0s7QUFDYztBQUNOO0FBQ2I7QUFDQztBQUN2RSxNQUFNUSxvQkFBb0JSLHNEQUFXQTtJQUN4Q1MsTUFBTUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDakJOLG1FQUFrQkEsQ0FBQ0ssS0FBS0UsS0FBSztRQUM3QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUNDLFdBQVcsQ0FDL0JDLE1BQU0sQ0FBQ04sTUFBTTtZQUNkLEdBQUdDLE9BQU87WUFDVk0sU0FBUztnQkFDTCxHQUFHTixTQUFTTSxPQUFPO2dCQUNuQiw2QkFBNkI7WUFDakM7UUFDSixHQUNLQyxXQUFXLENBQUMsQ0FBQ0MsYUFBZWYsb0VBQW1CQSxDQUFDZSxZQUFZVDtJQUNyRTtJQUNBVSxhQUFhVixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUN4QixJQUFJRCxLQUFLVyxNQUFNLEVBQUU7WUFDYixPQUFPbkIsaUdBQTZCQSxDQUFDa0IsWUFBWSxDQUFDLElBQUksQ0FBQ1AsT0FBTyxFQUFFSCxNQUFNQztRQUMxRTtRQUNBLE9BQU9WLCtFQUFvQkEsQ0FBQ21CLFlBQVksQ0FBQyxJQUFJLENBQUNQLE9BQU8sRUFBRUgsTUFBTUM7SUFDakU7SUFDQVcsU0FBU1osSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDcEIsSUFBSUQsS0FBS1csTUFBTSxFQUFFO1lBQ2IsT0FBT25CLGlHQUE2QkEsQ0FBQ29CLFFBQVEsQ0FBQyxJQUFJLENBQUNULE9BQU8sRUFBRUgsTUFBTUM7UUFDdEU7UUFDQSxPQUFPViwrRUFBb0JBLENBQUNxQixRQUFRLENBQUMsSUFBSSxDQUFDVCxPQUFPLEVBQUVILE1BQU1DO0lBQzdEO0lBQ0E7O0tBRUMsR0FDRFUsT0FBT1gsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBT1IsK0VBQW9CQSxDQUFDb0Isb0JBQW9CLENBQUMsSUFBSSxDQUFDVixPQUFPLEVBQUVILE1BQU1DO0lBQ3pFO0FBQ0osRUFDQSx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvY2hhdC9jb21wbGV0aW9ucy5tanM/NWQyZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblJ1bm5lciB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25SdW5uZXIubWpzXCI7XG5pbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciwgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VDaGF0Q29tcGxldGlvbiwgdmFsaWRhdGVJbnB1dFRvb2xzIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9wYXJzZXIubWpzXCI7XG5leHBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciwgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qc1wiO1xuZXhwb3J0IHsgUGFyc2luZ0Z1bmN0aW9uLCBQYXJzaW5nVG9vbEZ1bmN0aW9uLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvUnVubmFibGVGdW5jdGlvbi5tanNcIjtcbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbS5tanNcIjtcbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uUnVubmVyLCB9IGZyb20gXCIuLi8uLi8uLi9saWIvQ2hhdENvbXBsZXRpb25SdW5uZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgcGFyc2UoYm9keSwgb3B0aW9ucykge1xuICAgICAgICB2YWxpZGF0ZUlucHV0VG9vbHMoYm9keS50b29scyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuY2hhdC5jb21wbGV0aW9uc1xuICAgICAgICAgICAgLmNyZWF0ZShib2R5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnYmV0YS5jaGF0LmNvbXBsZXRpb25zLnBhcnNlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgICAgICAuX3RoZW5VbndyYXAoKGNvbXBsZXRpb24pID0+IHBhcnNlQ2hhdENvbXBsZXRpb24oY29tcGxldGlvbiwgYm9keSkpO1xuICAgIH1cbiAgICBydW5GdW5jdGlvbnMoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYm9keS5zdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5ydW5GdW5jdGlvbnModGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25SdW5uZXIucnVuRnVuY3Rpb25zKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJ1blRvb2xzKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGJvZHkuc3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIucnVuVG9vbHModGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25SdW5uZXIucnVuVG9vbHModGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNoYXQgY29tcGxldGlvbiBzdHJlYW1cbiAgICAgKi9cbiAgICBzdHJlYW0oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQ2hhdENvbXBsZXRpb25TdHJlYW0uY3JlYXRlQ2hhdENvbXBsZXRpb24odGhpcy5fY2xpZW50LCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wbGV0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ2hhdENvbXBsZXRpb25SdW5uZXIiLCJDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lciIsIkNoYXRDb21wbGV0aW9uU3RyZWFtIiwicGFyc2VDaGF0Q29tcGxldGlvbiIsInZhbGlkYXRlSW5wdXRUb29scyIsIlBhcnNpbmdGdW5jdGlvbiIsIlBhcnNpbmdUb29sRnVuY3Rpb24iLCJDb21wbGV0aW9ucyIsInBhcnNlIiwiYm9keSIsIm9wdGlvbnMiLCJ0b29scyIsIl9jbGllbnQiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJoZWFkZXJzIiwiX3RoZW5VbndyYXAiLCJjb21wbGV0aW9uIiwicnVuRnVuY3Rpb25zIiwic3RyZWFtIiwicnVuVG9vbHMiLCJjcmVhdGVDaGF0Q29tcGxldGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/chat/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/realtime.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/realtime.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Realtime: () => (/* binding */ Realtime)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _sessions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sessions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/sessions.mjs\");\n/* harmony import */ var _transcription_sessions_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transcription-sessions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/transcription-sessions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Realtime extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.sessions = new _sessions_mjs__WEBPACK_IMPORTED_MODULE_1__.Sessions(this._client);\n        this.transcriptionSessions = new _transcription_sessions_mjs__WEBPACK_IMPORTED_MODULE_2__.TranscriptionSessions(this._client);\n    }\n}\nRealtime.Sessions = _sessions_mjs__WEBPACK_IMPORTED_MODULE_1__.Sessions;\nRealtime.TranscriptionSessions = _transcription_sessions_mjs__WEBPACK_IMPORTED_MODULE_2__.TranscriptionSessions; //# sourceMappingURL=realtime.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvcmVhbHRpbWUvcmVhbHRpbWUubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDTjtBQUNIO0FBQzhCO0FBQ0g7QUFDL0QsTUFBTUssaUJBQWlCTCxzREFBV0E7SUFDckNNLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSVAsbURBQW9CLENBQUMsSUFBSSxDQUFDUSxPQUFPO1FBQ3JELElBQUksQ0FBQ0MscUJBQXFCLEdBQUcsSUFBSVAsOEVBQThDLENBQUMsSUFBSSxDQUFDTSxPQUFPO0lBQ2hHO0FBQ0o7QUFDQUosU0FBU0gsUUFBUSxHQUFHQSxtREFBUUE7QUFDNUJHLFNBQVNELHFCQUFxQixHQUFHQSw4RUFBcUJBLEVBQ3RELHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9yZWFsdGltZS5tanM/OGIzYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBTZXNzaW9uc0FQSSBmcm9tIFwiLi9zZXNzaW9ucy5tanNcIjtcbmltcG9ydCB7IFNlc3Npb25zLCB9IGZyb20gXCIuL3Nlc3Npb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNjcmlwdGlvblNlc3Npb25zQVBJIGZyb20gXCIuL3RyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzXCI7XG5pbXBvcnQgeyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnMsIH0gZnJvbSBcIi4vdHJhbnNjcmlwdGlvbi1zZXNzaW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBSZWFsdGltZSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBTZXNzaW9uc0FQSS5TZXNzaW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnNBUEkuVHJhbnNjcmlwdGlvblNlc3Npb25zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuUmVhbHRpbWUuU2Vzc2lvbnMgPSBTZXNzaW9ucztcblJlYWx0aW1lLlRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IFRyYW5zY3JpcHRpb25TZXNzaW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWx0aW1lLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJTZXNzaW9uc0FQSSIsIlNlc3Npb25zIiwiVHJhbnNjcmlwdGlvblNlc3Npb25zQVBJIiwiVHJhbnNjcmlwdGlvblNlc3Npb25zIiwiUmVhbHRpbWUiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsInNlc3Npb25zIiwiX2NsaWVudCIsInRyYW5zY3JpcHRpb25TZXNzaW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/realtime.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/sessions.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/sessions.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sessions: () => (/* binding */ Sessions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Sessions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create an ephemeral API token for use in client-side applications with the\n     * Realtime API. Can be configured with the same session parameters as the\n     * `session.update` client event.\n     *\n     * It responds with a session object, plus a `client_secret` key which contains a\n     * usable ephemeral API token that can be used to authenticate browser clients for\n     * the Realtime API.\n     */ create(body, options) {\n        return this._client.post(\"/realtime/sessions\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n} //# sourceMappingURL=sessions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvcmVhbHRpbWUvc2Vzc2lvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQzdDLE1BQU1DLGlCQUFpQkQsc0RBQVdBO0lBQ3JDOzs7Ozs7OztLQVFDLEdBQ0RFLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxzQkFBc0I7WUFDM0NIO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0FBQ0osRUFDQSxxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvcmVhbHRpbWUvc2Vzc2lvbnMubWpzPzQ1ODIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFNlc3Npb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBlcGhlbWVyYWwgQVBJIHRva2VuIGZvciB1c2UgaW4gY2xpZW50LXNpZGUgYXBwbGljYXRpb25zIHdpdGggdGhlXG4gICAgICogUmVhbHRpbWUgQVBJLiBDYW4gYmUgY29uZmlndXJlZCB3aXRoIHRoZSBzYW1lIHNlc3Npb24gcGFyYW1ldGVycyBhcyB0aGVcbiAgICAgKiBgc2Vzc2lvbi51cGRhdGVgIGNsaWVudCBldmVudC5cbiAgICAgKlxuICAgICAqIEl0IHJlc3BvbmRzIHdpdGggYSBzZXNzaW9uIG9iamVjdCwgcGx1cyBhIGBjbGllbnRfc2VjcmV0YCBrZXkgd2hpY2ggY29udGFpbnMgYVxuICAgICAqIHVzYWJsZSBlcGhlbWVyYWwgQVBJIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYXV0aGVudGljYXRlIGJyb3dzZXIgY2xpZW50cyBmb3JcbiAgICAgKiB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3JlYWx0aW1lL3Nlc3Npb25zJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiU2Vzc2lvbnMiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/sessions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/transcription-sessions.mjs":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/transcription-sessions.mjs ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranscriptionSessions: () => (/* binding */ TranscriptionSessions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass TranscriptionSessions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create an ephemeral API token for use in client-side applications with the\n     * Realtime API specifically for realtime transcriptions. Can be configured with\n     * the same session parameters as the `transcription_session.update` client event.\n     *\n     * It responds with a session object, plus a `client_secret` key which contains a\n     * usable ephemeral API token that can be used to authenticate browser clients for\n     * the Realtime API.\n     */ create(body, options) {\n        return this._client.post(\"/realtime/transcription_sessions\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n} //# sourceMappingURL=transcription-sessions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvcmVhbHRpbWUvdHJhbnNjcmlwdGlvbi1zZXNzaW9ucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDN0MsTUFBTUMsOEJBQThCRCxzREFBV0E7SUFDbEQ7Ozs7Ozs7O0tBUUMsR0FDREUsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLG9DQUFvQztZQUN6REg7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7QUFDSixFQUNBLG1EQUFtRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS90cmFuc2NyaXB0aW9uLXNlc3Npb25zLm1qcz9iOTRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGVwaGVtZXJhbCBBUEkgdG9rZW4gZm9yIHVzZSBpbiBjbGllbnQtc2lkZSBhcHBsaWNhdGlvbnMgd2l0aCB0aGVcbiAgICAgKiBSZWFsdGltZSBBUEkgc3BlY2lmaWNhbGx5IGZvciByZWFsdGltZSB0cmFuc2NyaXB0aW9ucy4gQ2FuIGJlIGNvbmZpZ3VyZWQgd2l0aFxuICAgICAqIHRoZSBzYW1lIHNlc3Npb24gcGFyYW1ldGVycyBhcyB0aGUgYHRyYW5zY3JpcHRpb25fc2Vzc2lvbi51cGRhdGVgIGNsaWVudCBldmVudC5cbiAgICAgKlxuICAgICAqIEl0IHJlc3BvbmRzIHdpdGggYSBzZXNzaW9uIG9iamVjdCwgcGx1cyBhIGBjbGllbnRfc2VjcmV0YCBrZXkgd2hpY2ggY29udGFpbnMgYVxuICAgICAqIHVzYWJsZSBlcGhlbWVyYWwgQVBJIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYXV0aGVudGljYXRlIGJyb3dzZXIgY2xpZW50cyBmb3JcbiAgICAgKiB0aGUgUmVhbHRpbWUgQVBJLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3JlYWx0aW1lL3RyYW5zY3JpcHRpb25fc2Vzc2lvbnMnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIlRyYW5zY3JpcHRpb25TZXNzaW9ucyIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJoZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/realtime/transcription-sessions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/messages.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/messages.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Messages: () => (/* binding */ Messages),\n/* harmony export */   MessagesPage: () => (/* binding */ MessagesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Messages extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a message.\n     */ create(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieve a message.\n     */ retrieve(threadId, messageId, options) {\n        return this._client.get(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a message.\n     */ update(threadId, messageId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages/${messageId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Deletes a message.\n     */ del(threadId, messageId, options) {\n        return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass MessagesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nMessages.MessagesPage = MessagesPage; //# sourceMappingURL=messages.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9tZXNzYWdlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNBO0FBQzlDLE1BQU1HLGlCQUFpQkgsc0RBQVdBO0lBQ3JDOztLQUVDLEdBQ0RJLE9BQU9DLFFBQVEsRUFBRUMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFSixTQUFTLFNBQVMsQ0FBQyxFQUFFO1lBQ3REQztZQUNBLEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RDLFNBQVNOLFFBQVEsRUFBRU8sU0FBUyxFQUFFTCxPQUFPLEVBQUU7UUFDbkMsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0ssR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFUixTQUFTLFVBQVUsRUFBRU8sVUFBVSxDQUFDLEVBQUU7WUFDbEUsR0FBR0wsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREksT0FBT1QsUUFBUSxFQUFFTyxTQUFTLEVBQUVOLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUosU0FBUyxVQUFVLEVBQUVPLFVBQVUsQ0FBQyxFQUFFO1lBQ25FTjtZQUNBLEdBQUdDLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBSyxLQUFLVixRQUFRLEVBQUVXLFFBQVEsQ0FBQyxDQUFDLEVBQUVULE9BQU8sRUFBRTtRQUNoQyxJQUFJTiwyREFBZ0JBLENBQUNlLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQ1YsVUFBVSxDQUFDLEdBQUdXO1FBQ25DO1FBQ0EsT0FBTyxJQUFJLENBQUNSLE9BQU8sQ0FBQ1MsVUFBVSxDQUFDLENBQUMsU0FBUyxFQUFFWixTQUFTLFNBQVMsQ0FBQyxFQUFFYSxjQUFjO1lBQzFFRjtZQUNBLEdBQUdULE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RTLElBQUlkLFFBQVEsRUFBRU8sU0FBUyxFQUFFTCxPQUFPLEVBQUU7UUFDOUIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ1ksTUFBTSxDQUFDLENBQUMsU0FBUyxFQUFFZixTQUFTLFVBQVUsRUFBRU8sVUFBVSxDQUFDLEVBQUU7WUFDckUsR0FBR0wsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0FBQ0o7QUFDTyxNQUFNUSxxQkFBcUJoQix1REFBVUE7QUFDNUM7QUFDQUMsU0FBU2UsWUFBWSxHQUFHQSxjQUN4QixxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9tZXNzYWdlcy5tanM/NWJkZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBjcmVhdGUodGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlc2AsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh0aHJlYWRJZCwgbWVzc2FnZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9tZXNzYWdlcy8ke21lc3NhZ2VJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodGhyZWFkSWQsIG1lc3NhZ2VJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlkfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpc3QodGhyZWFkSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXNgLCBNZXNzYWdlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBkZWwodGhyZWFkSWQsIG1lc3NhZ2VJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3RocmVhZHMvJHt0aHJlYWRJZH0vbWVzc2FnZXMvJHttZXNzYWdlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNZXNzYWdlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbk1lc3NhZ2VzLk1lc3NhZ2VzUGFnZSA9IE1lc3NhZ2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ3Vyc29yUGFnZSIsIk1lc3NhZ2VzIiwiY3JlYXRlIiwidGhyZWFkSWQiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwibWVzc2FnZUlkIiwiZ2V0IiwidXBkYXRlIiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIk1lc3NhZ2VzUGFnZSIsImRlbCIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/messages.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/runs.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/runs.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Runs: () => (/* binding */ Runs),\n/* harmony export */   RunsPage: () => (/* binding */ RunsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/AssistantStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AssistantStream.mjs\");\n/* harmony import */ var _steps_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./steps.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/steps.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Runs extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.steps = new _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.Steps(this._client);\n    }\n    create(threadId, params, options) {\n        const { include, ...body } = params;\n        return this._client.post(`/threads/${threadId}/runs`, {\n            query: {\n                include\n            },\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: params.stream ?? false\n        });\n    }\n    /**\n     * Retrieves a run.\n     */ retrieve(threadId, runId, options) {\n        return this._client.get(`/threads/${threadId}/runs/${runId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a run.\n     */ update(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     */ cancel(threadId, runId, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * A helper to create a run an poll for a terminal state. More information on Run\n     * lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async createAndPoll(threadId, body, options) {\n        const run = await this.create(threadId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Create a Run stream\n     *\n     * @deprecated use `stream` instead\n     */ createAndStream(threadId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    /**\n     * A helper to poll a run status until it reaches a terminal state. More\n     * information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async poll(threadId, runId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const { data: run, response } = await this.retrieve(threadId, runId, {\n                ...options,\n                headers: {\n                    ...options?.headers,\n                    ...headers\n                }\n            }).withResponse();\n            switch(run.status){\n                //If we are in any sort of intermediate state we poll\n                case \"queued\":\n                case \"in_progress\":\n                case \"cancelling\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.sleep)(sleepInterval);\n                    break;\n                //We return the run in any terminal state.\n                case \"requires_action\":\n                case \"incomplete\":\n                case \"cancelled\":\n                case \"completed\":\n                case \"failed\":\n                case \"expired\":\n                    return run;\n            }\n        }\n    }\n    /**\n     * Create a Run stream\n     */ stream(threadId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    submitToolOutputs(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: body.stream ?? false\n        });\n    }\n    /**\n     * A helper to submit a tool output to a run and poll for a terminal run state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async submitToolOutputsAndPoll(threadId, runId, body, options) {\n        const run = await this.submitToolOutputs(threadId, runId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Submit the tool outputs from a previous run and stream the run to a terminal\n     * state. More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ submitToolOutputsStream(threadId, runId, body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_3__.AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);\n    }\n}\nclass RunsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.CursorPage {\n}\nRuns.RunsPage = RunsPage;\nRuns.Steps = _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.Steps;\nRuns.RunStepsPage = _steps_mjs__WEBPACK_IMPORTED_MODULE_1__.RunStepsPage; //# sourceMappingURL=runs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDL0I7QUFDQztBQUNjO0FBQ3pCO0FBQ0w7QUFDVztBQUNLO0FBQ2pELE1BQU1RLGFBQWFSLHNEQUFXQTtJQUNqQ1MsYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJUCw2Q0FBYyxDQUFDLElBQUksQ0FBQ1EsT0FBTztJQUNoRDtJQUNBQyxPQUFPQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO1FBQzlCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdDLE1BQU0sR0FBR0g7UUFDN0IsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ08sSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFTCxTQUFTLEtBQUssQ0FBQyxFQUFFO1lBQ2xETSxPQUFPO2dCQUFFSDtZQUFRO1lBQ2pCQztZQUNBLEdBQUdGLE9BQU87WUFDVkssU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHTCxTQUFTSyxPQUFPO1lBQUM7WUFDL0RDLFFBQVFQLE9BQU9PLE1BQU0sSUFBSTtRQUM3QjtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU1QsUUFBUSxFQUFFVSxLQUFLLEVBQUVSLE9BQU8sRUFBRTtRQUMvQixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDYSxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUVYLFNBQVMsTUFBTSxFQUFFVSxNQUFNLENBQUMsRUFBRTtZQUMxRCxHQUFHUixPQUFPO1lBQ1ZLLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0wsU0FBU0ssT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESyxPQUFPWixRQUFRLEVBQUVVLEtBQUssRUFBRU4sSUFBSSxF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QWVBLENBQUNvRCx5QkFBeUIsQ0FBQ3hDLFVBQVVVLE9BQU8sSUFBSSxDQUFDWixPQUFPLENBQUN5QixJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFckIsTUFBTUY7SUFDNUc7QUFDSjtBQUNPLE1BQU1hLGlCQUFpQnRCLHVEQUFVQTtBQUN4QztBQUNBQyxLQUFLcUIsUUFBUSxHQUFHQTtBQUNoQnJCLEtBQUtGLEtBQUssR0FBR0EsNkNBQUtBO0FBQ2xCRSxLQUFLSCxZQUFZLEdBQUdBLG9EQUFZQSxFQUNoQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMubWpzPzhjNjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQXNzaXN0YW50U3RyZWFtIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2xpYi9Bc3Npc3RhbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgU3RlcHNBUEkgZnJvbSBcIi4vc3RlcHMubWpzXCI7XG5pbXBvcnQgeyBSdW5TdGVwc1BhZ2UsIFN0ZXBzLCB9IGZyb20gXCIuL3N0ZXBzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJ1bnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuc3RlcHMgPSBuZXcgU3RlcHNBUEkuU3RlcHModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKHRocmVhZElkLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBpbmNsdWRlLCAuLi5ib2R5IH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVuc2AsIHtcbiAgICAgICAgICAgIHF1ZXJ5OiB7IGluY2x1ZGUgfSxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgICAgIHN0cmVhbTogcGFyYW1zLnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHJ1bi5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGEgcnVuLlxuICAgICAqL1xuICAgIHVwZGF0ZSh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zLyR7cnVuSWR9YCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdCh0aHJlYWRJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QodGhyZWFkSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdGhyZWFkcy8ke3RocmVhZElkfS9ydW5zYCwgUnVuc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIGEgcnVuIHRoYXQgaXMgYGluX3Byb2dyZXNzYC5cbiAgICAgKi9cbiAgICBjYW5jZWwodGhyZWFkSWQsIHJ1bklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9jYW5jZWxgLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHJ1biBhbiBwb2xsIGZvciBhIHRlcm1pbmFsIHN0YXRlLiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1blxuICAgICAqIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQW5kUG9sbCh0aHJlYWRJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZSh0aHJlYWRJZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodGhyZWFkSWQsIHJ1bi5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFJ1biBzdHJlYW1cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBgc3RyZWFtYCBpbnN0ZWFkXG4gICAgICovXG4gICAgY3JlYXRlQW5kU3RyZWFtKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciB0byBwb2xsIGEgcnVuIHN0YXR1cyB1bnRpbCBpdCByZWFjaGVzIGEgdGVybWluYWwgc3RhdGUuIE1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBhc3luYyBwb2xsKHRocmVhZElkLCBydW5JZCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScgfTtcbiAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCddID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHJ1biwgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMucmV0cmlldmUodGhyZWFkSWQsIHJ1bklkLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsIC4uLmhlYWRlcnMgfSxcbiAgICAgICAgICAgIH0pLndpdGhSZXNwb25zZSgpO1xuICAgICAgICAgICAgc3dpdGNoIChydW4uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgLy9JZiB3ZSBhcmUgaW4gYW55IHNvcnQgb2YgaW50ZXJtZWRpYXRlIHN0YXRlIHdlIHBvbGxcbiAgICAgICAgICAgICAgICBjYXNlICdxdWV1ZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsaW5nJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnb3BlbmFpLXBvbGwtYWZ0ZXItbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vV2UgcmV0dXJuIHRoZSBydW4gaW4gYW55IHRlcm1pbmFsIHN0YXRlLlxuICAgICAgICAgICAgICAgIGNhc2UgJ3JlcXVpcmVzX2FjdGlvbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5jb21wbGV0ZSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZXhwaXJlZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgICAqL1xuICAgIHN0cmVhbSh0aHJlYWRJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgdGhpcy5fY2xpZW50LmJldGEudGhyZWFkcy5ydW5zLCBib2R5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgc3VibWl0VG9vbE91dHB1dHModGhyZWFkSWQsIHJ1bklkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdWJtaXRfdG9vbF9vdXRwdXRzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIHN1Ym1pdCBhIHRvb2wgb3V0cHV0IHRvIGEgcnVuIGFuZCBwb2xsIGZvciBhIHRlcm1pbmFsIHJ1biBzdGF0ZS5cbiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIHN1Ym1pdFRvb2xPdXRwdXRzQW5kUG9sbCh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVuID0gYXdhaXQgdGhpcy5zdWJtaXRUb29sT3V0cHV0cyh0aHJlYWRJZCwgcnVuSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHRocmVhZElkLCBydW4uaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJtaXQgdGhlIHRvb2wgb3V0cHV0cyBmcm9tIGEgcHJldmlvdXMgcnVuIGFuZCBzdHJlYW0gdGhlIHJ1biB0byBhIHRlcm1pbmFsXG4gICAgICogc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAgICovXG4gICAgc3VibWl0VG9vbE91dHB1dHNTdHJlYW0odGhyZWFkSWQsIHJ1bklkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVuSWQsIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJ1bnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5SdW5zLlJ1bnNQYWdlID0gUnVuc1BhZ2U7XG5SdW5zLlN0ZXBzID0gU3RlcHM7XG5SdW5zLlJ1blN0ZXBzUGFnZSA9IFJ1blN0ZXBzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJBc3Npc3RhbnRTdHJlYW0iLCJzbGVlcCIsIlN0ZXBzQVBJIiwiUnVuU3RlcHNQYWdlIiwiU3RlcHMiLCJDdXJzb3JQYWdlIiwiUnVucyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwic3RlcHMiLCJfY2xpZW50IiwiY3JlYXRlIiwidGhyZWFkSWQiLCJwYXJhbXMiLCJvcHRpb25zIiwiaW5jbHVkZSIsImJvZHkiLCJwb3N0IiwicXVlcnkiLCJoZWFkZXJzIiwic3RyZWFtIiwicmV0cmlldmUiLCJydW5JZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJnZXRBUElMaXN0IiwiUnVuc1BhZ2UiLCJjYW5jZWwiLCJjcmVhdGVBbmRQb2xsIiwicnVuIiwicG9sbCIsImlkIiwiY3JlYXRlQW5kU3RyZWFtIiwiY3JlYXRlQXNzaXN0YW50U3RyZWFtIiwiYmV0YSIsInRocmVhZHMiLCJydW5zIiwicG9sbEludGVydmFsTXMiLCJ0b1N0cmluZyIsImRhdGEiLCJyZXNwb25zZSIsIndpdGhSZXNwb25zZSIsInN0YXR1cyIsInNsZWVwSW50ZXJ2YWwiLCJoZWFkZXJJbnRlcnZhbCIsImhlYWRlckludGVydmFsTXMiLCJwYXJzZUludCIsImlzTmFOIiwic3VibWl0VG9vbE91dHB1dHMiLCJzdWJtaXRUb29sT3V0cHV0c0FuZFBvbGwiLCJzdWJtaXRUb29sT3V0cHV0c1N0cmVhbSIsImNyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/runs.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/steps.mjs":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/steps.mjs ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunStepsPage: () => (/* binding */ RunStepsPage),\n/* harmony export */   Steps: () => (/* binding */ Steps)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Steps extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    retrieve(threadId, runId, stepId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.retrieve(threadId, runId, stepId, {}, query);\n        }\n        return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(threadId, runId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(threadId, runId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass RunStepsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nSteps.RunStepsPage = RunStepsPage; //# sourceMappingURL=steps.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3N0ZXBzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNGQUFzRjtBQUMvQjtBQUNDO0FBQ0E7QUFDakQsTUFBTUcsY0FBY0gsc0RBQVdBO0lBQ2xDSSxTQUFTQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDbkQsSUFBSVIsMkRBQWdCQSxDQUFDTyxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDSixRQUFRLENBQUNDLFVBQVVDLE9BQU9DLFFBQVEsQ0FBQyxHQUFHQztRQUN0RDtRQUNBLE9BQU8sSUFBSSxDQUFDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRU4sU0FBUyxNQUFNLEVBQUVDLE1BQU0sT0FBTyxFQUFFQyxPQUFPLENBQUMsRUFBRTtZQUMxRUM7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQUMsS0FBS1IsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLFFBQVEsQ0FBQyxDQUFDLEVBQUVDLE9BQU8sRUFBRTtRQUN2QyxJQUFJUiwyREFBZ0JBLENBQUNPLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNLLElBQUksQ0FBQ1IsVUFBVUMsT0FBTyxDQUFDLEdBQUdFO1FBQzFDO1FBQ0EsT0FBTyxJQUFJLENBQUNFLE9BQU8sQ0FBQ0ksVUFBVSxDQUFDLENBQUMsU0FBUyxFQUFFVCxTQUFTLE1BQU0sRUFBRUMsTUFBTSxNQUFNLENBQUMsRUFBRVMsY0FBYztZQUNyRlA7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7QUFDSjtBQUNPLE1BQU1HLHFCQUFxQmIsdURBQVVBO0FBQzVDO0FBQ0FDLE1BQU1ZLFlBQVksR0FBR0EsY0FDckIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvcnVucy9zdGVwcy5tanM/ZDQ0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgU3RlcHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgcmV0cmlldmUodGhyZWFkSWQsIHJ1bklkLCBzdGVwSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXRyaWV2ZSh0aHJlYWRJZCwgcnVuSWQsIHN0ZXBJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH0vcnVucy8ke3J1bklkfS9zdGVwcy8ke3N0ZXBJZH1gLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdCh0aHJlYWRJZCwgcnVuSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHRocmVhZElkLCBydW5JZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9L3J1bnMvJHtydW5JZH0vc3RlcHNgLCBSdW5TdGVwc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5TdGVwc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cblN0ZXBzLlJ1blN0ZXBzUGFnZSA9IFJ1blN0ZXBzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZXBzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ3Vyc29yUGFnZSIsIlN0ZXBzIiwicmV0cmlldmUiLCJ0aHJlYWRJZCIsInJ1bklkIiwic3RlcElkIiwicXVlcnkiLCJvcHRpb25zIiwiX2NsaWVudCIsImdldCIsImhlYWRlcnMiLCJsaXN0IiwiZ2V0QVBJTGlzdCIsIlJ1blN0ZXBzUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/steps.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/threads.mjs":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/threads.mjs ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Threads: () => (/* binding */ Threads)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/AssistantStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/AssistantStream.mjs\");\n/* harmony import */ var _messages_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/messages.mjs\");\n/* harmony import */ var _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runs/runs.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/runs/runs.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Threads extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.runs = new _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs(this._client);\n        this.messages = new _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.Messages(this._client);\n    }\n    create(body = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isRequestOptions)(body)) {\n            return this.create({}, body);\n        }\n        return this._client.post(\"/threads\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a thread.\n     */ retrieve(threadId, options) {\n        return this._client.get(`/threads/${threadId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a thread.\n     */ update(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a thread.\n     */ del(threadId, options) {\n        return this._client.delete(`/threads/${threadId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    createAndRun(body, options) {\n        return this._client.post(\"/threads/runs\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            },\n            stream: body.stream ?? false\n        });\n    }\n    /**\n     * A helper to create a thread, start a run and then poll for a terminal state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */ async createAndRunPoll(body, options) {\n        const run = await this.createAndRun(body, options);\n        return await this.runs.poll(run.thread_id, run.id, options);\n    }\n    /**\n     * Create a thread and stream the run back\n     */ createAndRunStream(body, options) {\n        return _lib_AssistantStream_mjs__WEBPACK_IMPORTED_MODULE_4__.AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);\n    }\n}\nThreads.Runs = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs;\nThreads.RunsPage = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.RunsPage;\nThreads.Messages = _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.Messages;\nThreads.MessagesPage = _messages_mjs__WEBPACK_IMPORTED_MODULE_2__.MessagesPage; //# sourceMappingURL=threads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy90aHJlYWRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNjO0FBQ3JCO0FBQ1c7QUFDZDtBQUNPO0FBQzNDLE1BQU1TLGdCQUFnQlQsc0RBQVdBO0lBQ3BDVSxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlOLGdEQUFZLENBQUMsSUFBSSxDQUFDTyxPQUFPO1FBQ3pDLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlYLG1EQUFvQixDQUFDLElBQUksQ0FBQ1UsT0FBTztJQUN6RDtJQUNBRSxPQUFPQyxPQUFPLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDdkIsSUFBSWhCLDJEQUFnQkEsQ0FBQ2UsT0FBTztZQUN4QixPQUFPLElBQUksQ0FBQ0QsTUFBTSxDQUFDLENBQUMsR0FBR0M7UUFDM0I7UUFDQSxPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSyxJQUFJLENBQUMsWUFBWTtZQUNqQ0Y7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0YsU0FBU0UsT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNEQyxTQUFTQyxRQUFRLEVBQUVKLE9BQU8sRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDUyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUVELFNBQVMsQ0FBQyxFQUFFO1lBQzVDLEdBQUdKLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RJLE9BQU9GLFFBQVEsRUFBRUwsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFRyxTQUFTLENBQUMsRUFBRTtZQUM3Q0w7WUFDQSxHQUFHQyxPQUFPO1lBQ1ZFLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0YsU0FBU0UsT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESyxJQUFJSCxRQUFRLEVBQUVKLE9BQU8sRUFBRTtRQUNuQixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDWSxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUVKLFNBQVMsQ0FBQyxFQUFFO1lBQy9DLEdBQUdKLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBTyxhQUFhVixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxJQUFJLENBQUMsaUJBQWlCO1lBQ3RDRjtZQUNBLEdBQUdDLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7WUFDL0RRLFFBQVFYLEtBQUtXLE1BQU0sSUFBSTtRQUMzQjtJQUNKO0lBQ0E7Ozs7S0FJQyxHQUNELE1BQU1DLGlCQUFpQlosSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEMsTUFBTVksTUFBTSxNQUFNLElBQUksQ0FBQ0gsWUFBWSxDQUFDVixNQUFNQztRQUMxQyxPQUFPLE1BQU0sSUFBSSxDQUFDTCxJQUFJLENBQUNrQixJQUFJLENBQUNELElBQUlFLFNBQVMsRUFBRUYsSUFBSUcsRUFBRSxFQUFFZjtJQUN2RDtJQUNBOztLQUVDLEdBQ0RnQixtQkFBbUJqQixJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUM5QixPQUFPZixxRUFBZUEsQ0FBQ2dDLDJCQUEyQixDQUFDbEIsTUFBTSxJQUFJLENBQUNILE9BQU8sQ0FBQ3NCLElBQUksQ0FBQ0MsT0FBTyxFQUFFbkI7SUFDeEY7QUFDSjtBQUNBUixRQUFRRixJQUFJLEdBQUdBLGdEQUFJQTtBQUNuQkUsUUFBUUQsUUFBUSxHQUFHQSxvREFBUUE7QUFDM0JDLFFBQVFMLFFBQVEsR0FBR0EsbURBQVFBO0FBQzNCSyxRQUFRSixZQUFZLEdBQUdBLHVEQUFZQSxFQUNuQyxvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy90aHJlYWRzLm1qcz9iNzJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSB9IGZyb20gXCIuLi8uLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtLm1qc1wiO1xuaW1wb3J0ICogYXMgTWVzc2FnZXNBUEkgZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBNZXNzYWdlcywgTWVzc2FnZXNQYWdlLCB9IGZyb20gXCIuL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0ICogYXMgUnVuc0FQSSBmcm9tIFwiLi9ydW5zL3J1bnMubWpzXCI7XG5pbXBvcnQgeyBSdW5zLCBSdW5zUGFnZSwgfSBmcm9tIFwiLi9ydW5zL3J1bnMubWpzXCI7XG5leHBvcnQgY2xhc3MgVGhyZWFkcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5ydW5zID0gbmV3IFJ1bnNBUEkuUnVucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzID0gbmV3IE1lc3NhZ2VzQVBJLk1lc3NhZ2VzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIGNyZWF0ZShib2R5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMoYm9keSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh7fSwgYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHRocmVhZC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh0aHJlYWRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGEgdGhyZWFkLlxuICAgICAqL1xuICAgIHVwZGF0ZSh0aHJlYWRJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC90aHJlYWRzLyR7dGhyZWFkSWR9YCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgdGhyZWFkLlxuICAgICAqL1xuICAgIGRlbCh0aHJlYWRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL3RocmVhZHMvJHt0aHJlYWRJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZUFuZFJ1bihib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3RocmVhZHMvcnVucycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgICAgIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGhlbHBlciB0byBjcmVhdGUgYSB0aHJlYWQsIHN0YXJ0IGEgcnVuIGFuZCB0aGVuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuXG4gICAgICogTW9yZSBpbmZvcm1hdGlvbiBvbiBSdW4gbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRSdW5Qb2xsKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVuID0gYXdhaXQgdGhpcy5jcmVhdGVBbmRSdW4oYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnJ1bnMucG9sbChydW4udGhyZWFkX2lkLCBydW4uaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0aHJlYWQgYW5kIHN0cmVhbSB0aGUgcnVuIGJhY2tcbiAgICAgKi9cbiAgICBjcmVhdGVBbmRSdW5TdHJlYW0oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmNyZWF0ZVRocmVhZEFzc2lzdGFudFN0cmVhbShib2R5LCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLCBvcHRpb25zKTtcbiAgICB9XG59XG5UaHJlYWRzLlJ1bnMgPSBSdW5zO1xuVGhyZWFkcy5SdW5zUGFnZSA9IFJ1bnNQYWdlO1xuVGhyZWFkcy5NZXNzYWdlcyA9IE1lc3NhZ2VzO1xuVGhyZWFkcy5NZXNzYWdlc1BhZ2UgPSBNZXNzYWdlc1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJlYWRzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQXNzaXN0YW50U3RyZWFtIiwiTWVzc2FnZXNBUEkiLCJNZXNzYWdlcyIsIk1lc3NhZ2VzUGFnZSIsIlJ1bnNBUEkiLCJSdW5zIiwiUnVuc1BhZ2UiLCJUaHJlYWRzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJydW5zIiwiX2NsaWVudCIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwidGhyZWFkSWQiLCJnZXQiLCJ1cGRhdGUiLCJkZWwiLCJkZWxldGUiLCJjcmVhdGVBbmRSdW4iLCJzdHJlYW0iLCJjcmVhdGVBbmRSdW5Qb2xsIiwicnVuIiwicG9sbCIsInRocmVhZF9pZCIsImlkIiwiY3JlYXRlQW5kUnVuU3RyZWFtIiwiY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtIiwiYmV0YSIsInRocmVhZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/beta/threads/threads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/chat.mjs":
/*!*************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/chat.mjs ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Chat: () => (/* binding */ Chat)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _completions_completions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./completions/completions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Chat extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.completions = new _completions_completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions(this._client);\n    }\n}\nChat.Completions = _completions_completions_mjs__WEBPACK_IMPORTED_MODULE_1__.Completions;\nChat.ChatCompletionsPage = _completions_completions_mjs__WEBPACK_IMPORTED_MODULE_1__.ChatCompletionsPage; //# sourceMappingURL=chat.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY2hhdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ2U7QUFDa0I7QUFDM0UsTUFBTUksYUFBYUosc0RBQVdBO0lBQ2pDSyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlOLHFFQUEwQixDQUFDLElBQUksQ0FBQ08sT0FBTztJQUNsRTtBQUNKO0FBQ0FKLEtBQUtELFdBQVcsR0FBR0EscUVBQVdBO0FBQzlCQyxLQUFLRixtQkFBbUIsR0FBR0EsNkVBQW1CQSxFQUM5QyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY2hhdC5tanM/ODA1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb21wbGV0aW9uc0FQSSBmcm9tIFwiLi9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy5tanNcIjtcbmltcG9ydCB7IENoYXRDb21wbGV0aW9uc1BhZ2UsIENvbXBsZXRpb25zLCB9IGZyb20gXCIuL2NvbXBsZXRpb25zL2NvbXBsZXRpb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXQgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5DaGF0LkNvbXBsZXRpb25zID0gQ29tcGxldGlvbnM7XG5DaGF0LkNoYXRDb21wbGV0aW9uc1BhZ2UgPSBDaGF0Q29tcGxldGlvbnNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhdC5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiQ29tcGxldGlvbnNBUEkiLCJDaGF0Q29tcGxldGlvbnNQYWdlIiwiQ29tcGxldGlvbnMiLCJDaGF0IiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJjb21wbGV0aW9ucyIsIl9jbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/chat.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStoreMessagesPage: () => (/* binding */ ChatCompletionStoreMessagesPage),\n/* harmony export */   ChatCompletionsPage: () => (/* binding */ ChatCompletionsPage),\n/* harmony export */   Completions: () => (/* binding */ Completions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _messages_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/messages.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.messages = new _messages_mjs__WEBPACK_IMPORTED_MODULE_1__.Messages(this._client);\n    }\n    create(body, options) {\n        return this._client.post(\"/chat/completions\", {\n            body,\n            ...options,\n            stream: body.stream ?? false\n        });\n    }\n    /**\n     * Get a stored chat completion. Only Chat Completions that have been created with\n     * the `store` parameter set to `true` will be returned.\n     */ retrieve(completionId, options) {\n        return this._client.get(`/chat/completions/${completionId}`, options);\n    }\n    /**\n     * Modify a stored chat completion. Only Chat Completions that have been created\n     * with the `store` parameter set to `true` can be modified. Currently, the only\n     * supported modification is to update the `metadata` field.\n     */ update(completionId, body, options) {\n        return this._client.post(`/chat/completions/${completionId}`, {\n            body,\n            ...options\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/chat/completions\", ChatCompletionsPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Delete a stored chat completion. Only Chat Completions that have been created\n     * with the `store` parameter set to `true` can be deleted.\n     */ del(completionId, options) {\n        return this._client.delete(`/chat/completions/${completionId}`, options);\n    }\n}\nclass ChatCompletionsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nclass ChatCompletionStoreMessagesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nCompletions.ChatCompletionsPage = ChatCompletionsPage;\nCompletions.Messages = _messages_mjs__WEBPACK_IMPORTED_MODULE_1__.Messages; //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvY29tcGxldGlvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQztBQUNQO0FBQ0o7QUFDVztBQUM5QyxNQUFNSyxvQkFBb0JMLHNEQUFXQTtJQUN4Q00sYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLFFBQVEsR0FBRyxJQUFJTixtREFBb0IsQ0FBQyxJQUFJLENBQUNPLE9BQU87SUFDekQ7SUFDQUMsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksSUFBSSxDQUFDLHFCQUFxQjtZQUFFRjtZQUFNLEdBQUdDLE9BQU87WUFBRUUsUUFBUUgsS0FBS0csTUFBTSxJQUFJO1FBQU07SUFDbkc7SUFDQTs7O0tBR0MsR0FDREMsU0FBU0MsWUFBWSxFQUFFSixPQUFPLEVBQUU7UUFDNUIsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ1EsR0FBRyxDQUFDLENBQUMsa0JBQWtCLEVBQUVELGFBQWEsQ0FBQyxFQUFFSjtJQUNqRTtJQUNBOzs7O0tBSUMsR0FDRE0sT0FBT0YsWUFBWSxFQUFFTCxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNoQyxPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUcsYUFBYSxDQUFDLEVBQUU7WUFBRUw7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDckY7SUFDQU8sS0FBS0MsUUFBUSxDQUFDLENBQUMsRUFBRVIsT0FBTyxFQUFFO1FBQ3RCLElBQUlYLDJEQUFnQkEsQ0FBQ21CLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNYLE9BQU8sQ0FBQ1ksVUFBVSxDQUFDLHFCQUFxQkMscUJBQXFCO1lBQUVGO1lBQU8sR0FBR1IsT0FBTztRQUFDO0lBQ2pHO0lBQ0E7OztLQUdDLEdBQ0RXLElBQUlQLFlBQVksRUFBRUosT0FBTyxFQUFFO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNlLE1BQU0sQ0FBQyxDQUFDLGtCQUFrQixFQUFFUixhQUFhLENBQUMsRUFBRUo7SUFDcEU7QUFDSjtBQUNPLE1BQU1VLDRCQUE0QmxCLHVEQUFVQTtBQUNuRDtBQUNPLE1BQU1xQix3Q0FBd0NyQix1REFBVUE7QUFDL0Q7QUFDQUMsWUFBWWlCLG1CQUFtQixHQUFHQTtBQUNsQ2pCLFlBQVlGLFFBQVEsR0FBR0EsbURBQVFBLEVBQy9CLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy5tanM/ZWFkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBNZXNzYWdlc0FQSSBmcm9tIFwiLi9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IE1lc3NhZ2VzIH0gZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICAgICAqIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICovXG4gICAgcmV0cmlldmUoY29tcGxldGlvbklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZ5IGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICAgKiB3aXRoIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIGNhbiBiZSBtb2RpZmllZC4gQ3VycmVudGx5LCB0aGUgb25seVxuICAgICAqIHN1cHBvcnRlZCBtb2RpZmljYXRpb24gaXMgdG8gdXBkYXRlIHRoZSBgbWV0YWRhdGFgIGZpZWxkLlxuICAgICAqL1xuICAgIHVwZGF0ZShjb21wbGV0aW9uSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH1gLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9jaGF0L2NvbXBsZXRpb25zJywgQ2hhdENvbXBsZXRpb25zUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICAgKiB3aXRoIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIGNhbiBiZSBkZWxldGVkLlxuICAgICAqL1xuICAgIGRlbChjb21wbGV0aW9uSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9jaGF0L2NvbXBsZXRpb25zLyR7Y29tcGxldGlvbklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvbnNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5leHBvcnQgY2xhc3MgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuQ29tcGxldGlvbnMuQ2hhdENvbXBsZXRpb25zUGFnZSA9IENoYXRDb21wbGV0aW9uc1BhZ2U7XG5Db21wbGV0aW9ucy5NZXNzYWdlcyA9IE1lc3NhZ2VzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGxldGlvbnMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJNZXNzYWdlc0FQSSIsIk1lc3NhZ2VzIiwiQ3Vyc29yUGFnZSIsIkNvbXBsZXRpb25zIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJtZXNzYWdlcyIsIl9jbGllbnQiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsInBvc3QiLCJzdHJlYW0iLCJyZXRyaWV2ZSIsImNvbXBsZXRpb25JZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJDaGF0Q29tcGxldGlvbnNQYWdlIiwiZGVsIiwiZGVsZXRlIiwiQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/messages.mjs":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/messages.mjs ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatCompletionStoreMessagesPage: () => (/* reexport safe */ _completions_mjs__WEBPACK_IMPORTED_MODULE_2__.ChatCompletionStoreMessagesPage),\n/* harmony export */   Messages: () => (/* binding */ Messages)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _completions_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./completions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/completions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Messages extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    list(completionId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(completionId, {}, query);\n        }\n        return this._client.getAPIList(`/chat/completions/${completionId}/messages`, _completions_mjs__WEBPACK_IMPORTED_MODULE_2__.ChatCompletionStoreMessagesPage, {\n            query,\n            ...options\n        });\n    }\n}\n //# sourceMappingURL=messages.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvbWVzc2FnZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0M7QUFDZTtBQUM3RCxNQUFNRyxpQkFBaUJILHNEQUFXQTtJQUNyQ0ksS0FBS0MsWUFBWSxFQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDcEMsSUFBSU4sMkRBQWdCQSxDQUFDSyxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRixJQUFJLENBQUNDLGNBQWMsQ0FBQyxHQUFHQztRQUN2QztRQUNBLE9BQU8sSUFBSSxDQUFDRSxPQUFPLENBQUNDLFVBQVUsQ0FBQyxDQUFDLGtCQUFrQixFQUFFSixhQUFhLFNBQVMsQ0FBQyxFQUFFSCw2RUFBK0JBLEVBQUU7WUFBRUk7WUFBTyxHQUFHQyxPQUFPO1FBQUM7SUFDdEk7QUFDSjtBQUMyQyxDQUMzQyxxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NoYXQvY29tcGxldGlvbnMvbWVzc2FnZXMubWpzPzU3YTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSB9IGZyb20gXCIuL2NvbXBsZXRpb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1lc3NhZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGxpc3QoY29tcGxldGlvbklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdChjb21wbGV0aW9uSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JZH0vbWVzc2FnZXNgLCBDaGF0Q29tcGxldGlvblN0b3JlTWVzc2FnZXNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlc1BhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ2hhdENvbXBsZXRpb25TdG9yZU1lc3NhZ2VzUGFnZSIsIk1lc3NhZ2VzIiwibGlzdCIsImNvbXBsZXRpb25JZCIsInF1ZXJ5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJnZXRBUElMaXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/chat/completions/messages.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/completions.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/completions.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Completions: () => (/* binding */ Completions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Completions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    create(body, options) {\n        return this._client.post(\"/completions\", {\n            body,\n            ...options,\n            stream: body.stream ?? false\n        });\n    }\n} //# sourceMappingURL=completions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUN2QyxNQUFNQyxvQkFBb0JELHNEQUFXQTtJQUN4Q0UsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGdCQUFnQjtZQUFFSDtZQUFNLEdBQUdDLE9BQU87WUFBRUcsUUFBUUosS0FBS0ksTUFBTSxJQUFJO1FBQU07SUFDOUY7QUFDSixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvY29tcGxldGlvbnMubWpzPzIwZWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2NvbXBsZXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zLCBzdHJlYW06IGJvZHkuc3RyZWFtID8/IGZhbHNlIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJDb21wbGV0aW9ucyIsImNyZWF0ZSIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJzdHJlYW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/completions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/embeddings.mjs":
/*!**************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/embeddings.mjs ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Embeddings: () => (/* binding */ Embeddings)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Embeddings extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     */ create(body, options) {\n        const hasUserProvidedEncodingFormat = !!body.encoding_format;\n        // No encoding_format specified, defaulting to base64 for performance reasons\n        // See https://github.com/openai/openai-node/pull/1312\n        let encoding_format = hasUserProvidedEncodingFormat ? body.encoding_format : \"base64\";\n        if (hasUserProvidedEncodingFormat) {\n            _core_mjs__WEBPACK_IMPORTED_MODULE_1__.debug(\"Request\", \"User defined encoding_format:\", body.encoding_format);\n        }\n        const response = this._client.post(\"/embeddings\", {\n            body: {\n                ...body,\n                encoding_format: encoding_format\n            },\n            ...options\n        });\n        // if the user specified an encoding_format, return the response as-is\n        if (hasUserProvidedEncodingFormat) {\n            return response;\n        }\n        // in this stage, we are sure the user did not specify an encoding_format\n        // and we defaulted to base64 for performance reasons\n        // we are sure then that the response is base64 encoded, let's decode it\n        // the returned result will be a float32 array since this is OpenAI API's default encoding\n        _core_mjs__WEBPACK_IMPORTED_MODULE_1__.debug(\"response\", \"Decoding base64 embeddings to float32 array\");\n        return response._thenUnwrap((response)=>{\n            if (response && response.data) {\n                response.data.forEach((embeddingBase64Obj)=>{\n                    const embeddingBase64Str = embeddingBase64Obj.embedding;\n                    embeddingBase64Obj.embedding = _core_mjs__WEBPACK_IMPORTED_MODULE_1__.toFloat32Array(embeddingBase64Str);\n                });\n            }\n            return response;\n        });\n    }\n} //# sourceMappingURL=embeddings.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2VtYmVkZGluZ3MubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUNWO0FBQzdCLE1BQU1FLG1CQUFtQkYsc0RBQVdBO0lBQ3ZDOztLQUVDLEdBQ0RHLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE1BQU1DLGdDQUFnQyxDQUFDLENBQUNGLEtBQUtHLGVBQWU7UUFDNUQsNkVBQTZFO1FBQzdFLHNEQUFzRDtRQUN0RCxJQUFJQSxrQkFBa0JELGdDQUFnQ0YsS0FBS0csZUFBZSxHQUFHO1FBQzdFLElBQUlELCtCQUErQjtZQUMvQkwsNENBQVUsQ0FBQyxXQUFXLGlDQUFpQ0csS0FBS0csZUFBZTtRQUMvRTtRQUNBLE1BQU1FLFdBQVcsSUFBSSxDQUFDQyxPQUFPLENBQUNDLElBQUksQ0FBQyxlQUFlO1lBQzlDUCxNQUFNO2dCQUNGLEdBQUdBLElBQUk7Z0JBQ1BHLGlCQUFpQkE7WUFDckI7WUFDQSxHQUFHRixPQUFPO1FBQ2Q7UUFDQSxzRUFBc0U7UUFDdEUsSUFBSUMsK0JBQStCO1lBQy9CLE9BQU9HO1FBQ1g7UUFDQSx5RUFBeUU7UUFDekUscURBQXFEO1FBQ3JELHdFQUF3RTtRQUN4RSwwRkFBMEY7UUFDMUZSLDRDQUFVLENBQUMsWUFBWTtRQUN2QixPQUFPUSxTQUFTRyxXQUFXLENBQUMsQ0FBQ0g7WUFDekIsSUFBSUEsWUFBWUEsU0FBU0ksSUFBSSxFQUFFO2dCQUMzQkosU0FBU0ksSUFBSSxDQUFDQyxPQUFPLENBQUMsQ0FBQ0M7b0JBQ25CLE1BQU1DLHFCQUFxQkQsbUJBQW1CRSxTQUFTO29CQUN2REYsbUJBQW1CRSxTQUFTLEdBQUdoQixxREFBbUIsQ0FBQ2U7Z0JBQ3ZEO1lBQ0o7WUFDQSxPQUFPUDtRQUNYO0lBQ0o7QUFDSixFQUNBLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZW1iZWRkaW5ncy5tanM/YzFkYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi9jb3JlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEVtYmVkZGluZ3MgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbWJlZGRpbmcgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgaW5wdXQgdGV4dC5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCA9ICEhYm9keS5lbmNvZGluZ19mb3JtYXQ7XG4gICAgICAgIC8vIE5vIGVuY29kaW5nX2Zvcm1hdCBzcGVjaWZpZWQsIGRlZmF1bHRpbmcgdG8gYmFzZTY0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbmFpL29wZW5haS1ub2RlL3B1bGwvMTMxMlxuICAgICAgICBsZXQgZW5jb2RpbmdfZm9ybWF0ID0gaGFzVXNlclByb3ZpZGVkRW5jb2RpbmdGb3JtYXQgPyBib2R5LmVuY29kaW5nX2Zvcm1hdCA6ICdiYXNlNjQnO1xuICAgICAgICBpZiAoaGFzVXNlclByb3ZpZGVkRW5jb2RpbmdGb3JtYXQpIHtcbiAgICAgICAgICAgIENvcmUuZGVidWcoJ1JlcXVlc3QnLCAnVXNlciBkZWZpbmVkIGVuY29kaW5nX2Zvcm1hdDonLCBib2R5LmVuY29kaW5nX2Zvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLl9jbGllbnQucG9zdCgnL2VtYmVkZGluZ3MnLCB7XG4gICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgLi4uYm9keSxcbiAgICAgICAgICAgICAgICBlbmNvZGluZ19mb3JtYXQ6IGVuY29kaW5nX2Zvcm1hdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgc3BlY2lmaWVkIGFuIGVuY29kaW5nX2Zvcm1hdCwgcmV0dXJuIHRoZSByZXNwb25zZSBhcy1pc1xuICAgICAgICBpZiAoaGFzVXNlclByb3ZpZGVkRW5jb2RpbmdGb3JtYXQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbiB0aGlzIHN0YWdlLCB3ZSBhcmUgc3VyZSB0aGUgdXNlciBkaWQgbm90IHNwZWNpZnkgYW4gZW5jb2RpbmdfZm9ybWF0XG4gICAgICAgIC8vIGFuZCB3ZSBkZWZhdWx0ZWQgdG8gYmFzZTY0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gICAgICAgIC8vIHdlIGFyZSBzdXJlIHRoZW4gdGhhdCB0aGUgcmVzcG9uc2UgaXMgYmFzZTY0IGVuY29kZWQsIGxldCdzIGRlY29kZSBpdFxuICAgICAgICAvLyB0aGUgcmV0dXJuZWQgcmVzdWx0IHdpbGwgYmUgYSBmbG9hdDMyIGFycmF5IHNpbmNlIHRoaXMgaXMgT3BlbkFJIEFQSSdzIGRlZmF1bHQgZW5jb2RpbmdcbiAgICAgICAgQ29yZS5kZWJ1ZygncmVzcG9uc2UnLCAnRGVjb2RpbmcgYmFzZTY0IGVtYmVkZGluZ3MgdG8gZmxvYXQzMiBhcnJheScpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuX3RoZW5VbndyYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZW1iZWRkaW5nQmFzZTY0T2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZ0Jhc2U2NFN0ciA9IGVtYmVkZGluZ0Jhc2U2NE9iai5lbWJlZGRpbmc7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ0Jhc2U2NE9iai5lbWJlZGRpbmcgPSBDb3JlLnRvRmxvYXQzMkFycmF5KGVtYmVkZGluZ0Jhc2U2NFN0cik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYmVkZGluZ3MubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvcmUiLCJFbWJlZGRpbmdzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCIsImVuY29kaW5nX2Zvcm1hdCIsImRlYnVnIiwicmVzcG9uc2UiLCJfY2xpZW50IiwicG9zdCIsIl90aGVuVW53cmFwIiwiZGF0YSIsImZvckVhY2giLCJlbWJlZGRpbmdCYXNlNjRPYmoiLCJlbWJlZGRpbmdCYXNlNjRTdHIiLCJlbWJlZGRpbmciLCJ0b0Zsb2F0MzJBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/embeddings.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/evals.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/evals.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EvalListResponsesPage: () => (/* binding */ EvalListResponsesPage),\n/* harmony export */   Evals: () => (/* binding */ Evals)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runs/runs.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/runs.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Evals extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.runs = new _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs(this._client);\n    }\n    /**\n     * Create the structure of an evaluation that can be used to test a model's\n     * performance. An evaluation is a set of testing criteria and a datasource. After\n     * creating an evaluation, you can run it on different models and model parameters.\n     * We support several types of graders and datasources. For more information, see\n     * the [Evals guide](https://platform.openai.com/docs/guides/evals).\n     */ create(body, options) {\n        return this._client.post(\"/evals\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Get an evaluation by ID.\n     */ retrieve(evalId, options) {\n        return this._client.get(`/evals/${evalId}`, options);\n    }\n    /**\n     * Update certain properties of an evaluation.\n     */ update(evalId, body, options) {\n        return this._client.post(`/evals/${evalId}`, {\n            body,\n            ...options\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/evals\", EvalListResponsesPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Delete an evaluation.\n     */ del(evalId, options) {\n        return this._client.delete(`/evals/${evalId}`, options);\n    }\n}\nclass EvalListResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nEvals.EvalListResponsesPage = EvalListResponsesPage;\nEvals.Runs = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.Runs;\nEvals.RunListResponsesPage = _runs_runs_mjs__WEBPACK_IMPORTED_MODULE_1__.RunListResponsesPage; //# sourceMappingURL=evals.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL2V2YWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDQztBQUNQO0FBQ21CO0FBQ1o7QUFDM0MsTUFBTU0sY0FBY04sc0RBQVdBO0lBQ2xDTyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlQLGdEQUFZLENBQUMsSUFBSSxDQUFDUSxPQUFPO0lBQzdDO0lBQ0E7Ozs7OztLQU1DLEdBQ0RDLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxVQUFVO1lBQUVGO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQzFEO0lBQ0E7O0tBRUMsR0FDREUsU0FBU0MsTUFBTSxFQUFFSCxPQUFPLEVBQUU7UUFDdEIsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ08sR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFRCxPQUFPLENBQUMsRUFBRUg7SUFDaEQ7SUFDQTs7S0FFQyxHQUNESyxPQUFPRixNQUFNLEVBQUVKLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzFCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRUUsT0FBTyxDQUFDLEVBQUU7WUFBRUo7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDcEU7SUFDQU0sS0FBS0MsUUFBUSxDQUFDLENBQUMsRUFBRVAsT0FBTyxFQUFFO1FBQ3RCLElBQUlaLDJEQUFnQkEsQ0FBQ21CLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNWLE9BQU8sQ0FBQ1csVUFBVSxDQUFDLFVBQVVDLHVCQUF1QjtZQUFFRjtZQUFPLEdBQUdQLE9BQU87UUFBQztJQUN4RjtJQUNBOztLQUVDLEdBQ0RVLElBQUlQLE1BQU0sRUFBRUgsT0FBTyxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNjLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRVIsT0FBTyxDQUFDLEVBQUVIO0lBQ25EO0FBQ0o7QUFDTyxNQUFNUyw4QkFBOEJqQix1REFBVUE7QUFDckQ7QUFDQUMsTUFBTWdCLHFCQUFxQixHQUFHQTtBQUM5QmhCLE1BQU1GLElBQUksR0FBR0EsZ0RBQUlBO0FBQ2pCRSxNQUFNSCxvQkFBb0IsR0FBR0EsZ0VBQW9CQSxFQUNqRCxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL2V2YWxzLm1qcz9mODA2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGlzUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCAqIGFzIFJ1bnNBUEkgZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgUnVuTGlzdFJlc3BvbnNlc1BhZ2UsIFJ1bnMsIH0gZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEV2YWxzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnJ1bnMgPSBuZXcgUnVuc0FQSS5SdW5zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgc3RydWN0dXJlIG9mIGFuIGV2YWx1YXRpb24gdGhhdCBjYW4gYmUgdXNlZCB0byB0ZXN0IGEgbW9kZWwnc1xuICAgICAqIHBlcmZvcm1hbmNlLiBBbiBldmFsdWF0aW9uIGlzIGEgc2V0IG9mIHRlc3RpbmcgY3JpdGVyaWEgYW5kIGEgZGF0YXNvdXJjZS4gQWZ0ZXJcbiAgICAgKiBjcmVhdGluZyBhbiBldmFsdWF0aW9uLCB5b3UgY2FuIHJ1biBpdCBvbiBkaWZmZXJlbnQgbW9kZWxzIGFuZCBtb2RlbCBwYXJhbWV0ZXJzLlxuICAgICAqIFdlIHN1cHBvcnQgc2V2ZXJhbCB0eXBlcyBvZiBncmFkZXJzIGFuZCBkYXRhc291cmNlcy4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuICAgICAqIHRoZSBbRXZhbHMgZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9ldmFscykuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZXZhbHMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIGJ5IElELlxuICAgICAqL1xuICAgIHJldHJpZXZlKGV2YWxJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2V2YWxzLyR7ZXZhbElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY2VydGFpbiBwcm9wZXJ0aWVzIG9mIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlKGV2YWxJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9ldmFscy8ke2V2YWxJZH1gLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9ldmFscycsIEV2YWxMaXN0UmVzcG9uc2VzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgZGVsKGV2YWxJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShgL2V2YWxzLyR7ZXZhbElkfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmFsTGlzdFJlc3BvbnNlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkV2YWxzLkV2YWxMaXN0UmVzcG9uc2VzUGFnZSA9IEV2YWxMaXN0UmVzcG9uc2VzUGFnZTtcbkV2YWxzLlJ1bnMgPSBSdW5zO1xuRXZhbHMuUnVuTGlzdFJlc3BvbnNlc1BhZ2UgPSBSdW5MaXN0UmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2YWxzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiUnVuc0FQSSIsIlJ1bkxpc3RSZXNwb25zZXNQYWdlIiwiUnVucyIsIkN1cnNvclBhZ2UiLCJFdmFscyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwicnVucyIsIl9jbGllbnQiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsInBvc3QiLCJyZXRyaWV2ZSIsImV2YWxJZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJFdmFsTGlzdFJlc3BvbnNlc1BhZ2UiLCJkZWwiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/evals.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/output-items.mjs":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/output-items.mjs ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OutputItemListResponsesPage: () => (/* binding */ OutputItemListResponsesPage),\n/* harmony export */   OutputItems: () => (/* binding */ OutputItems)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass OutputItems extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Get an evaluation run output item by ID.\n     */ retrieve(evalId, runId, outputItemId, options) {\n        return this._client.get(`/evals/${evalId}/runs/${runId}/output_items/${outputItemId}`, options);\n    }\n    list(evalId, runId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(evalId, runId, {}, query);\n        }\n        return this._client.getAPIList(`/evals/${evalId}/runs/${runId}/output_items`, OutputItemListResponsesPage, {\n            query,\n            ...options\n        });\n    }\n}\nclass OutputItemListResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nOutputItems.OutputItemListResponsesPage = OutputItemListResponsesPage; //# sourceMappingURL=output-items.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL3J1bnMvb3V0cHV0LWl0ZW1zLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUNDO0FBQ0E7QUFDOUMsTUFBTUcsb0JBQW9CSCxzREFBV0E7SUFDeEM7O0tBRUMsR0FDREksU0FBU0MsTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFFO1FBQzNDLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRUwsT0FBTyxNQUFNLEVBQUVDLE1BQU0sY0FBYyxFQUFFQyxhQUFhLENBQUMsRUFBRUM7SUFDM0Y7SUFDQUcsS0FBS04sTUFBTSxFQUFFQyxLQUFLLEVBQUVNLFFBQVEsQ0FBQyxDQUFDLEVBQUVKLE9BQU8sRUFBRTtRQUNyQyxJQUFJUCwyREFBZ0JBLENBQUNXLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQ04sUUFBUUMsT0FBTyxDQUFDLEdBQUdNO1FBQ3hDO1FBQ0EsT0FBTyxJQUFJLENBQUNILE9BQU8sQ0FBQ0ksVUFBVSxDQUFDLENBQUMsT0FBTyxFQUFFUixPQUFPLE1BQU0sRUFBRUMsTUFBTSxhQUFhLENBQUMsRUFBRVEsNkJBQTZCO1lBQUVGO1lBQU8sR0FBR0osT0FBTztRQUFDO0lBQ25JO0FBQ0o7QUFDTyxNQUFNTSxvQ0FBb0NaLHVEQUFVQTtBQUMzRDtBQUNBQyxZQUFZVywyQkFBMkIsR0FBR0EsNkJBQzFDLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZXZhbHMvcnVucy9vdXRwdXQtaXRlbXMubWpzPzRhYTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE91dHB1dEl0ZW1zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIHJ1biBvdXRwdXQgaXRlbSBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShldmFsSWQsIHJ1bklkLCBvdXRwdXRJdGVtSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfS9vdXRwdXRfaXRlbXMvJHtvdXRwdXRJdGVtSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3QoZXZhbElkLCBydW5JZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QoZXZhbElkLCBydW5JZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfS9vdXRwdXRfaXRlbXNgLCBPdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE91dHB1dEl0ZW1MaXN0UmVzcG9uc2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuT3V0cHV0SXRlbXMuT3V0cHV0SXRlbUxpc3RSZXNwb25zZXNQYWdlID0gT3V0cHV0SXRlbUxpc3RSZXNwb25zZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0cHV0LWl0ZW1zLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ3Vyc29yUGFnZSIsIk91dHB1dEl0ZW1zIiwicmV0cmlldmUiLCJldmFsSWQiLCJydW5JZCIsIm91dHB1dEl0ZW1JZCIsIm9wdGlvbnMiLCJfY2xpZW50IiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIk91dHB1dEl0ZW1MaXN0UmVzcG9uc2VzUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/output-items.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/runs.mjs":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/runs.mjs ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RunListResponsesPage: () => (/* binding */ RunListResponsesPage),\n/* harmony export */   Runs: () => (/* binding */ Runs)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _output_items_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./output-items.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/output-items.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Runs extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.outputItems = new _output_items_mjs__WEBPACK_IMPORTED_MODULE_1__.OutputItems(this._client);\n    }\n    /**\n     * Create a new evaluation run. This is the endpoint that will kick off grading.\n     */ create(evalId, body, options) {\n        return this._client.post(`/evals/${evalId}/runs`, {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Get an evaluation run by ID.\n     */ retrieve(evalId, runId, options) {\n        return this._client.get(`/evals/${evalId}/runs/${runId}`, options);\n    }\n    list(evalId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list(evalId, {}, query);\n        }\n        return this._client.getAPIList(`/evals/${evalId}/runs`, RunListResponsesPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Delete an eval run.\n     */ del(evalId, runId, options) {\n        return this._client.delete(`/evals/${evalId}/runs/${runId}`, options);\n    }\n    /**\n     * Cancel an ongoing evaluation run.\n     */ cancel(evalId, runId, options) {\n        return this._client.post(`/evals/${evalId}/runs/${runId}`, options);\n    }\n}\nclass RunListResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nRuns.RunListResponsesPage = RunListResponsesPage;\nRuns.OutputItems = _output_items_mjs__WEBPACK_IMPORTED_MODULE_1__.OutputItems;\nRuns.OutputItemListResponsesPage = _output_items_mjs__WEBPACK_IMPORTED_MODULE_1__.OutputItemListResponsesPage; //# sourceMappingURL=runs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL3J1bnMvcnVucy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0M7QUFDQTtBQUMwQjtBQUMxQjtBQUM5QyxNQUFNTSxhQUFhTixzREFBV0E7SUFDakNPLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSVAsMERBQTBCLENBQUMsSUFBSSxDQUFDUSxPQUFPO0lBQ2xFO0lBQ0E7O0tBRUMsR0FDREMsT0FBT0MsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUMxQixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUVILE9BQU8sS0FBSyxDQUFDLEVBQUU7WUFBRUM7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDekU7SUFDQTs7S0FFQyxHQUNERSxTQUFTSixNQUFNLEVBQUVLLEtBQUssRUFBRUgsT0FBTyxFQUFFO1FBQzdCLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNRLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRU4sT0FBTyxNQUFNLEVBQUVLLE1BQU0sQ0FBQyxFQUFFSDtJQUM5RDtJQUNBSyxLQUFLUCxNQUFNLEVBQUVRLFFBQVEsQ0FBQyxDQUFDLEVBQUVOLE9BQU8sRUFBRTtRQUM5QixJQUFJYiwyREFBZ0JBLENBQUNtQixRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRCxJQUFJLENBQUNQLFFBQVEsQ0FBQyxHQUFHUTtRQUNqQztRQUNBLE9BQU8sSUFBSSxDQUFDVixPQUFPLENBQUNXLFVBQVUsQ0FBQyxDQUFDLE9BQU8sRUFBRVQsT0FBTyxLQUFLLENBQUMsRUFBRVUsc0JBQXNCO1lBQUVGO1lBQU8sR0FBR04sT0FBTztRQUFDO0lBQ3RHO0lBQ0E7O0tBRUMsR0FDRFMsSUFBSVgsTUFBTSxFQUFFSyxLQUFLLEVBQUVILE9BQU8sRUFBRTtRQUN4QixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDYyxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUVaLE9BQU8sTUFBTSxFQUFFSyxNQUFNLENBQUMsRUFBRUg7SUFDakU7SUFDQTs7S0FFQyxHQUNEVyxPQUFPYixNQUFNLEVBQUVLLEtBQUssRUFBRUgsT0FBTyxFQUFFO1FBQzNCLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNLLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRUgsT0FBTyxNQUFNLEVBQUVLLE1BQU0sQ0FBQyxFQUFFSDtJQUMvRDtBQUNKO0FBQ08sTUFBTVEsNkJBQTZCakIsdURBQVVBO0FBQ3BEO0FBQ0FDLEtBQUtnQixvQkFBb0IsR0FBR0E7QUFDNUJoQixLQUFLRixXQUFXLEdBQUdBLDBEQUFXQTtBQUM5QkUsS0FBS0gsMkJBQTJCLEdBQUdBLDBFQUEyQkEsRUFDOUQsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9ldmFscy9ydW5zL3J1bnMubWpzPzA3NmEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgT3V0cHV0SXRlbXNBUEkgZnJvbSBcIi4vb3V0cHV0LWl0ZW1zLm1qc1wiO1xuaW1wb3J0IHsgT3V0cHV0SXRlbUxpc3RSZXNwb25zZXNQYWdlLCBPdXRwdXRJdGVtcywgfSBmcm9tIFwiLi9vdXRwdXQtaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgUnVucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5vdXRwdXRJdGVtcyA9IG5ldyBPdXRwdXRJdGVtc0FQSS5PdXRwdXRJdGVtcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZXZhbHVhdGlvbiBydW4uIFRoaXMgaXMgdGhlIGVuZHBvaW50IHRoYXQgd2lsbCBraWNrIG9mZiBncmFkaW5nLlxuICAgICAqL1xuICAgIGNyZWF0ZShldmFsSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvZXZhbHMvJHtldmFsSWR9L3J1bnNgLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIHJ1biBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShldmFsSWQsIHJ1bklkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZXZhbHMvJHtldmFsSWR9L3J1bnMvJHtydW5JZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdChldmFsSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KGV2YWxJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9ldmFscy8ke2V2YWxJZH0vcnVuc2AsIFJ1bkxpc3RSZXNwb25zZXNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gZXZhbCBydW4uXG4gICAgICovXG4gICAgZGVsKGV2YWxJZCwgcnVuSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYW4gb25nb2luZyBldmFsdWF0aW9uIHJ1bi5cbiAgICAgKi9cbiAgICBjYW5jZWwoZXZhbElkLCBydW5JZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC9ldmFscy8ke2V2YWxJZH0vcnVucy8ke3J1bklkfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSdW5MaXN0UmVzcG9uc2VzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuUnVucy5SdW5MaXN0UmVzcG9uc2VzUGFnZSA9IFJ1bkxpc3RSZXNwb25zZXNQYWdlO1xuUnVucy5PdXRwdXRJdGVtcyA9IE91dHB1dEl0ZW1zO1xuUnVucy5PdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2UgPSBPdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5zLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiT3V0cHV0SXRlbXNBUEkiLCJPdXRwdXRJdGVtTGlzdFJlc3BvbnNlc1BhZ2UiLCJPdXRwdXRJdGVtcyIsIkN1cnNvclBhZ2UiLCJSdW5zIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJvdXRwdXRJdGVtcyIsIl9jbGllbnQiLCJjcmVhdGUiLCJldmFsSWQiLCJib2R5Iiwib3B0aW9ucyIsInBvc3QiLCJyZXRyaWV2ZSIsInJ1bklkIiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIlJ1bkxpc3RSZXNwb25zZXNQYWdlIiwiZGVsIiwiZGVsZXRlIiwiY2FuY2VsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/evals/runs/runs.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/files.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/files.mjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileObjectsPage: () => (/* binding */ FileObjectsPage),\n/* harmony export */   Files: () => (/* binding */ Files)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\nclass Files extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Upload a file that can be used across various endpoints. Individual files can be\n     * up to 512 MB, and the size of all files uploaded by one organization can be up\n     * to 100 GB.\n     *\n     * The Assistants API supports files up to 2 million tokens and of specific file\n     * types. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n     * details.\n     *\n     * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n     * required formats for fine-tuning\n     * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n     * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n     * models.\n     *\n     * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\n     * has a specific required\n     * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */ create(body, options) {\n        return this._client.post(\"/files\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Returns information about a specific file.\n     */ retrieve(fileId, options) {\n        return this._client.get(`/files/${fileId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/files\", FileObjectsPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Delete a file.\n     */ del(fileId, options) {\n        return this._client.delete(`/files/${fileId}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */ content(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, {\n            ...options,\n            headers: {\n                Accept: \"application/binary\",\n                ...options?.headers\n            },\n            __binaryResponse: true\n        });\n    }\n    /**\n     * Returns the contents of the specified file.\n     *\n     * @deprecated The `.content()` method should be used instead\n     */ retrieveContent(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, options);\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */ async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set([\n            \"processed\",\n            \"error\",\n            \"deleted\"\n        ]);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while(!file.status || !TERMINAL_STATES.has(file.status)){\n            await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.sleep)(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new _error_mjs__WEBPACK_IMPORTED_MODULE_3__.APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`\n                });\n            }\n        }\n        return file;\n    }\n}\nclass FileObjectsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.CursorPage {\n}\nFiles.FileObjectsPage = FileObjectsPage; //# sourceMappingURL=files.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3hDO0FBQ0M7QUFDWDtBQUNxQjtBQUNyQjtBQUNXO0FBQ3hDLE1BQU1NLGNBQWNOLHNEQUFXQTtJQUNsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQXNCQyxHQUNETyxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsVUFBVVAsa0VBQWdDLENBQUM7WUFBRUk7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDM0Y7SUFDQTs7S0FFQyxHQUNESSxTQUFTQyxNQUFNLEVBQUVMLE9BQU8sRUFBRTtRQUN0QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUVELE9BQU8sQ0FBQyxFQUFFTDtJQUNoRDtJQUNBTyxLQUFLQyxRQUFRLENBQUMsQ0FBQyxFQUFFUixPQUFPLEVBQUU7UUFDdEIsSUFBSVIsMkRBQWdCQSxDQUFDZ0IsUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBR0M7UUFDekI7UUFDQSxPQUFPLElBQUksQ0FBQ1AsT0FBTyxDQUFDUSxVQUFVLENBQUMsVUFBVUMsaUJBQWlCO1lBQUVGO1lBQU8sR0FBR1IsT0FBTztRQUFDO0lBQ2xGO0lBQ0E7O0tBRUMsR0FDRFcsSUFBSU4sTUFBTSxFQUFFTCxPQUFPLEVBQUU7UUFDakIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ1csTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFUCxPQUFPLENBQUMsRUFBRUw7SUFDbkQ7SUFDQTs7S0FFQyxHQUNEYSxRQUFRUixNQUFNLEVBQUVMLE9BQU8sRUFBRTtRQUNyQixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUVELE9BQU8sUUFBUSxDQUFDLEVBQUU7WUFDaEQsR0FBR0wsT0FBTztZQUNWYyxTQUFTO2dCQUFFQyxRQUFRO2dCQUFzQixHQUFHZixTQUFTYyxPQUFPO1lBQUM7WUFDN0RFLGtCQUFrQjtRQUN0QjtJQUNKO0lBQ0E7Ozs7S0FJQyxHQUNEQyxnQkFBZ0JaLE1BQU0sRUFBRUwsT0FBTyxFQUFFO1FBQzdCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRUQsT0FBTyxRQUFRLENBQUMsRUFBRUw7SUFDeEQ7SUFDQTs7S0FFQyxHQUNELE1BQU1rQixrQkFBa0JDLEVBQUUsRUFBRSxFQUFFQyxlQUFlLElBQUksRUFBRUMsVUFBVSxLQUFLLEtBQUssSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUU7UUFDaEYsTUFBTUMsa0JBQWtCLElBQUlDLElBQUk7WUFBQztZQUFhO1lBQVM7U0FBVTtRQUNqRSxNQUFNQyxRQUFRQyxLQUFLQyxHQUFHO1FBQ3RCLElBQUlDLE9BQU8sTUFBTSxJQUFJLENBQUN2QixRQUFRLENBQUNlO1FBQy9CLE1BQU8sQ0FBQ1EsS0FBS0MsTUFBTSxJQUFJLENBQUNOLGdCQUFnQk8sR0FBRyxDQUFDRixLQUFLQyxNQUFNLEVBQUc7WUFDdEQsTUFBTW5DLGdEQUFLQSxDQUFDMkI7WUFDWk8sT0FBTyxNQUFNLElBQUksQ0FBQ3ZCLFFBQVEsQ0FBQ2U7WUFDM0IsSUFBSU0sS0FBS0MsR0FBRyxLQUFLRixRQUFRSCxTQUFTO2dCQUM5QixNQUFNLElBQUkzQixpRUFBeUJBLENBQUM7b0JBQ2hDb0MsU0FBUyxDQUFDLDhCQUE4QixFQUFFWCxHQUFHLDRCQUE0QixFQUFFRSxRQUFRLGNBQWMsQ0FBQztnQkFDdEc7WUFDSjtRQUNKO1FBQ0EsT0FBT007SUFDWDtBQUNKO0FBQ08sTUFBTWpCLHdCQUF3QmQsdURBQVVBO0FBQy9DO0FBQ0FDLE1BQU1hLGVBQWUsR0FBR0EsaUJBQ3hCLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmlsZXMubWpzPzAwZjkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IgfSBmcm9tIFwiLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgKiBhcyBDb3JlIGZyb20gXCIuLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhIGZpbGUgdGhhdCBjYW4gYmUgdXNlZCBhY3Jvc3MgdmFyaW91cyBlbmRwb2ludHMuIEluZGl2aWR1YWwgZmlsZXMgY2FuIGJlXG4gICAgICogdXAgdG8gNTEyIE1CLCBhbmQgdGhlIHNpemUgb2YgYWxsIGZpbGVzIHVwbG9hZGVkIGJ5IG9uZSBvcmdhbml6YXRpb24gY2FuIGJlIHVwXG4gICAgICogdG8gMTAwIEdCLlxuICAgICAqXG4gICAgICogVGhlIEFzc2lzdGFudHMgQVBJIHN1cHBvcnRzIGZpbGVzIHVwIHRvIDIgbWlsbGlvbiB0b2tlbnMgYW5kIG9mIHNwZWNpZmljIGZpbGVcbiAgICAgKiB0eXBlcy4gU2VlIHRoZVxuICAgICAqIFtBc3Npc3RhbnRzIFRvb2xzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzKSBmb3JcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIEZpbmUtdHVuaW5nIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzLiBUaGUgaW5wdXQgYWxzbyBoYXMgY2VydGFpblxuICAgICAqIHJlcXVpcmVkIGZvcm1hdHMgZm9yIGZpbmUtdHVuaW5nXG4gICAgICogW2NoYXRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY2hhdC1pbnB1dCkgb3JcbiAgICAgKiBbY29tcGxldGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY29tcGxldGlvbnMtaW5wdXQpXG4gICAgICogbW9kZWxzLlxuICAgICAqXG4gICAgICogVGhlIEJhdGNoIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzIHVwIHRvIDIwMCBNQiBpbiBzaXplLiBUaGUgaW5wdXQgYWxzb1xuICAgICAqIGhhcyBhIHNwZWNpZmljIHJlcXVpcmVkXG4gICAgICogW2Zvcm1hdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9iYXRjaC9yZXF1ZXN0LWlucHV0KS5cbiAgICAgKlxuICAgICAqIFBsZWFzZSBbY29udGFjdCB1c10oaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vKSBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGVzZVxuICAgICAqIHN0b3JhZ2UgbGltaXRzLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbGVzJywgQ29yZS5tdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAgICovXG4gICAgcmV0cmlldmUoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maWxlcycsIEZpbGVPYmplY3RzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgZmlsZS5cbiAgICAgKi9cbiAgICBkZWwoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvZmlsZXMvJHtmaWxlSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAgICAgKi9cbiAgICBjb250ZW50KGZpbGVJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vYmluYXJ5JywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBzcGVjaWZpZWQgZmlsZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBgLmNvbnRlbnQoKWAgbWV0aG9kIHNob3VsZCBiZSB1c2VkIGluc3RlYWRcbiAgICAgKi9cbiAgICByZXRyaWV2ZUNvbnRlbnQoZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvZmlsZXMvJHtmaWxlSWR9L2NvbnRlbnRgLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdHMgZm9yIHRoZSBnaXZlbiBmaWxlIHRvIGJlIHByb2Nlc3NlZCwgZGVmYXVsdCB0aW1lb3V0IGlzIDMwIG1pbnMuXG4gICAgICovXG4gICAgYXN5bmMgd2FpdEZvclByb2Nlc3NpbmcoaWQsIHsgcG9sbEludGVydmFsID0gNTAwMCwgbWF4V2FpdCA9IDMwICogNjAgKiAxMDAwIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBURVJNSU5BTF9TVEFURVMgPSBuZXcgU2V0KFsncHJvY2Vzc2VkJywgJ2Vycm9yJywgJ2RlbGV0ZWQnXSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcbiAgICAgICAgd2hpbGUgKCFmaWxlLnN0YXR1cyB8fCAhVEVSTUlOQUxfU1RBVEVTLmhhcyhmaWxlLnN0YXR1cykpIHtcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHBvbGxJbnRlcnZhbCk7XG4gICAgICAgICAgICBmaWxlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShpZCk7XG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gbWF4V2FpdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYEdpdmluZyB1cCBvbiB3YWl0aW5nIGZvciBmaWxlICR7aWR9IHRvIGZpbmlzaCBwcm9jZXNzaW5nIGFmdGVyICR7bWF4V2FpdH0gbWlsbGlzZWNvbmRzLmAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZpbGVPYmplY3RzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuRmlsZXMuRmlsZU9iamVjdHNQYWdlID0gRmlsZU9iamVjdHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsZXMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJzbGVlcCIsIkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3IiLCJDb3JlIiwiQ3Vyc29yUGFnZSIsIkZpbGVzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsInJldHJpZXZlIiwiZmlsZUlkIiwiZ2V0IiwibGlzdCIsInF1ZXJ5IiwiZ2V0QVBJTGlzdCIsIkZpbGVPYmplY3RzUGFnZSIsImRlbCIsImRlbGV0ZSIsImNvbnRlbnQiLCJoZWFkZXJzIiwiQWNjZXB0IiwiX19iaW5hcnlSZXNwb25zZSIsInJldHJpZXZlQ29udGVudCIsIndhaXRGb3JQcm9jZXNzaW5nIiwiaWQiLCJwb2xsSW50ZXJ2YWwiLCJtYXhXYWl0IiwiVEVSTUlOQUxfU1RBVEVTIiwiU2V0Iiwic3RhcnQiLCJEYXRlIiwibm93IiwiZmlsZSIsInN0YXR1cyIsImhhcyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/files.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/checkpoints.mjs":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/checkpoints.mjs ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Checkpoints: () => (/* binding */ Checkpoints)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _permissions_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./permissions.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/permissions.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Checkpoints extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.permissions = new _permissions_mjs__WEBPACK_IMPORTED_MODULE_1__.Permissions(this._client);\n    }\n}\nCheckpoints.Permissions = _permissions_mjs__WEBPACK_IMPORTED_MODULE_1__.Permissions;\nCheckpoints.PermissionCreateResponsesPage = _permissions_mjs__WEBPACK_IMPORTED_MODULE_1__.PermissionCreateResponsesPage; //# sourceMappingURL=checkpoints.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2NoZWNrcG9pbnRzL2NoZWNrcG9pbnRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzRkFBc0Y7QUFDbEM7QUFDQTtBQUM0QjtBQUN6RSxNQUFNSSxvQkFBb0JKLHNEQUFXQTtJQUN4Q0ssYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJTix5REFBMEIsQ0FBQyxJQUFJLENBQUNPLE9BQU87SUFDbEU7QUFDSjtBQUNBSixZQUFZRCxXQUFXLEdBQUdBLHlEQUFXQTtBQUNyQ0MsWUFBWUYsNkJBQTZCLEdBQUdBLDJFQUE2QkEsRUFDekUsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9jaGVja3BvaW50cy9jaGVja3BvaW50cy5tanM/ODQ5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBQZXJtaXNzaW9uc0FQSSBmcm9tIFwiLi9wZXJtaXNzaW9ucy5tanNcIjtcbmltcG9ydCB7IFBlcm1pc3Npb25DcmVhdGVSZXNwb25zZXNQYWdlLCBQZXJtaXNzaW9ucywgfSBmcm9tIFwiLi9wZXJtaXNzaW9ucy5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGVja3BvaW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IG5ldyBQZXJtaXNzaW9uc0FQSS5QZXJtaXNzaW9ucyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbn1cbkNoZWNrcG9pbnRzLlBlcm1pc3Npb25zID0gUGVybWlzc2lvbnM7XG5DaGVja3BvaW50cy5QZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZSA9IFBlcm1pc3Npb25DcmVhdGVSZXNwb25zZXNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2twb2ludHMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIlBlcm1pc3Npb25zQVBJIiwiUGVybWlzc2lvbkNyZWF0ZVJlc3BvbnNlc1BhZ2UiLCJQZXJtaXNzaW9ucyIsIkNoZWNrcG9pbnRzIiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJwZXJtaXNzaW9ucyIsIl9jbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/checkpoints.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/permissions.mjs":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/permissions.mjs ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PermissionCreateResponsesPage: () => (/* binding */ PermissionCreateResponsesPage),\n/* harmony export */   Permissions: () => (/* binding */ Permissions)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Permissions extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * **NOTE:** Calling this endpoint requires an [admin API key](../admin-api-keys).\n     *\n     * This enables organization owners to share fine-tuned models with other projects\n     * in their organization.\n     */ create(fineTunedModelCheckpoint, body, options) {\n        return this._client.getAPIList(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, PermissionCreateResponsesPage, {\n            body,\n            method: \"post\",\n            ...options\n        });\n    }\n    retrieve(fineTunedModelCheckpoint, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.retrieve(fineTunedModelCheckpoint, {}, query);\n        }\n        return this._client.get(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions`, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * **NOTE:** This endpoint requires an [admin API key](../admin-api-keys).\n     *\n     * Organization owners can use this endpoint to delete a permission for a\n     * fine-tuned model checkpoint.\n     */ del(fineTunedModelCheckpoint, permissionId, options) {\n        return this._client.delete(`/fine_tuning/checkpoints/${fineTunedModelCheckpoint}/permissions/${permissionId}`, options);\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class PermissionCreateResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.Page {\n}\nPermissions.PermissionCreateResponsesPage = PermissionCreateResponsesPage; //# sourceMappingURL=permissions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2NoZWNrcG9pbnRzL3Blcm1pc3Npb25zLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUNDO0FBQ047QUFDeEMsTUFBTUcsb0JBQW9CSCxzREFBV0E7SUFDeEM7Ozs7O0tBS0MsR0FDREksT0FBT0Msd0JBQXdCLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzVDLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNDLFVBQVUsQ0FBQyxDQUFDLHlCQUF5QixFQUFFSix5QkFBeUIsWUFBWSxDQUFDLEVBQUVLLCtCQUErQjtZQUFFSjtZQUFNSyxRQUFRO1lBQVEsR0FBR0osT0FBTztRQUFDO0lBQ3pLO0lBQ0FLLFNBQVNQLHdCQUF3QixFQUFFUSxRQUFRLENBQUMsQ0FBQyxFQUFFTixPQUFPLEVBQUU7UUFDcEQsSUFBSU4sMkRBQWdCQSxDQUFDWSxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRCxRQUFRLENBQUNQLDBCQUEwQixDQUFDLEdBQUdRO1FBQ3ZEO1FBQ0EsT0FBTyxJQUFJLENBQUNMLE9BQU8sQ0FBQ00sR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVULHlCQUF5QixZQUFZLENBQUMsRUFBRTtZQUN4RlE7WUFDQSxHQUFHTixPQUFPO1FBQ2Q7SUFDSjtJQUNBOzs7OztLQUtDLEdBQ0RRLElBQUlWLHdCQUF3QixFQUFFVyxZQUFZLEVBQUVULE9BQU8sRUFBRTtRQUNqRCxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDUyxNQUFNLENBQUMsQ0FBQyx5QkFBeUIsRUFBRVoseUJBQXlCLGFBQWEsRUFBRVcsYUFBYSxDQUFDLEVBQUVUO0lBQ25IO0FBQ0o7QUFDQTs7Q0FFQyxHQUNNLE1BQU1HLHNDQUFzQ1IsaURBQUlBO0FBQ3ZEO0FBQ0FDLFlBQVlPLDZCQUE2QixHQUFHQSwrQkFDNUMsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9jaGVja3BvaW50cy9wZXJtaXNzaW9ucy5tanM/NDVhMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogKipOT1RFOioqIENhbGxpbmcgdGhpcyBlbmRwb2ludCByZXF1aXJlcyBhbiBbYWRtaW4gQVBJIGtleV0oLi4vYWRtaW4tYXBpLWtleXMpLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIG9yZ2FuaXphdGlvbiBvd25lcnMgdG8gc2hhcmUgZmluZS10dW5lZCBtb2RlbHMgd2l0aCBvdGhlciBwcm9qZWN0c1xuICAgICAqIGluIHRoZWlyIG9yZ2FuaXphdGlvbi5cbiAgICAgKi9cbiAgICBjcmVhdGUoZmluZVR1bmVkTW9kZWxDaGVja3BvaW50LCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChgL2ZpbmVfdHVuaW5nL2NoZWNrcG9pbnRzLyR7ZmluZVR1bmVkTW9kZWxDaGVja3BvaW50fS9wZXJtaXNzaW9uc2AsIFBlcm1pc3Npb25DcmVhdGVSZXNwb25zZXNQYWdlLCB7IGJvZHksIG1ldGhvZDogJ3Bvc3QnLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICByZXRyaWV2ZShmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXRyaWV2ZShmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC9maW5lX3R1bmluZy9jaGVja3BvaW50cy8ke2ZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludH0vcGVybWlzc2lvbnNgLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAqKk5PVEU6KiogVGhpcyBlbmRwb2ludCByZXF1aXJlcyBhbiBbYWRtaW4gQVBJIGtleV0oLi4vYWRtaW4tYXBpLWtleXMpLlxuICAgICAqXG4gICAgICogT3JnYW5pemF0aW9uIG93bmVycyBjYW4gdXNlIHRoaXMgZW5kcG9pbnQgdG8gZGVsZXRlIGEgcGVybWlzc2lvbiBmb3IgYVxuICAgICAqIGZpbmUtdHVuZWQgbW9kZWwgY2hlY2twb2ludC5cbiAgICAgKi9cbiAgICBkZWwoZmluZVR1bmVkTW9kZWxDaGVja3BvaW50LCBwZXJtaXNzaW9uSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9maW5lX3R1bmluZy9jaGVja3BvaW50cy8ke2ZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludH0vcGVybWlzc2lvbnMvJHtwZXJtaXNzaW9uSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZSBleHRlbmRzIFBhZ2Uge1xufVxuUGVybWlzc2lvbnMuUGVybWlzc2lvbkNyZWF0ZVJlc3BvbnNlc1BhZ2UgPSBQZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBlcm1pc3Npb25zLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiUGFnZSIsIlBlcm1pc3Npb25zIiwiY3JlYXRlIiwiZmluZVR1bmVkTW9kZWxDaGVja3BvaW50IiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwiZ2V0QVBJTGlzdCIsIlBlcm1pc3Npb25DcmVhdGVSZXNwb25zZXNQYWdlIiwibWV0aG9kIiwicmV0cmlldmUiLCJxdWVyeSIsImdldCIsImRlbCIsInBlcm1pc3Npb25JZCIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/permissions.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/fine-tuning.mjs":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/fine-tuning.mjs ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FineTuning: () => (/* binding */ FineTuning)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _checkpoints_checkpoints_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./checkpoints/checkpoints.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/checkpoints/checkpoints.mjs\");\n/* harmony import */ var _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jobs/jobs.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/jobs.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass FineTuning extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.jobs = new _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.Jobs(this._client);\n        this.checkpoints = new _checkpoints_checkpoints_mjs__WEBPACK_IMPORTED_MODULE_2__.Checkpoints(this._client);\n    }\n}\nFineTuning.Jobs = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.Jobs;\nFineTuning.FineTuningJobsPage = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobsPage;\nFineTuning.FineTuningJobEventsPage = _jobs_jobs_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobEventsPage;\nFineTuning.Checkpoints = _checkpoints_checkpoints_mjs__WEBPACK_IMPORTED_MODULE_2__.Checkpoints; //# sourceMappingURL=fine-tuning.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ2U7QUFDSjtBQUNqQjtBQUMwQztBQUM5RSxNQUFNTyxtQkFBbUJQLHNEQUFXQTtJQUN2Q1EsYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLElBQUksR0FBRyxJQUFJUCxnREFBWSxDQUFDLElBQUksQ0FBQ1EsT0FBTztRQUN6QyxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJWCxxRUFBMEIsQ0FBQyxJQUFJLENBQUNVLE9BQU87SUFDbEU7QUFDSjtBQUNBSixXQUFXRCxJQUFJLEdBQUdBLGdEQUFJQTtBQUN0QkMsV0FBV0Ysa0JBQWtCLEdBQUdBLDhEQUFrQkE7QUFDbERFLFdBQVdILHVCQUF1QixHQUFHQSxtRUFBdUJBO0FBQzVERyxXQUFXTCxXQUFXLEdBQUdBLHFFQUFXQSxFQUNwQyx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2ZpbmUtdHVuaW5nLm1qcz81NzU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENoZWNrcG9pbnRzQVBJIGZyb20gXCIuL2NoZWNrcG9pbnRzL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0IHsgQ2hlY2twb2ludHMgfSBmcm9tIFwiLi9jaGVja3BvaW50cy9jaGVja3BvaW50cy5tanNcIjtcbmltcG9ydCAqIGFzIEpvYnNBUEkgZnJvbSBcIi4vam9icy9qb2JzLm1qc1wiO1xuaW1wb3J0IHsgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIEZpbmVUdW5pbmdKb2JzUGFnZSwgSm9icywgfSBmcm9tIFwiLi9qb2JzL2pvYnMubWpzXCI7XG5leHBvcnQgY2xhc3MgRmluZVR1bmluZyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5qb2JzID0gbmV3IEpvYnNBUEkuSm9icyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmNoZWNrcG9pbnRzID0gbmV3IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuRmluZVR1bmluZy5Kb2JzID0gSm9icztcbkZpbmVUdW5pbmcuRmluZVR1bmluZ0pvYnNQYWdlID0gRmluZVR1bmluZ0pvYnNQYWdlO1xuRmluZVR1bmluZy5GaW5lVHVuaW5nSm9iRXZlbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlO1xuRmluZVR1bmluZy5DaGVja3BvaW50cyA9IENoZWNrcG9pbnRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmluZS10dW5pbmcubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNoZWNrcG9pbnRzQVBJIiwiQ2hlY2twb2ludHMiLCJKb2JzQVBJIiwiRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UiLCJGaW5lVHVuaW5nSm9ic1BhZ2UiLCJKb2JzIiwiRmluZVR1bmluZyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiam9icyIsIl9jbGllbnQiLCJjaGVja3BvaW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/fine-tuning.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Checkpoints: () => (/* binding */ Checkpoints),\n/* harmony export */   FineTuningJobCheckpointsPage: () => (/* binding */ FineTuningJobCheckpointsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Checkpoints extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    list(fineTuningJobId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, {\n            query,\n            ...options\n        });\n    }\n}\nclass FineTuningJobCheckpointsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\nCheckpoints.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage; //# sourceMappingURL=checkpoints.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvY2hlY2twb2ludHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ2xDO0FBQ0M7QUFDQTtBQUM5QyxNQUFNRyxvQkFBb0JILHNEQUFXQTtJQUN4Q0ksS0FBS0MsZUFBZSxFQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFFQyxPQUFPLEVBQUU7UUFDdkMsSUFBSU4sMkRBQWdCQSxDQUFDSyxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDRixJQUFJLENBQUNDLGlCQUFpQixDQUFDLEdBQUdDO1FBQzFDO1FBQ0EsT0FBTyxJQUFJLENBQUNFLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDLENBQUMsa0JBQWtCLEVBQUVKLGdCQUFnQixZQUFZLENBQUMsRUFBRUssOEJBQThCO1lBQUVKO1lBQU8sR0FBR0MsT0FBTztRQUFDO0lBQ3pJO0FBQ0o7QUFDTyxNQUFNRyxxQ0FBcUNSLHVEQUFVQTtBQUM1RDtBQUNBQyxZQUFZTyw0QkFBNEIsR0FBR0EsOEJBQzNDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvam9icy9jaGVja3BvaW50cy5tanM/Y2JhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL3BhZ2luYXRpb24ubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hlY2twb2ludHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgbGlzdChmaW5lVHVuaW5nSm9iSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KGZpbmVUdW5pbmdKb2JJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklkfS9jaGVja3BvaW50c2AsIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UsIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbkNoZWNrcG9pbnRzLkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hlY2twb2ludHMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJDdXJzb3JQYWdlIiwiQ2hlY2twb2ludHMiLCJsaXN0IiwiZmluZVR1bmluZ0pvYklkIiwicXVlcnkiLCJvcHRpb25zIiwiX2NsaWVudCIsImdldEFQSUxpc3QiLCJGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/jobs.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/jobs.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FineTuningJobEventsPage: () => (/* binding */ FineTuningJobEventsPage),\n/* harmony export */   FineTuningJobsPage: () => (/* binding */ FineTuningJobsPage),\n/* harmony export */   Jobs: () => (/* binding */ Jobs)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checkpoints.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass Jobs extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.checkpoints = new _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.Checkpoints(this._client);\n    }\n    /**\n     * Creates a fine-tuning job which begins the process of creating a new model from\n     * a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */ create(body, options) {\n        return this._client.post(\"/fine_tuning/jobs\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */ retrieve(fineTuningJobId, options) {\n        return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/fine_tuning/jobs\", FineTuningJobsPage, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */ cancel(fineTuningJobId, options) {\n        return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);\n    }\n    listEvents(fineTuningJobId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.isRequestOptions)(query)) {\n            return this.listEvents(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {\n            query,\n            ...options\n        });\n    }\n}\nclass FineTuningJobsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nclass FineTuningJobEventsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_3__.CursorPage {\n}\nJobs.FineTuningJobsPage = FineTuningJobsPage;\nJobs.FineTuningJobEventsPage = FineTuningJobEventsPage;\nJobs.Checkpoints = _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.Checkpoints;\nJobs.FineTuningJobCheckpointsPage = _checkpoints_mjs__WEBPACK_IMPORTED_MODULE_1__.FineTuningJobCheckpointsPage; //# sourceMappingURL=jobs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNsQztBQUNDO0FBQ0Q7QUFDMkI7QUFDMUI7QUFDOUMsTUFBTU0sYUFBYU4sc0RBQVdBO0lBQ2pDTyxhQUFjO1FBQ1YsS0FBSyxJQUFJQztRQUNULElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlQLHlEQUEwQixDQUFDLElBQUksQ0FBQ1EsT0FBTztJQUNsRTtJQUNBOzs7Ozs7OztLQVFDLEdBQ0RDLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxxQkFBcUI7WUFBRUY7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDckU7SUFDQTs7OztLQUlDLEdBQ0RFLFNBQVNDLGVBQWUsRUFBRUgsT0FBTyxFQUFFO1FBQy9CLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNPLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFRCxnQkFBZ0IsQ0FBQyxFQUFFSDtJQUNwRTtJQUNBSyxLQUFLQyxRQUFRLENBQUMsQ0FBQyxFQUFFTixPQUFPLEVBQUU7UUFDdEIsSUFBSVosMkRBQWdCQSxDQUFDa0IsUUFBUTtZQUN6QixPQUFPLElBQUksQ0FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBR0M7UUFDekI7UUFDQSxPQUFPLElBQUksQ0FBQ1QsT0FBTyxDQUFDVSxVQUFVLENBQUMscUJBQXFCQyxvQkFBb0I7WUFBRUY7WUFBTyxHQUFHTixPQUFPO1FBQUM7SUFDaEc7SUFDQTs7S0FFQyxHQUNEUyxPQUFPTixlQUFlLEVBQUVILE9BQU8sRUFBRTtRQUM3QixPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUUsZ0JBQWdCLE9BQU8sQ0FBQyxFQUFFSDtJQUM1RTtJQUNBVSxXQUFXUCxlQUFlLEVBQUVHLFFBQVEsQ0FBQyxDQUFDLEVBQUVOLE9BQU8sRUFBRTtRQUM3QyxJQUFJWiwyREFBZ0JBLENBQUNrQixRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDSSxVQUFVLENBQUNQLGlCQUFpQixDQUFDLEdBQUdHO1FBQ2hEO1FBQ0EsT0FBTyxJQUFJLENBQUNULE9BQU8sQ0FBQ1UsVUFBVSxDQUFDLENBQUMsa0JBQWtCLEVBQUVKLGdCQUFnQixPQUFPLENBQUMsRUFBRVEseUJBQXlCO1lBQ25HTDtZQUNBLEdBQUdOLE9BQU87UUFDZDtJQUNKO0FBQ0o7QUFDTyxNQUFNUSwyQkFBMkJoQix1REFBVUE7QUFDbEQ7QUFDTyxNQUFNbUIsZ0NBQWdDbkIsdURBQVVBO0FBQ3ZEO0FBQ0FDLEtBQUtlLGtCQUFrQixHQUFHQTtBQUMxQmYsS0FBS2tCLHVCQUF1QixHQUFHQTtBQUMvQmxCLEtBQUtILFdBQVcsR0FBR0EseURBQVdBO0FBQzlCRyxLQUFLRiw0QkFBNEIsR0FBR0EsMEVBQTRCQSxFQUNoRSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2pvYnMvam9icy5tanM/ZmE2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgKiBhcyBDaGVja3BvaW50c0FQSSBmcm9tIFwiLi9jaGVja3BvaW50cy5tanNcIjtcbmltcG9ydCB7IENoZWNrcG9pbnRzLCBGaW5lVHVuaW5nSm9iQ2hlY2twb2ludHNQYWdlLCB9IGZyb20gXCIuL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEpvYnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hlY2twb2ludHMgPSBuZXcgQ2hlY2twb2ludHNBUEkuQ2hlY2twb2ludHModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZpbmUtdHVuaW5nIGpvYiB3aGljaCBiZWdpbnMgdGhlIHByb2Nlc3Mgb2YgY3JlYXRpbmcgYSBuZXcgbW9kZWwgZnJvbVxuICAgICAqIGEgZ2l2ZW4gZGF0YXNldC5cbiAgICAgKlxuICAgICAqIFJlc3BvbnNlIGluY2x1ZGVzIGRldGFpbHMgb2YgdGhlIGVucXVldWVkIGpvYiBpbmNsdWRpbmcgam9iIHN0YXR1cyBhbmQgdGhlIG5hbWVcbiAgICAgKiBvZiB0aGUgZmluZS10dW5lZCBtb2RlbHMgb25jZSBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIFtMZWFybiBtb3JlIGFib3V0IGZpbmUtdHVuaW5nXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZmluZS10dW5pbmcpXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZmluZV90dW5pbmcvam9icycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGluZm8gYWJvdXQgYSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICpcbiAgICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL2ZpbmUtdHVuaW5nKVxuICAgICAqL1xuICAgIHJldHJpZXZlKGZpbmVUdW5pbmdKb2JJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSWR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Qoe30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9maW5lX3R1bmluZy9qb2JzJywgRmluZVR1bmluZ0pvYnNQYWdlLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbW1lZGlhdGVseSBjYW5jZWwgYSBmaW5lLXR1bmUgam9iLlxuICAgICAqL1xuICAgIGNhbmNlbChmaW5lVHVuaW5nSm9iSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxpc3RFdmVudHMoZmluZVR1bmluZ0pvYklkLCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RPcHRpb25zKHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdEV2ZW50cyhmaW5lVHVuaW5nSm9iSWQsIHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJZH0vZXZlbnRzYCwgRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JzUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuZXhwb3J0IGNsYXNzIEZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG5Kb2JzLkZpbmVUdW5pbmdKb2JzUGFnZSA9IEZpbmVUdW5pbmdKb2JzUGFnZTtcbkpvYnMuRmluZVR1bmluZ0pvYkV2ZW50c1BhZ2UgPSBGaW5lVHVuaW5nSm9iRXZlbnRzUGFnZTtcbkpvYnMuQ2hlY2twb2ludHMgPSBDaGVja3BvaW50cztcbkpvYnMuRmluZVR1bmluZ0pvYkNoZWNrcG9pbnRzUGFnZSA9IEZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1qb2JzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJpc1JlcXVlc3RPcHRpb25zIiwiQ2hlY2twb2ludHNBUEkiLCJDaGVja3BvaW50cyIsIkZpbmVUdW5pbmdKb2JDaGVja3BvaW50c1BhZ2UiLCJDdXJzb3JQYWdlIiwiSm9icyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiY2hlY2twb2ludHMiLCJfY2xpZW50IiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwicmV0cmlldmUiLCJmaW5lVHVuaW5nSm9iSWQiLCJnZXQiLCJsaXN0IiwicXVlcnkiLCJnZXRBUElMaXN0IiwiRmluZVR1bmluZ0pvYnNQYWdlIiwiY2FuY2VsIiwibGlzdEV2ZW50cyIsIkZpbmVUdW5pbmdKb2JFdmVudHNQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/fine-tuning/jobs/jobs.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/images.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/images.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Images: () => (/* binding */ Images)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Images extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Creates a variation of a given image. This endpoint only supports `dall-e-2`.\n     */ createVariation(body, options) {\n        return this._client.post(\"/images/variations\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Creates an edited or extended image given one or more source images and a\n     * prompt. This endpoint only supports `gpt-image-1` and `dall-e-2`.\n     */ edit(body, options) {\n        return this._client.post(\"/images/edits\", _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n    /**\n     * Creates an image given a prompt.\n     * [Learn more](https://platform.openai.com/docs/guides/images).\n     */ generate(body, options) {\n        return this._client.post(\"/images/generations\", {\n            body,\n            ...options\n        });\n    }\n} //# sourceMappingURL=images.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ltYWdlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3hDO0FBQ1Y7QUFDN0IsTUFBTUUsZUFBZUYsc0RBQVdBO0lBQ25DOztLQUVDLEdBQ0RHLGdCQUFnQkMsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDM0IsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLHNCQUFzQk4sa0VBQWdDLENBQUM7WUFBRUc7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDdkc7SUFDQTs7O0tBR0MsR0FDREksS0FBS0wsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGlCQUFpQk4sa0VBQWdDLENBQUM7WUFBRUc7WUFBTSxHQUFHQyxPQUFPO1FBQUM7SUFDbEc7SUFDQTs7O0tBR0MsR0FDREssU0FBU04sSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDcEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLHVCQUF1QjtZQUFFSDtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUN2RTtBQUNKLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzPzczY2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBJbWFnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHZhcmlhdGlvbiBvZiBhIGdpdmVuIGltYWdlLiBUaGlzIGVuZHBvaW50IG9ubHkgc3VwcG9ydHMgYGRhbGwtZS0yYC5cbiAgICAgKi9cbiAgICBjcmVhdGVWYXJpYXRpb24oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvdmFyaWF0aW9ucycsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gZWRpdGVkIG9yIGV4dGVuZGVkIGltYWdlIGdpdmVuIG9uZSBvciBtb3JlIHNvdXJjZSBpbWFnZXMgYW5kIGFcbiAgICAgKiBwcm9tcHQuIFRoaXMgZW5kcG9pbnQgb25seSBzdXBwb3J0cyBgZ3B0LWltYWdlLTFgIGFuZCBgZGFsbC1lLTJgLlxuICAgICAqL1xuICAgIGVkaXQoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvZWRpdHMnLCBDb3JlLm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7IGJvZHksIC4uLm9wdGlvbnMgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGltYWdlIGdpdmVuIGEgcHJvbXB0LlxuICAgICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvaW1hZ2VzKS5cbiAgICAgKi9cbiAgICBnZW5lcmF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ltYWdlcy9nZW5lcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZXMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvcmUiLCJJbWFnZXMiLCJjcmVhdGVWYXJpYXRpb24iLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0IiwibXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIiwiZWRpdCIsImdlbmVyYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/images.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/models.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/models.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Models: () => (/* binding */ Models),\n/* harmony export */   ModelsPage: () => (/* binding */ ModelsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Models extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */ retrieve(model, options) {\n        return this._client.get(`/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */ list(options) {\n        return this._client.getAPIList(\"/models\", ModelsPage, options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */ del(model, options) {\n        return this._client.delete(`/models/${model}`, options);\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class ModelsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_1__.Page {\n}\nModels.ModelsPage = ModelsPage; //# sourceMappingURL=models.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUNMO0FBQ2xDLE1BQU1FLGVBQWVGLHNEQUFXQTtJQUNuQzs7O0tBR0MsR0FDREcsU0FBU0MsS0FBSyxFQUFFQyxPQUFPLEVBQUU7UUFDckIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFSCxNQUFNLENBQUMsRUFBRUM7SUFDaEQ7SUFDQTs7O0tBR0MsR0FDREcsS0FBS0gsT0FBTyxFQUFFO1FBQ1YsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0csVUFBVSxDQUFDLFdBQVdDLFlBQVlMO0lBQzFEO0lBQ0E7OztLQUdDLEdBQ0RNLElBQUlQLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQ2hCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUNNLE1BQU0sQ0FBQyxDQUFDLFFBQVEsRUFBRVIsTUFBTSxDQUFDLEVBQUVDO0lBQ25EO0FBQ0o7QUFDQTs7Q0FFQyxHQUNNLE1BQU1LLG1CQUFtQlQsaURBQUlBO0FBQ3BDO0FBQ0FDLE9BQU9RLFVBQVUsR0FBR0EsWUFDcEIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlbHMubWpzPzQ1OTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAgICogdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgICAqL1xuICAgIHJldHJpZXZlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvbW9kZWxzLyR7bW9kZWx9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RzIHRoZSBjdXJyZW50bHkgYXZhaWxhYmxlIG1vZGVscywgYW5kIHByb3ZpZGVzIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IGVhY2hcbiAgICAgKiBvbmUgc3VjaCBhcyB0aGUgb3duZXIgYW5kIGF2YWlsYWJpbGl0eS5cbiAgICAgKi9cbiAgICBsaXN0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvbW9kZWxzJywgTW9kZWxzUGFnZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIGZpbmUtdHVuZWQgbW9kZWwuIFlvdSBtdXN0IGhhdmUgdGhlIE93bmVyIHJvbGUgaW4geW91ciBvcmdhbml6YXRpb24gdG9cbiAgICAgKiBkZWxldGUgYSBtb2RlbC5cbiAgICAgKi9cbiAgICBkZWwobW9kZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgICB9XG59XG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsc1BhZ2UgZXh0ZW5kcyBQYWdlIHtcbn1cbk1vZGVscy5Nb2RlbHNQYWdlID0gTW9kZWxzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVscy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiUGFnZSIsIk1vZGVscyIsInJldHJpZXZlIiwibW9kZWwiLCJvcHRpb25zIiwiX2NsaWVudCIsImdldCIsImxpc3QiLCJnZXRBUElMaXN0IiwiTW9kZWxzUGFnZSIsImRlbCIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/models.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/moderations.mjs":
/*!***************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/moderations.mjs ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Moderations: () => (/* binding */ Moderations)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\nclass Moderations extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Classifies if text and/or image inputs are potentially harmful. Learn more in\n     * the [moderation guide](https://platform.openai.com/docs/guides/moderation).\n     */ create(body, options) {\n        return this._client.post(\"/moderations\", {\n            body,\n            ...options\n        });\n    }\n} //# sourceMappingURL=moderations.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVyYXRpb25zLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNGQUFzRjtBQUN4QztBQUN2QyxNQUFNQyxvQkFBb0JELHNEQUFXQTtJQUN4Qzs7O0tBR0MsR0FDREUsT0FBT0MsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLGdCQUFnQjtZQUFFSDtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUNoRTtBQUNKLEVBQ0Esd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9tb2RlcmF0aW9ucy5tanM/OTI2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ2xhc3NpZmllcyBpZiB0ZXh0IGFuZC9vciBpbWFnZSBpbnB1dHMgYXJlIHBvdGVudGlhbGx5IGhhcm1mdWwuIExlYXJuIG1vcmUgaW5cbiAgICAgKiB0aGUgW21vZGVyYXRpb24gZ3VpZGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9tb2RlcmF0aW9uKS5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9tb2RlcmF0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlcmF0aW9ucy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiTW9kZXJhdGlvbnMiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsIl9jbGllbnQiLCJwb3N0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/moderations.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/input-items.mjs":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/input-items.mjs ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputItems: () => (/* binding */ InputItems),\n/* harmony export */   ResponseItemsPage: () => (/* reexport safe */ _responses_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseItemsPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _responses_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responses.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/responses.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass InputItems extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    list(responseId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(responseId, {}, query);\n        }\n        return this._client.getAPIList(`/responses/${responseId}/input_items`, _responses_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseItemsPage, {\n            query,\n            ...options\n        });\n    }\n}\n //# sourceMappingURL=input-items.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3Jlc3BvbnNlcy9pbnB1dC1pdGVtcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDQztBQUNFO0FBQzdDLE1BQU1HLG1CQUFtQkgsc0RBQVdBO0lBQ3ZDSSxLQUFLQyxVQUFVLEVBQUVDLFFBQVEsQ0FBQyxDQUFDLEVBQUVDLE9BQU8sRUFBRTtRQUNsQyxJQUFJTiwyREFBZ0JBLENBQUNLLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNGLElBQUksQ0FBQ0MsWUFBWSxDQUFDLEdBQUdDO1FBQ3JDO1FBQ0EsT0FBTyxJQUFJLENBQUNFLE9BQU8sQ0FBQ0MsVUFBVSxDQUFDLENBQUMsV0FBVyxFQUFFSixXQUFXLFlBQVksQ0FBQyxFQUFFSCw2REFBaUJBLEVBQUU7WUFDdEZJO1lBQ0EsR0FBR0MsT0FBTztRQUNkO0lBQ0o7QUFDSjtBQUM2QixDQUM3Qix3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3Jlc3BvbnNlcy9pbnB1dC1pdGVtcy5tanM/YjFmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBSZXNwb25zZUl0ZW1zUGFnZSB9IGZyb20gXCIuL3Jlc3BvbnNlcy5tanNcIjtcbmV4cG9ydCBjbGFzcyBJbnB1dEl0ZW1zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGxpc3QocmVzcG9uc2VJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QocmVzcG9uc2VJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC9yZXNwb25zZXMvJHtyZXNwb25zZUlkfS9pbnB1dF9pdGVtc2AsIFJlc3BvbnNlSXRlbXNQYWdlLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCB7IFJlc3BvbnNlSXRlbXNQYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnB1dC1pdGVtcy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsIlJlc3BvbnNlSXRlbXNQYWdlIiwiSW5wdXRJdGVtcyIsImxpc3QiLCJyZXNwb25zZUlkIiwicXVlcnkiLCJvcHRpb25zIiwiX2NsaWVudCIsImdldEFQSUxpc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/input-items.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/responses.mjs":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/responses.mjs ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResponseItemsPage: () => (/* binding */ ResponseItemsPage),\n/* harmony export */   Responses: () => (/* binding */ Responses)\n/* harmony export */ });\n/* harmony import */ var _lib_ResponsesParser_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/ResponsesParser.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/ResponsesParser.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _input_items_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input-items.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/input-items.mjs\");\n/* harmony import */ var _lib_responses_ResponseStream_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/responses/ResponseStream.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/responses/ResponseStream.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass Responses extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.inputItems = new _input_items_mjs__WEBPACK_IMPORTED_MODULE_1__.InputItems(this._client);\n    }\n    create(body, options) {\n        return this._client.post(\"/responses\", {\n            body,\n            ...options,\n            stream: body.stream ?? false\n        })._thenUnwrap((rsp)=>{\n            if (\"object\" in rsp && rsp.object === \"response\") {\n                (0,_lib_ResponsesParser_mjs__WEBPACK_IMPORTED_MODULE_2__.addOutputText)(rsp);\n            }\n            return rsp;\n        });\n    }\n    retrieve(responseId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isRequestOptions)(query)) {\n            return this.retrieve(responseId, {}, query);\n        }\n        return this._client.get(`/responses/${responseId}`, {\n            query,\n            ...options\n        });\n    }\n    /**\n     * Deletes a model response with the given ID.\n     */ del(responseId, options) {\n        return this._client.delete(`/responses/${responseId}`, {\n            ...options,\n            headers: {\n                Accept: \"*/*\",\n                ...options?.headers\n            }\n        });\n    }\n    parse(body, options) {\n        return this._client.responses.create(body, options)._thenUnwrap((response)=>(0,_lib_ResponsesParser_mjs__WEBPACK_IMPORTED_MODULE_2__.parseResponse)(response, body));\n    }\n    /**\n     * Creates a model response stream\n     */ stream(body, options) {\n        return _lib_responses_ResponseStream_mjs__WEBPACK_IMPORTED_MODULE_4__.ResponseStream.createResponse(this._client, body, options);\n    }\n}\nclass ResponseItemsPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_5__.CursorPage {\n}\nResponses.InputItems = _input_items_mjs__WEBPACK_IMPORTED_MODULE_1__.InputItems; //# sourceMappingURL=responses.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3Jlc3BvbnNlcy9yZXNwb25zZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ1I7QUFDNUI7QUFDRDtBQUNFO0FBQ0o7QUFDeUI7QUFDdEI7QUFDM0MsTUFBTVEsa0JBQWtCTCxzREFBV0E7SUFDdENNLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSVAsd0RBQXdCLENBQUMsSUFBSSxDQUFDUSxPQUFPO0lBQy9EO0lBQ0FDLE9BQU9DLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxjQUFjO1lBQUVGO1lBQU0sR0FBR0MsT0FBTztZQUFFRSxRQUFRSCxLQUFLRyxNQUFNLElBQUk7UUFBTSxHQUFHQyxXQUFXLENBQUMsQ0FBQ0M7WUFDcEcsSUFBSSxZQUFZQSxPQUFPQSxJQUFJQyxNQUFNLEtBQUssWUFBWTtnQkFDOUNuQix1RUFBYUEsQ0FBQ2tCO1lBQ2xCO1lBQ0EsT0FBT0E7UUFDWDtJQUNKO0lBQ0FFLFNBQVNDLFVBQVUsRUFBRUMsUUFBUSxDQUFDLENBQUMsRUFBRVIsT0FBTyxFQUFFO1FBQ3RDLElBQUliLDJEQUFnQkEsQ0FBQ3FCLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNGLFFBQVEsQ0FBQ0MsWUFBWSxDQUFDLEdBQUdDO1FBQ3pDO1FBQ0EsT0FBTyxJQUFJLENBQUNYLE9BQU8sQ0FBQ1ksR0FBRyxDQUFDLENBQUMsV0FBVyxFQUFFRixXQUFXLENBQUMsRUFBRTtZQUFFQztZQUFPLEdBQUdSLE9BQU87UUFBQztJQUM1RTtJQUNBOztLQUVDLEdBQ0RVLElBQUlILFVBQVUsRUFBRVAsT0FBTyxFQUFFO1FBQ3JCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNjLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRUosV0FBVyxDQUFDLEVBQUU7WUFDbkQsR0FBR1AsT0FBTztZQUNWWSxTQUFTO2dCQUFFQyxRQUFRO2dCQUFPLEdBQUdiLFNBQVNZLE9BQU87WUFBQztRQUNsRDtJQUNKO0lBQ0FFLE1BQU1mLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNrQixTQUFTLENBQ3hCakIsTUFBTSxDQUFDQyxNQUFNQyxTQUNiRyxXQUFXLENBQUMsQ0FBQ2EsV0FBYS9CLHVFQUFhQSxDQUFDK0IsVUFBVWpCO0lBQzNEO0lBQ0E7O0tBRUMsR0FDREcsT0FBT0gsSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDbEIsT0FBT1QsNkVBQWNBLENBQUMwQixjQUFjLENBQUMsSUFBSSxDQUFDcEIsT0FBTyxFQUFFRSxNQUFNQztJQUM3RDtBQUNKO0FBQ08sTUFBTWtCLDBCQUEwQjFCLHVEQUFVQTtBQUNqRDtBQUNBQyxVQUFVSCxVQUFVLEdBQUdBLHdEQUFVQSxFQUNqQyxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3Jlc3BvbnNlcy9yZXNwb25zZXMubWpzPzcwZjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IHBhcnNlUmVzcG9uc2UsIGFkZE91dHB1dFRleHQsIH0gZnJvbSBcIi4uLy4uL2xpYi9SZXNwb25zZXNQYXJzZXIubWpzXCI7XG5pbXBvcnQgeyBpc1JlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uLy4uL2NvcmUubWpzXCI7XG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIElucHV0SXRlbXNBUEkgZnJvbSBcIi4vaW5wdXQtaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBJbnB1dEl0ZW1zIH0gZnJvbSBcIi4vaW5wdXQtaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBSZXNwb25zZVN0cmVhbSB9IGZyb20gXCIuLi8uLi9saWIvcmVzcG9uc2VzL1Jlc3BvbnNlU3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pbnB1dEl0ZW1zID0gbmV3IElucHV0SXRlbXNBUEkuSW5wdXRJdGVtcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9yZXNwb25zZXMnLCB7IGJvZHksIC4uLm9wdGlvbnMsIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UgfSkuX3RoZW5VbndyYXAoKHJzcCkgPT4ge1xuICAgICAgICAgICAgaWYgKCdvYmplY3QnIGluIHJzcCAmJiByc3Aub2JqZWN0ID09PSAncmVzcG9uc2UnKSB7XG4gICAgICAgICAgICAgICAgYWRkT3V0cHV0VGV4dChyc3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJzcDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHJpZXZlKHJlc3BvbnNlSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXRyaWV2ZShyZXNwb25zZUlkLCB7fSwgcXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJZH1gLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgbW9kZWwgcmVzcG9uc2Ugd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAgICovXG4gICAgZGVsKHJlc3BvbnNlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC9yZXNwb25zZXMvJHtyZXNwb25zZUlkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IEFjY2VwdDogJyovKicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhcnNlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5yZXNwb25zZXNcbiAgICAgICAgICAgIC5jcmVhdGUoYm9keSwgb3B0aW9ucylcbiAgICAgICAgICAgIC5fdGhlblVud3JhcCgocmVzcG9uc2UpID0+IHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIGJvZHkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1vZGVsIHJlc3BvbnNlIHN0cmVhbVxuICAgICAqL1xuICAgIHN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBSZXNwb25zZVN0cmVhbS5jcmVhdGVSZXNwb25zZSh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXNwb25zZUl0ZW1zUGFnZSBleHRlbmRzIEN1cnNvclBhZ2Uge1xufVxuUmVzcG9uc2VzLklucHV0SXRlbXMgPSBJbnB1dEl0ZW1zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzcG9uc2VzLm1qcy5tYXAiXSwibmFtZXMiOlsicGFyc2VSZXNwb25zZSIsImFkZE91dHB1dFRleHQiLCJpc1JlcXVlc3RPcHRpb25zIiwiQVBJUmVzb3VyY2UiLCJJbnB1dEl0ZW1zQVBJIiwiSW5wdXRJdGVtcyIsIlJlc3BvbnNlU3RyZWFtIiwiQ3Vyc29yUGFnZSIsIlJlc3BvbnNlcyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwiaW5wdXRJdGVtcyIsIl9jbGllbnQiLCJjcmVhdGUiLCJib2R5Iiwib3B0aW9ucyIsInBvc3QiLCJzdHJlYW0iLCJfdGhlblVud3JhcCIsInJzcCIsIm9iamVjdCIsInJldHJpZXZlIiwicmVzcG9uc2VJZCIsInF1ZXJ5IiwiZ2V0IiwiZGVsIiwiZGVsZXRlIiwiaGVhZGVycyIsIkFjY2VwdCIsInBhcnNlIiwicmVzcG9uc2VzIiwicmVzcG9uc2UiLCJjcmVhdGVSZXNwb25zZSIsIlJlc3BvbnNlSXRlbXNQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/responses/responses.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/parts.mjs":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/parts.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Parts: () => (/* binding */ Parts)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\nclass Parts extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Adds a\n     * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.\n     * A Part represents a chunk of bytes from the file you are trying to upload.\n     *\n     * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload\n     * maximum of 8 GB.\n     *\n     * It is possible to add multiple Parts in parallel. You can decide the intended\n     * order of the Parts when you\n     * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).\n     */ create(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/parts`, _core_mjs__WEBPACK_IMPORTED_MODULE_1__.multipartFormRequestOptions({\n            body,\n            ...options\n        }));\n    }\n} //# sourceMappingURL=parts.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3VwbG9hZHMvcGFydHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNWO0FBQ2hDLE1BQU1FLGNBQWNGLHNEQUFXQTtJQUNsQzs7Ozs7Ozs7Ozs7O0tBWUMsR0FDREcsT0FBT0MsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUVKLFNBQVMsTUFBTSxDQUFDLEVBQUVILGtFQUFnQyxDQUFDO1lBQUVJO1lBQU0sR0FBR0MsT0FBTztRQUFDO0lBQy9HO0FBQ0osRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3VwbG9hZHMvcGFydHMubWpzPzdiMmMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBQYXJ0cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBBZGRzIGFcbiAgICAgKiBbUGFydF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0byBhblxuICAgICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpIG9iamVjdC5cbiAgICAgKiBBIFBhcnQgcmVwcmVzZW50cyBhIGNodW5rIG9mIGJ5dGVzIGZyb20gdGhlIGZpbGUgeW91IGFyZSB0cnlpbmcgdG8gdXBsb2FkLlxuICAgICAqXG4gICAgICogRWFjaCBQYXJ0IGNhbiBiZSBhdCBtb3N0IDY0IE1CLCBhbmQgeW91IGNhbiBhZGQgUGFydHMgdW50aWwgeW91IGhpdCB0aGUgVXBsb2FkXG4gICAgICogbWF4aW11bSBvZiA4IEdCLlxuICAgICAqXG4gICAgICogSXQgaXMgcG9zc2libGUgdG8gYWRkIG11bHRpcGxlIFBhcnRzIGluIHBhcmFsbGVsLiBZb3UgY2FuIGRlY2lkZSB0aGUgaW50ZW5kZWRcbiAgICAgKiBvcmRlciBvZiB0aGUgUGFydHMgd2hlbiB5b3VcbiAgICAgKiBbY29tcGxldGUgdGhlIFVwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL2NvbXBsZXRlKS5cbiAgICAgKi9cbiAgICBjcmVhdGUodXBsb2FkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9wYXJ0c2AsIENvcmUubXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFydHMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsIkNvcmUiLCJQYXJ0cyIsImNyZWF0ZSIsInVwbG9hZElkIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/parts.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/uploads.mjs":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/uploads.mjs ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Uploads: () => (/* binding */ Uploads)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _parts_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parts.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/parts.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Uploads extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.parts = new _parts_mjs__WEBPACK_IMPORTED_MODULE_1__.Parts(this._client);\n    }\n    /**\n     * Creates an intermediate\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object\n     * that you can add\n     * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.\n     * Currently, an Upload can accept at most 8 GB in total and expires after an hour\n     * after you create it.\n     *\n     * Once you complete the Upload, we will create a\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * contains all the parts you uploaded. This File is usable in the rest of our\n     * platform as a regular File object.\n     *\n     * For certain `purpose` values, the correct `mime_type` must be specified. Please\n     * refer to documentation for the\n     * [supported MIME types for your use case](https://platform.openai.com/docs/assistants/tools/file-search#supported-files).\n     *\n     * For guidance on the proper filename extensions for each purpose, please follow\n     * the documentation on\n     * [creating a File](https://platform.openai.com/docs/api-reference/files/create).\n     */ create(body, options) {\n        return this._client.post(\"/uploads\", {\n            body,\n            ...options\n        });\n    }\n    /**\n     * Cancels the Upload. No Parts may be added after an Upload is cancelled.\n     */ cancel(uploadId, options) {\n        return this._client.post(`/uploads/${uploadId}/cancel`, options);\n    }\n    /**\n     * Completes the\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).\n     *\n     * Within the returned Upload object, there is a nested\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * is ready to use in the rest of the platform.\n     *\n     * You can specify the order of the Parts by passing in an ordered list of the Part\n     * IDs.\n     *\n     * The number of bytes uploaded upon completion must match the number of bytes\n     * initially specified when creating the Upload object. No Parts may be added after\n     * an Upload is completed.\n     */ complete(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/complete`, {\n            body,\n            ...options\n        });\n    }\n}\nUploads.Parts = _parts_mjs__WEBPACK_IMPORTED_MODULE_1__.Parts; //# sourceMappingURL=uploads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3VwbG9hZHMvdXBsb2Fkcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsc0ZBQXNGO0FBQ3JDO0FBQ1Q7QUFDSjtBQUM3QixNQUFNRyxnQkFBZ0JILHNEQUFXQTtJQUNwQ0ksYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJTCw2Q0FBYyxDQUFDLElBQUksQ0FBQ00sT0FBTztJQUNoRDtJQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQW9CQyxHQUNEQyxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0gsT0FBTyxDQUFDSSxJQUFJLENBQUMsWUFBWTtZQUFFRjtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUM1RDtJQUNBOztLQUVDLEdBQ0RFLE9BQU9DLFFBQVEsRUFBRUgsT0FBTyxFQUFFO1FBQ3RCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUUsU0FBUyxPQUFPLENBQUMsRUFBRUg7SUFDNUQ7SUFDQTs7Ozs7Ozs7Ozs7Ozs7S0FjQyxHQUNESSxTQUFTRCxRQUFRLEVBQUVKLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQzlCLE9BQU8sSUFBSSxDQUFDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxDQUFDLFNBQVMsRUFBRUUsU0FBUyxTQUFTLENBQUMsRUFBRTtZQUFFSjtZQUFNLEdBQUdDLE9BQU87UUFBQztJQUNqRjtBQUNKO0FBQ0FQLFFBQVFELEtBQUssR0FBR0EsNkNBQUtBLEVBQ3JCLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdXBsb2Fkcy91cGxvYWRzLm1qcz8yMDU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFBhcnRzQVBJIGZyb20gXCIuL3BhcnRzLm1qc1wiO1xuaW1wb3J0IHsgUGFydHMgfSBmcm9tIFwiLi9wYXJ0cy5tanNcIjtcbmV4cG9ydCBjbGFzcyBVcGxvYWRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnBhcnRzID0gbmV3IFBhcnRzQVBJLlBhcnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW50ZXJtZWRpYXRlXG4gICAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkgb2JqZWN0XG4gICAgICogdGhhdCB5b3UgY2FuIGFkZFxuICAgICAqIFtQYXJ0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0by5cbiAgICAgKiBDdXJyZW50bHksIGFuIFVwbG9hZCBjYW4gYWNjZXB0IGF0IG1vc3QgOCBHQiBpbiB0b3RhbCBhbmQgZXhwaXJlcyBhZnRlciBhbiBob3VyXG4gICAgICogYWZ0ZXIgeW91IGNyZWF0ZSBpdC5cbiAgICAgKlxuICAgICAqIE9uY2UgeW91IGNvbXBsZXRlIHRoZSBVcGxvYWQsIHdlIHdpbGwgY3JlYXRlIGFcbiAgICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QpIG9iamVjdCB0aGF0XG4gICAgICogY29udGFpbnMgYWxsIHRoZSBwYXJ0cyB5b3UgdXBsb2FkZWQuIFRoaXMgRmlsZSBpcyB1c2FibGUgaW4gdGhlIHJlc3Qgb2Ygb3VyXG4gICAgICogcGxhdGZvcm0gYXMgYSByZWd1bGFyIEZpbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogRm9yIGNlcnRhaW4gYHB1cnBvc2VgIHZhbHVlcywgdGhlIGNvcnJlY3QgYG1pbWVfdHlwZWAgbXVzdCBiZSBzcGVjaWZpZWQuIFBsZWFzZVxuICAgICAqIHJlZmVyIHRvIGRvY3VtZW50YXRpb24gZm9yIHRoZVxuICAgICAqIFtzdXBwb3J0ZWQgTUlNRSB0eXBlcyBmb3IgeW91ciB1c2UgY2FzZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaCNzdXBwb3J0ZWQtZmlsZXMpLlxuICAgICAqXG4gICAgICogRm9yIGd1aWRhbmNlIG9uIHRoZSBwcm9wZXIgZmlsZW5hbWUgZXh0ZW5zaW9ucyBmb3IgZWFjaCBwdXJwb3NlLCBwbGVhc2UgZm9sbG93XG4gICAgICogdGhlIGRvY3VtZW50YXRpb24gb25cbiAgICAgKiBbY3JlYXRpbmcgYSBGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2NyZWF0ZSkuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdXBsb2FkcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgVXBsb2FkLiBObyBQYXJ0cyBtYXkgYmUgYWRkZWQgYWZ0ZXIgYW4gVXBsb2FkIGlzIGNhbmNlbGxlZC5cbiAgICAgKi9cbiAgICBjYW5jZWwodXBsb2FkSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcGxldGVzIHRoZVxuICAgICAqIFtVcGxvYWRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdXBsb2Fkcy9vYmplY3QpLlxuICAgICAqXG4gICAgICogV2l0aGluIHRoZSByZXR1cm5lZCBVcGxvYWQgb2JqZWN0LCB0aGVyZSBpcyBhIG5lc3RlZFxuICAgICAqIFtGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL29iamVjdCkgb2JqZWN0IHRoYXRcbiAgICAgKiBpcyByZWFkeSB0byB1c2UgaW4gdGhlIHJlc3Qgb2YgdGhlIHBsYXRmb3JtLlxuICAgICAqXG4gICAgICogWW91IGNhbiBzcGVjaWZ5IHRoZSBvcmRlciBvZiB0aGUgUGFydHMgYnkgcGFzc2luZyBpbiBhbiBvcmRlcmVkIGxpc3Qgb2YgdGhlIFBhcnRcbiAgICAgKiBJRHMuXG4gICAgICpcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGJ5dGVzIHVwbG9hZGVkIHVwb24gY29tcGxldGlvbiBtdXN0IG1hdGNoIHRoZSBudW1iZXIgb2YgYnl0ZXNcbiAgICAgKiBpbml0aWFsbHkgc3BlY2lmaWVkIHdoZW4gY3JlYXRpbmcgdGhlIFVwbG9hZCBvYmplY3QuIE5vIFBhcnRzIG1heSBiZSBhZGRlZCBhZnRlclxuICAgICAqIGFuIFVwbG9hZCBpcyBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgY29tcGxldGUodXBsb2FkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdXBsb2Fkcy8ke3VwbG9hZElkfS9jb21wbGV0ZWAsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG5VcGxvYWRzLlBhcnRzID0gUGFydHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGxvYWRzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJQYXJ0c0FQSSIsIlBhcnRzIiwiVXBsb2FkcyIsImNvbnN0cnVjdG9yIiwiYXJndW1lbnRzIiwicGFydHMiLCJfY2xpZW50IiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwiY2FuY2VsIiwidXBsb2FkSWQiLCJjb21wbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/uploads/uploads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/file-batches.mjs":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/file-batches.mjs ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileBatches: () => (/* binding */ FileBatches),\n/* harmony export */   VectorStoreFilesPage: () => (/* reexport safe */ _files_mjs__WEBPACK_IMPORTED_MODULE_2__.VectorStoreFilesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _lib_Util_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/Util.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/lib/Util.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/files.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\nclass FileBatches extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a vector store file batch.\n     */ create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store file batch.\n     */ retrieve(vectorStoreId, batchId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Cancel a vector store file batch. This attempts to cancel the processing of\n     * files in this batch as soon as possible.\n     */ cancel(vectorStoreId, batchId, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Create a vector store batch and poll until all files have been processed.\n     */ async createAndPoll(vectorStoreId, body, options) {\n        const batch = await this.create(vectorStoreId, body);\n        return await this.poll(vectorStoreId, batch.id, options);\n    }\n    listFiles(vectorStoreId, batchId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.listFiles(vectorStoreId, batchId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, _files_mjs__WEBPACK_IMPORTED_MODULE_2__.VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Wait for the given file batch to be processed.\n     *\n     * Note: this will return even if one of the files failed to process, you need to\n     * check batch.file_counts.failed_count to handle this case.\n     */ async poll(vectorStoreId, batchId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {\n                ...options,\n                headers\n            }).withResponse();\n            switch(batch.status){\n                case \"in_progress\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.sleep)(sleepInterval);\n                    break;\n                case \"failed\":\n                case \"cancelled\":\n                case \"completed\":\n                    return batch;\n            }\n        }\n    }\n    /**\n     * Uploads the given files concurrently and then creates a vector store file batch.\n     *\n     * The concurrency limit is configurable using the `maxConcurrency` parameter.\n     */ async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {\n        if (files == null || files.length == 0) {\n            throw new Error(`No \\`files\\` provided to process. If you've already uploaded files you should use \\`.createAndPoll()\\` instead`);\n        }\n        const configuredConcurrency = options?.maxConcurrency ?? 5;\n        // We cap the number of workers at the number of files (so we don't start any unnecessary workers)\n        const concurrencyLimit = Math.min(configuredConcurrency, files.length);\n        const client = this._client;\n        const fileIterator = files.values();\n        const allFileIds = [\n            ...fileIds\n        ];\n        // This code is based on this design. The libraries don't accommodate our environment limits.\n        // https://stackoverflow.com/questions/40639432/what-is-the-best-way-to-limit-concurrency-when-using-es6s-promise-all\n        async function processFiles(iterator) {\n            for (let item of iterator){\n                const fileObj = await client.files.create({\n                    file: item,\n                    purpose: \"assistants\"\n                }, options);\n                allFileIds.push(fileObj.id);\n            }\n        }\n        // Start workers to process results\n        const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);\n        // Wait for all processing to complete.\n        await (0,_lib_Util_mjs__WEBPACK_IMPORTED_MODULE_3__.allSettledWithThrow)(workers);\n        return await this.createAndPoll(vectorStoreId, {\n            file_ids: allFileIds\n        });\n    }\n}\n //# sourceMappingURL=file-batches.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvZmlsZS1iYXRjaGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDQztBQUNYO0FBQ2tCO0FBQ047QUFDNUMsTUFBTUssb0JBQW9CTCxzREFBV0E7SUFDeEM7O0tBRUMsR0FDRE0sT0FBT0MsYUFBYSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNqQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsYUFBYSxDQUFDLEVBQUU7WUFDckVDO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU04sYUFBYSxFQUFFTyxPQUFPLEVBQUVMLE9BQU8sRUFBRTtRQUN0QyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVSLGNBQWMsY0FBYyxFQUFFTyxRQUFRLENBQUMsRUFBRTtZQUMvRSxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7O0tBR0MsR0FDREksT0FBT1QsYUFBYSxFQUFFTyxPQUFPLEVBQUVMLE9BQU8sRUFBRTtRQUNwQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsY0FBYyxFQUFFTyxRQUFRLE9BQU8sQ0FBQyxFQUFFO1lBQ3ZGLEdBQUdMLE9BQU87WUFDVkcsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHSCxTQUFTRyxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNB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QVdPLElBQUksQ0FBQ0gsUUFBUWhDLEVBQUU7WUFDOUI7UUFDSjtRQUNBLG1DQUFtQztRQUNuQyxNQUFNb0MsVUFBVUMsTUFBTWYsa0JBQWtCZ0IsSUFBSSxDQUFDWixjQUFjYSxHQUFHLENBQUNWO1FBQy9ELHVDQUF1QztRQUN2QyxNQUFNOUMsa0VBQW1CQSxDQUFDcUQ7UUFDMUIsT0FBTyxNQUFNLElBQUksQ0FBQ3ZDLGFBQWEsQ0FBQ1YsZUFBZTtZQUMzQ3FELFVBQVVaO1FBQ2Q7SUFDSjtBQUNKO0FBQ2dDLENBQ2hDLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy9maWxlLWJhdGNoZXMubWpzPzI2YTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vLi4vY29yZS5tanNcIjtcbmltcG9ydCB7IGFsbFNldHRsZWRXaXRoVGhyb3cgfSBmcm9tIFwiLi4vLi4vbGliL1V0aWwubWpzXCI7XG5pbXBvcnQgeyBWZWN0b3JTdG9yZUZpbGVzUGFnZSB9IGZyb20gXCIuL2ZpbGVzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgICAqL1xuICAgIGNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlkfS9maWxlX2JhdGNoZXNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC4gVGhpcyBhdHRlbXB0cyB0byBjYW5jZWwgdGhlIHByb2Nlc3Npbmcgb2ZcbiAgICAgKiBmaWxlcyBpbiB0aGlzIGJhdGNoIGFzIHNvb24gYXMgcG9zc2libGUuXG4gICAgICovXG4gICAgY2FuY2VsKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSWR9L2NhbmNlbGAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGJhdGNoIGFuZCBwb2xsIHVudGlsIGFsbCBmaWxlcyBoYXZlIGJlZW4gcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGF3YWl0IHRoaXMuY3JlYXRlKHZlY3RvclN0b3JlSWQsIGJvZHkpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5wb2xsKHZlY3RvclN0b3JlSWQsIGJhdGNoLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgbGlzdEZpbGVzKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0RmlsZXModmVjdG9yU3RvcmVJZCwgYmF0Y2hJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZV9iYXRjaGVzLyR7YmF0Y2hJZH0vZmlsZXNgLCBWZWN0b3JTdG9yZUZpbGVzUGFnZSwgeyBxdWVyeSwgLi4ub3B0aW9ucywgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdCBmb3IgdGhlIGdpdmVuIGZpbGUgYmF0Y2ggdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIG9uZSBvZiB0aGUgZmlsZXMgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvXG4gICAgICogY2hlY2sgYmF0Y2guZmlsZV9jb3VudHMuZmFpbGVkX2NvdW50IHRvIGhhbmRsZSB0aGlzIGNhc2UuXG4gICAgICovXG4gICAgYXN5bmMgcG9sbCh2ZWN0b3JTdG9yZUlkLCBiYXRjaElkLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1Qb2xsLUhlbHBlcic6ICd0cnVlJyB9O1xuICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJ10gPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogYmF0Y2gsIHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnJldHJpZXZlKHZlY3RvclN0b3JlSWQsIGJhdGNoSWQsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICB9KS53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIHN3aXRjaCAoYmF0Y2guc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBnaXZlbiBmaWxlcyBjb25jdXJyZW50bHkgYW5kIHRoZW4gY3JlYXRlcyBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgICAqXG4gICAgICogVGhlIGNvbmN1cnJlbmN5IGxpbWl0IGlzIGNvbmZpZ3VyYWJsZSB1c2luZyB0aGUgYG1heENvbmN1cnJlbmN5YCBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgYXN5bmMgdXBsb2FkQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCB7IGZpbGVzLCBmaWxlSWRzID0gW10gfSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZmlsZXMgPT0gbnVsbCB8fCBmaWxlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBcXGBmaWxlc1xcYCBwcm92aWRlZCB0byBwcm9jZXNzLiBJZiB5b3UndmUgYWxyZWFkeSB1cGxvYWRlZCBmaWxlcyB5b3Ugc2hvdWxkIHVzZSBcXGAuY3JlYXRlQW5kUG9sbCgpXFxgIGluc3RlYWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWd1cmVkQ29uY3VycmVuY3kgPSBvcHRpb25zPy5tYXhDb25jdXJyZW5jeSA/PyA1O1xuICAgICAgICAvLyBXZSBjYXAgdGhlIG51bWJlciBvZiB3b3JrZXJzIGF0IHRoZSBudW1iZXIgb2YgZmlsZXMgKHNvIHdlIGRvbid0IHN0YXJ0IGFueSB1bm5lY2Vzc2FyeSB3b3JrZXJzKVxuICAgICAgICBjb25zdCBjb25jdXJyZW5jeUxpbWl0ID0gTWF0aC5taW4oY29uZmlndXJlZENvbmN1cnJlbmN5LCBmaWxlcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjbGllbnQgPSB0aGlzLl9jbGllbnQ7XG4gICAgICAgIGNvbnN0IGZpbGVJdGVyYXRvciA9IGZpbGVzLnZhbHVlcygpO1xuICAgICAgICBjb25zdCBhbGxGaWxlSWRzID0gWy4uLmZpbGVJZHNdO1xuICAgICAgICAvLyBUaGlzIGNvZGUgaXMgYmFzZWQgb24gdGhpcyBkZXNpZ24uIFRoZSBsaWJyYXJpZXMgZG9uJ3QgYWNjb21tb2RhdGUgb3VyIGVudmlyb25tZW50IGxpbWl0cy5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDA2Mzk0MzIvd2hhdC1pcy10aGUtYmVzdC13YXktdG8tbGltaXQtY29uY3VycmVuY3ktd2hlbi11c2luZy1lczZzLXByb21pc2UtYWxsXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlcyhpdGVyYXRvcikge1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBpdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVPYmogPSBhd2FpdCBjbGllbnQuZmlsZXMuY3JlYXRlKHsgZmlsZTogaXRlbSwgcHVycG9zZTogJ2Fzc2lzdGFudHMnIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGFsbEZpbGVJZHMucHVzaChmaWxlT2JqLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydCB3b3JrZXJzIHRvIHByb2Nlc3MgcmVzdWx0c1xuICAgICAgICBjb25zdCB3b3JrZXJzID0gQXJyYXkoY29uY3VycmVuY3lMaW1pdCkuZmlsbChmaWxlSXRlcmF0b3IpLm1hcChwcm9jZXNzRmlsZXMpO1xuICAgICAgICAvLyBXYWl0IGZvciBhbGwgcHJvY2Vzc2luZyB0byBjb21wbGV0ZS5cbiAgICAgICAgYXdhaXQgYWxsU2V0dGxlZFdpdGhUaHJvdyh3b3JrZXJzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCB7XG4gICAgICAgICAgICBmaWxlX2lkczogYWxsRmlsZUlkcyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IHsgVmVjdG9yU3RvcmVGaWxlc1BhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGUtYmF0Y2hlcy5tanMubWFwIl0sIm5hbWVzIjpbIkFQSVJlc291cmNlIiwiaXNSZXF1ZXN0T3B0aW9ucyIsInNsZWVwIiwiYWxsU2V0dGxlZFdpdGhUaHJvdyIsIlZlY3RvclN0b3JlRmlsZXNQYWdlIiwiRmlsZUJhdGNoZXMiLCJjcmVhdGUiLCJ2ZWN0b3JTdG9yZUlkIiwiYm9keSIsIm9wdGlvbnMiLCJfY2xpZW50IiwicG9zdCIsImhlYWRlcnMiLCJyZXRyaWV2ZSIsImJhdGNoSWQiLCJnZXQiLCJjYW5jZWwiLCJjcmVhdGVBbmRQb2xsIiwiYmF0Y2giLCJwb2xsIiwiaWQiLCJsaXN0RmlsZXMiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJwb2xsSW50ZXJ2YWxNcyIsInRvU3RyaW5nIiwiZGF0YSIsInJlc3BvbnNlIiwid2l0aFJlc3BvbnNlIiwic3RhdHVzIiwic2xlZXBJbnRlcnZhbCIsImhlYWRlckludGVydmFsIiwiaGVhZGVySW50ZXJ2YWxNcyIsInBhcnNlSW50IiwiaXNOYU4iLCJ1cGxvYWRBbmRQb2xsIiwiZmlsZXMiLCJmaWxlSWRzIiwibGVuZ3RoIiwiRXJyb3IiLCJjb25maWd1cmVkQ29uY3VycmVuY3kiLCJtYXhDb25jdXJyZW5jeSIsImNvbmN1cnJlbmN5TGltaXQiLCJNYXRoIiwibWluIiwiY2xpZW50IiwiZmlsZUl0ZXJhdG9yIiwidmFsdWVzIiwiYWxsRmlsZUlkcyIsInByb2Nlc3NGaWxlcyIsIml0ZXJhdG9yIiwiaXRlbSIsImZpbGVPYmoiLCJmaWxlIiwicHVycG9zZSIsInB1c2giLCJ3b3JrZXJzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiZmlsZV9pZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/file-batches.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/files.mjs":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/files.mjs ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileContentResponsesPage: () => (/* binding */ FileContentResponsesPage),\n/* harmony export */   Files: () => (/* binding */ Files),\n/* harmony export */   VectorStoreFilesPage: () => (/* binding */ VectorStoreFilesPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\nclass Files extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    /**\n     * Create a vector store file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to a\n     * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).\n     */ create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/files`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store file.\n     */ retrieve(vectorStoreId, fileId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Update attributes on a vector store file.\n     */ update(vectorStoreId, fileId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(vectorStoreId, query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.isRequestOptions)(query)) {\n            return this.list(vectorStoreId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a vector store file. This will remove the file from the vector store but\n     * the file itself will not be deleted. To delete the file, use the\n     * [delete file](https://platform.openai.com/docs/api-reference/files/delete)\n     * endpoint.\n     */ del(vectorStoreId, fileId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Attach a file to the given vector store and wait for it to be processed.\n     */ async createAndPoll(vectorStoreId, body, options) {\n        const file = await this.create(vectorStoreId, body, options);\n        return await this.poll(vectorStoreId, file.id, options);\n    }\n    /**\n     * Wait for the vector store file to finish processing.\n     *\n     * Note: this will return even if the file failed to process, you need to check\n     * file.last_error and file.status to handle these cases\n     */ async poll(vectorStoreId, fileId, options) {\n        const headers = {\n            ...options?.headers,\n            \"X-Stainless-Poll-Helper\": \"true\"\n        };\n        if (options?.pollIntervalMs) {\n            headers[\"X-Stainless-Custom-Poll-Interval\"] = options.pollIntervalMs.toString();\n        }\n        while(true){\n            const fileResponse = await this.retrieve(vectorStoreId, fileId, {\n                ...options,\n                headers\n            }).withResponse();\n            const file = fileResponse.data;\n            switch(file.status){\n                case \"in_progress\":\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    } else {\n                        const headerInterval = fileResponse.response.headers.get(\"openai-poll-after-ms\");\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0,_core_mjs__WEBPACK_IMPORTED_MODULE_1__.sleep)(sleepInterval);\n                    break;\n                case \"failed\":\n                case \"completed\":\n                    return file;\n            }\n        }\n    }\n    /**\n     * Upload a file to the `files` API and then attach it to the given vector store.\n     *\n     * Note the file will be asynchronously processed (you can use the alternative\n     * polling helper method to wait for processing to complete).\n     */ async upload(vectorStoreId, file, options) {\n        const fileInfo = await this._client.files.create({\n            file: file,\n            purpose: \"assistants\"\n        }, options);\n        return this.create(vectorStoreId, {\n            file_id: fileInfo.id\n        }, options);\n    }\n    /**\n     * Add a file to a vector store and poll until processing is complete.\n     */ async uploadAndPoll(vectorStoreId, file, options) {\n        const fileInfo = await this.upload(vectorStoreId, file, options);\n        return await this.poll(vectorStoreId, fileInfo.id, options);\n    }\n    /**\n     * Retrieve the parsed contents of a vector store file.\n     */ content(vectorStoreId, fileId, options) {\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files/${fileId}/content`, FileContentResponsesPage, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass VectorStoreFilesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.CursorPage {\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class FileContentResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_2__.Page {\n}\nFiles.VectorStoreFilesPage = VectorStoreFilesPage;\nFiles.FileContentResponsesPage = FileContentResponsesPage; //# sourceMappingURL=files.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvZmlsZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNGQUFzRjtBQUNyQztBQUNRO0FBQ0Q7QUFDakQsTUFBTUssY0FBY0wsc0RBQVdBO0lBQ2xDOzs7O0tBSUMsR0FDRE0sT0FBT0MsYUFBYSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNqQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVKLGNBQWMsTUFBTSxDQUFDLEVBQUU7WUFDOURDO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREMsU0FBU04sYUFBYSxFQUFFTyxNQUFNLEVBQUVMLE9BQU8sRUFBRTtRQUNyQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVSLGNBQWMsT0FBTyxFQUFFTyxPQUFPLENBQUMsRUFBRTtZQUN2RSxHQUFHTCxPQUFPO1lBQ1ZHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQ25FO0lBQ0o7SUFDQTs7S0FFQyxHQUNESSxPQUFPVCxhQUFhLEVBQUVPLE1BQU0sRUFBRU4sSUFBSSxFQUFFQyxPQUFPLEVBQUU7UUFDekMsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsZUFBZSxFQUFFSixjQUFjLE9BQU8sRUFBRU8sT0FBTyxDQUFDLEVBQUU7WUFDeEVOO1lBQ0EsR0FBR0MsT0FBTztZQUNWRyxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdILFNBQVNHLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0FLLEtBQUtW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ZUFBZWlCLE1BQU1mO1FBQ3hELE9BQU8sTUFBTSxJQUFJLENBQUNnQixJQUFJLENBQUNsQixlQUFlaUMsU0FBU2QsRUFBRSxFQUFFakI7SUFDdkQ7SUFDQTs7S0FFQyxHQUNEb0MsUUFBUXRDLGFBQWEsRUFBRU8sTUFBTSxFQUFFTCxPQUFPLEVBQUU7UUFDcEMsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ1MsVUFBVSxDQUFDLENBQUMsZUFBZSxFQUFFWixjQUFjLE9BQU8sRUFBRU8sT0FBTyxRQUFRLENBQUMsRUFBRWdDLDBCQUEwQjtZQUFFLEdBQUdyQyxPQUFPO1lBQUVHLFNBQVM7Z0JBQUUsZUFBZTtnQkFBaUIsR0FBR0gsU0FBU0csT0FBTztZQUFDO1FBQUU7SUFDdk07QUFDSjtBQUNPLE1BQU1RLDZCQUE2QmpCLHVEQUFVQTtBQUNwRDtBQUNBOztDQUVDLEdBQ00sTUFBTTJDLGlDQUFpQzFDLGlEQUFJQTtBQUNsRDtBQUNBQyxNQUFNZSxvQkFBb0IsR0FBR0E7QUFDN0JmLE1BQU15Qyx3QkFBd0IsR0FBR0EsMEJBQ2pDLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVydmlldy8uL25vZGVfbW9kdWxlcy8ucG5wbS9vcGVuYWlANC45Ny4wX3pvZEAzLjI0LjMvbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy9maWxlcy5tanM/YWVmNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBzbGVlcCwgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSwgUGFnZSB9IGZyb20gXCIuLi8uLi9wYWdpbmF0aW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBmaWxlIGJ5IGF0dGFjaGluZyBhXG4gICAgICogW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMpIHRvIGFcbiAgICAgKiBbdmVjdG9yIHN0b3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3ZlY3Rvci1zdG9yZXMvb2JqZWN0KS5cbiAgICAgKi9cbiAgICBjcmVhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXNgLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXMvJHtmaWxlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYXR0cmlidXRlcyBvbiBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgICAqL1xuICAgIHVwZGF0ZSh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpc3QodmVjdG9yU3RvcmVJZCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0T3B0aW9ucyhxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3QodmVjdG9yU3RvcmVJZCwge30sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vZmlsZXNgLCBWZWN0b3JTdG9yZUZpbGVzUGFnZSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHZlY3RvciBzdG9yZSBmaWxlLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIHZlY3RvciBzdG9yZSBidXRcbiAgICAgKiB0aGUgZmlsZSBpdHNlbGYgd2lsbCBub3QgYmUgZGVsZXRlZC4gVG8gZGVsZXRlIHRoZSBmaWxlLCB1c2UgdGhlXG4gICAgICogW2RlbGV0ZSBmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2RlbGV0ZSlcbiAgICAgKiBlbmRwb2ludC5cbiAgICAgKi9cbiAgICBkZWwodmVjdG9yU3RvcmVJZCwgZmlsZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJywgLi4ub3B0aW9ucz8uaGVhZGVycyB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGEgZmlsZSB0byB0aGUgZ2l2ZW4gdmVjdG9yIHN0b3JlIGFuZCB3YWl0IGZvciBpdCB0byBiZSBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbCh2ZWN0b3JTdG9yZUlkLCBmaWxlLmlkLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdCBmb3IgdGhlIHZlY3RvciBzdG9yZSBmaWxlIHRvIGZpbmlzaCBwcm9jZXNzaW5nLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIHRoZSBmaWxlIGZhaWxlZCB0byBwcm9jZXNzLCB5b3UgbmVlZCB0byBjaGVja1xuICAgICAqIGZpbGUubGFzdF9lcnJvciBhbmQgZmlsZS5zdGF0dXMgdG8gaGFuZGxlIHRoZXNlIGNhc2VzXG4gICAgICovXG4gICAgYXN5bmMgcG9sbCh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLVBvbGwtSGVscGVyJzogJ3RydWUnIH07XG4gICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgaGVhZGVyc1snWC1TdGFpbmxlc3MtQ3VzdG9tLVBvbGwtSW50ZXJ2YWwnXSA9IG9wdGlvbnMucG9sbEludGVydmFsTXMudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZmlsZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICB9KS53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlUmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmlsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICAgICAgICAgIGxldCBzbGVlcEludGVydmFsID0gNTAwMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsID0gZmlsZVJlc3BvbnNlLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYSBmaWxlIHRvIHRoZSBgZmlsZXNgIEFQSSBhbmQgdGhlbiBhdHRhY2ggaXQgdG8gdGhlIGdpdmVuIHZlY3RvciBzdG9yZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhlIGZpbGUgd2lsbCBiZSBhc3luY2hyb25vdXNseSBwcm9jZXNzZWQgKHlvdSBjYW4gdXNlIHRoZSBhbHRlcm5hdGl2ZVxuICAgICAqIHBvbGxpbmcgaGVscGVyIG1ldGhvZCB0byB3YWl0IGZvciBwcm9jZXNzaW5nIHRvIGNvbXBsZXRlKS5cbiAgICAgKi9cbiAgICBhc3luYyB1cGxvYWQodmVjdG9yU3RvcmVJZCwgZmlsZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMuX2NsaWVudC5maWxlcy5jcmVhdGUoeyBmaWxlOiBmaWxlLCBwdXJwb3NlOiAnYXNzaXN0YW50cycgfSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCB7IGZpbGVfaWQ6IGZpbGVJbmZvLmlkIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBmaWxlIHRvIGEgdmVjdG9yIHN0b3JlIGFuZCBwb2xsIHVudGlsIHByb2Nlc3NpbmcgaXMgY29tcGxldGUuXG4gICAgICovXG4gICAgYXN5bmMgdXBsb2FkQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCBmaWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZpbGVJbmZvID0gYXdhaXQgdGhpcy51cGxvYWQodmVjdG9yU3RvcmVJZCwgZmlsZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZUluZm8uaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgcGFyc2VkIGNvbnRlbnRzIG9mIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAgICovXG4gICAgY29udGVudCh2ZWN0b3JTdG9yZUlkLCBmaWxlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9L2ZpbGVzLyR7ZmlsZUlkfS9jb250ZW50YCwgRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlLCB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0gfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlRmlsZXNQYWdlIGV4dGVuZHMgQ3Vyc29yUGFnZSB7XG59XG4vKipcbiAqIE5vdGU6IG5vIHBhZ2luYXRpb24gYWN0dWFsbHkgb2NjdXJzIHlldCwgdGhpcyBpcyBmb3IgZm9yd2FyZHMtY29tcGF0aWJpbGl0eS5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSBleHRlbmRzIFBhZ2Uge1xufVxuRmlsZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBWZWN0b3JTdG9yZUZpbGVzUGFnZTtcbkZpbGVzLkZpbGVDb250ZW50UmVzcG9uc2VzUGFnZSA9IEZpbGVDb250ZW50UmVzcG9uc2VzUGFnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXAiXSwibmFtZXMiOlsiQVBJUmVzb3VyY2UiLCJzbGVlcCIsImlzUmVxdWVzdE9wdGlvbnMiLCJDdXJzb3JQYWdlIiwiUGFnZSIsIkZpbGVzIiwiY3JlYXRlIiwidmVjdG9yU3RvcmVJZCIsImJvZHkiLCJvcHRpb25zIiwiX2NsaWVudCIsInBvc3QiLCJoZWFkZXJzIiwicmV0cmlldmUiLCJmaWxlSWQiLCJnZXQiLCJ1cGRhdGUiLCJsaXN0IiwicXVlcnkiLCJnZXRBUElMaXN0IiwiVmVjdG9yU3RvcmVGaWxlc1BhZ2UiLCJkZWwiLCJkZWxldGUiLCJjcmVhdGVBbmRQb2xsIiwiZmlsZSIsInBvbGwiLCJpZCIsInBvbGxJbnRlcnZhbE1zIiwidG9TdHJpbmciLCJmaWxlUmVzcG9uc2UiLCJ3aXRoUmVzcG9uc2UiLCJkYXRhIiwic3RhdHVzIiwic2xlZXBJbnRlcnZhbCIsImhlYWRlckludGVydmFsIiwicmVzcG9uc2UiLCJoZWFkZXJJbnRlcnZhbE1zIiwicGFyc2VJbnQiLCJpc05hTiIsInVwbG9hZCIsImZpbGVJbmZvIiwiZmlsZXMiLCJwdXJwb3NlIiwiZmlsZV9pZCIsInVwbG9hZEFuZFBvbGwiLCJjb250ZW50IiwiRmlsZUNvbnRlbnRSZXNwb25zZXNQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/files.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/vector-stores.mjs":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/vector-stores.mjs ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VectorStoreSearchResponsesPage: () => (/* binding */ VectorStoreSearchResponsesPage),\n/* harmony export */   VectorStores: () => (/* binding */ VectorStores),\n/* harmony export */   VectorStoresPage: () => (/* binding */ VectorStoresPage)\n/* harmony export */ });\n/* harmony import */ var _resource_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../resource.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resource.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n/* harmony import */ var _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./file-batches.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/file-batches.mjs\");\n/* harmony import */ var _files_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./files.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/files.mjs\");\n/* harmony import */ var _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../pagination.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/pagination.mjs\");\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\n\n\n\n\n\n\n\nclass VectorStores extends _resource_mjs__WEBPACK_IMPORTED_MODULE_0__.APIResource {\n    constructor(){\n        super(...arguments);\n        this.files = new _files_mjs__WEBPACK_IMPORTED_MODULE_1__.Files(this._client);\n        this.fileBatches = new _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__.FileBatches(this._client);\n    }\n    /**\n     * Create a vector store.\n     */ create(body, options) {\n        return this._client.post(\"/vector_stores\", {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Retrieves a vector store.\n     */ retrieve(vectorStoreId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Modifies a vector store.\n     */ update(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}`, {\n            body,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    list(query = {}, options) {\n        if ((0,_core_mjs__WEBPACK_IMPORTED_MODULE_3__.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList(\"/vector_stores\", VectorStoresPage, {\n            query,\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Delete a vector store.\n     */ del(vectorStoreId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n    /**\n     * Search a vector store for relevant chunks based on a query and file attributes\n     * filter.\n     */ search(vectorStoreId, body, options) {\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/search`, VectorStoreSearchResponsesPage, {\n            body,\n            method: \"post\",\n            ...options,\n            headers: {\n                \"OpenAI-Beta\": \"assistants=v2\",\n                ...options?.headers\n            }\n        });\n    }\n}\nclass VectorStoresPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.CursorPage {\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */ class VectorStoreSearchResponsesPage extends _pagination_mjs__WEBPACK_IMPORTED_MODULE_4__.Page {\n}\nVectorStores.VectorStoresPage = VectorStoresPage;\nVectorStores.VectorStoreSearchResponsesPage = VectorStoreSearchResponsesPage;\nVectorStores.Files = _files_mjs__WEBPACK_IMPORTED_MODULE_1__.Files;\nVectorStores.VectorStoreFilesPage = _files_mjs__WEBPACK_IMPORTED_MODULE_1__.VectorStoreFilesPage;\nVectorStores.FileContentResponsesPage = _files_mjs__WEBPACK_IMPORTED_MODULE_1__.FileContentResponsesPage;\nVectorStores.FileBatches = _file_batches_mjs__WEBPACK_IMPORTED_MODULE_2__.FileBatches; //# sourceMappingURL=vector-stores.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvdmVjdG9yLXN0b3Jlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzRkFBc0Y7QUFDckM7QUFDQztBQUNHO0FBQ0g7QUFDVjtBQUM2QztBQUM3QjtBQUNqRCxNQUFNVSxxQkFBcUJWLHNEQUFXQTtJQUN6Q1csYUFBYztRQUNWLEtBQUssSUFBSUM7UUFDVCxJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJVCw2Q0FBYyxDQUFDLElBQUksQ0FBQ1UsT0FBTztRQUM1QyxJQUFJLENBQUNDLFdBQVcsR0FBRyxJQUFJYiwwREFBMEIsQ0FBQyxJQUFJLENBQUNZLE9BQU87SUFDbEU7SUFDQTs7S0FFQyxHQUNERSxPQUFPQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNsQixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxJQUFJLENBQUMsa0JBQWtCO1lBQ3ZDRjtZQUNBLEdBQUdDLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RDLFNBQVNDLGFBQWEsRUFBRUosT0FBTyxFQUFFO1FBQzdCLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNTLEdBQUcsQ0FBQyxDQUFDLGVBQWUsRUFBRUQsY0FBYyxDQUFDLEVBQUU7WUFDdkQsR0FBR0osT0FBTztZQUNWRSxTQUFTO2dCQUFFLGVBQWU7Z0JBQWlCLEdBQUdGLFNBQVNFLE9BQU87WUFBQztRQUNuRTtJQUNKO0lBQ0E7O0tBRUMsR0FDREksT0FBT0YsYUFBYSxFQUFFTCxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUNqQyxPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDSyxJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUVHLGNBQWMsQ0FBQyxFQUFFO1lBQ3hETDtZQUNBLEdBQUdDLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBSyxLQUFLQyxRQUFRLENBQUMsQ0FBQyxFQUFFUixPQUFPLEVBQUU7UUFDdEIsSUFBSWpCLDJEQUFnQkEsQ0FBQ3lCLFFBQVE7WUFDekIsT0FBTyxJQUFJLENBQUNELElBQUksQ0FBQyxDQUFDLEdBQUdDO1FBQ3pCO1FBQ0EsT0FBTyxJQUFJLENBQUNaLE9BQU8sQ0FBQ2EsVUFBVSxDQUFDLGtCQUFrQkMsa0JBQWtCO1lBQy9ERjtZQUNBLEdBQUdSLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOztLQUVDLEdBQ0RTLElBQUlQLGFBQWEsRUFBRUosT0FBTyxFQUFFO1FBQ3hCLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNnQixNQUFNLENBQUMsQ0FBQyxlQUFlLEVBQUVSLGNBQWMsQ0FBQyxFQUFFO1lBQzFELEdBQUdKLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtJQUNBOzs7S0FHQyxHQUNEVyxPQUFPVCxhQUFhLEVBQUVMLElBQUksRUFBRUMsT0FBTyxFQUFFO1FBQ2pDLE9BQU8sSUFBSSxDQUFDSixPQUFPLENBQUNhLFVBQVUsQ0FBQyxDQUFDLGVBQWUsRUFBRUwsY0FBYyxPQUFPLENBQUMsRUFBRVUsZ0NBQWdDO1lBQ3JHZjtZQUNBZ0IsUUFBUTtZQUNSLEdBQUdmLE9BQU87WUFDVkUsU0FBUztnQkFBRSxlQUFlO2dCQUFpQixHQUFHRixTQUFTRSxPQUFPO1lBQUM7UUFDbkU7SUFDSjtBQUNKO0FBQ08sTUFBTVEseUJBQXlCcEIsdURBQVVBO0FBQ2hEO0FBQ0E7O0NBRUMsR0FDTSxNQUFNd0IsdUNBQXVDdkIsaURBQUlBO0FBQ3hEO0FBQ0FDLGFBQWFrQixnQkFBZ0IsR0FBR0E7QUFDaENsQixhQUFhc0IsOEJBQThCLEdBQUdBO0FBQzlDdEIsYUFBYUosS0FBSyxHQUFHQSw2Q0FBS0E7QUFDMUJJLGFBQWFILG9CQUFvQixHQUFHQSw0REFBb0JBO0FBQ3hERyxhQUFhTCx3QkFBd0IsR0FBR0EsZ0VBQXdCQTtBQUNoRUssYUFBYVAsV0FBVyxHQUFHQSwwREFBV0EsRUFDdEMsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZXJ2aWV3Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL29wZW5haUA0Ljk3LjBfem9kQDMuMjQuMy9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL3ZlY3Rvci1zdG9yZXMubWpzPzFkY2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgaXNSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlLm1qc1wiO1xuaW1wb3J0ICogYXMgRmlsZUJhdGNoZXNBUEkgZnJvbSBcIi4vZmlsZS1iYXRjaGVzLm1qc1wiO1xuaW1wb3J0IHsgRmlsZUJhdGNoZXMsIH0gZnJvbSBcIi4vZmlsZS1iYXRjaGVzLm1qc1wiO1xuaW1wb3J0ICogYXMgRmlsZXNBUEkgZnJvbSBcIi4vZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UsIEZpbGVzLCBWZWN0b3JTdG9yZUZpbGVzUGFnZSwgfSBmcm9tIFwiLi9maWxlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UsIFBhZ2UgfSBmcm9tIFwiLi4vLi4vcGFnaW5hdGlvbi5tanNcIjtcbmV4cG9ydCBjbGFzcyBWZWN0b3JTdG9yZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgRmlsZXNBUEkuRmlsZXModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5maWxlQmF0Y2hlcyA9IG5ldyBGaWxlQmF0Y2hlc0FQSS5GaWxlQmF0Y2hlcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdmVjdG9yX3N0b3JlcycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSWR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGlzUmVxdWVzdE9wdGlvbnMocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0KHt9LCBxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvdmVjdG9yX3N0b3JlcycsIFZlY3RvclN0b3Jlc1BhZ2UsIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInLCAuLi5vcHRpb25zPy5oZWFkZXJzIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSB2ZWN0b3Igc3RvcmUuXG4gICAgICovXG4gICAgZGVsKHZlY3RvclN0b3JlSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlYXJjaCBhIHZlY3RvciBzdG9yZSBmb3IgcmVsZXZhbnQgY2h1bmtzIGJhc2VkIG9uIGEgcXVlcnkgYW5kIGZpbGUgYXR0cmlidXRlc1xuICAgICAqIGZpbHRlci5cbiAgICAgKi9cbiAgICBzZWFyY2godmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJZH0vc2VhcmNoYCwgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicsIC4uLm9wdGlvbnM/LmhlYWRlcnMgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3Jlc1BhZ2UgZXh0ZW5kcyBDdXJzb3JQYWdlIHtcbn1cbi8qKlxuICogTm90ZTogbm8gcGFnaW5hdGlvbiBhY3R1YWxseSBvY2N1cnMgeWV0LCB0aGlzIGlzIGZvciBmb3J3YXJkcy1jb21wYXRpYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIGV4dGVuZHMgUGFnZSB7XG59XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVzUGFnZSA9IFZlY3RvclN0b3Jlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlID0gVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlO1xuVmVjdG9yU3RvcmVzLkZpbGVzID0gRmlsZXM7XG5WZWN0b3JTdG9yZXMuVmVjdG9yU3RvcmVGaWxlc1BhZ2UgPSBWZWN0b3JTdG9yZUZpbGVzUGFnZTtcblZlY3RvclN0b3Jlcy5GaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UgPSBGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2U7XG5WZWN0b3JTdG9yZXMuRmlsZUJhdGNoZXMgPSBGaWxlQmF0Y2hlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlY3Rvci1zdG9yZXMubWpzLm1hcCJdLCJuYW1lcyI6WyJBUElSZXNvdXJjZSIsImlzUmVxdWVzdE9wdGlvbnMiLCJGaWxlQmF0Y2hlc0FQSSIsIkZpbGVCYXRjaGVzIiwiRmlsZXNBUEkiLCJGaWxlQ29udGVudFJlc3BvbnNlc1BhZ2UiLCJGaWxlcyIsIlZlY3RvclN0b3JlRmlsZXNQYWdlIiwiQ3Vyc29yUGFnZSIsIlBhZ2UiLCJWZWN0b3JTdG9yZXMiLCJjb25zdHJ1Y3RvciIsImFyZ3VtZW50cyIsImZpbGVzIiwiX2NsaWVudCIsImZpbGVCYXRjaGVzIiwiY3JlYXRlIiwiYm9keSIsIm9wdGlvbnMiLCJwb3N0IiwiaGVhZGVycyIsInJldHJpZXZlIiwidmVjdG9yU3RvcmVJZCIsImdldCIsInVwZGF0ZSIsImxpc3QiLCJxdWVyeSIsImdldEFQSUxpc3QiLCJWZWN0b3JTdG9yZXNQYWdlIiwiZGVsIiwiZGVsZXRlIiwic2VhcmNoIiwiVmVjdG9yU3RvcmVTZWFyY2hSZXNwb25zZXNQYWdlIiwibWV0aG9kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/resources/vector-stores/vector-stores.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Stream: () => (/* binding */ Stream),\n/* harmony export */   _iterSSEMessages: () => (/* binding */ _iterSSEMessages)\n/* harmony export */ });\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs\");\n/* harmony import */ var _error_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/error.mjs\");\n/* harmony import */ var _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/decoders/line.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/decoders/line.mjs\");\n/* harmony import */ var _internal_stream_utils_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/stream-utils.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/internal/stream-utils.mjs\");\n/* harmony import */ var _core_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/core.mjs\");\n\n\n\n\n\n\nclass Stream {\n    constructor(iterator, controller){\n        this.iterator = iterator;\n        this.controller = controller;\n    }\n    static fromSSEResponse(response, controller) {\n        let consumed = false;\n        async function* iterator() {\n            if (consumed) {\n                throw new Error(\"Cannot iterate over a consumed stream, use `.tee()` to split the stream.\");\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of _iterSSEMessages(response, controller)){\n                    if (done) continue;\n                    if (sse.data.startsWith(\"[DONE]\")) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null || sse.event.startsWith(\"response.\") || sse.event.startsWith(\"transcript.\")) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        } catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIError(undefined, data.error, undefined, (0,_core_mjs__WEBPACK_IMPORTED_MODULE_2__.createResponseHeaders)(response.headers));\n                        }\n                        yield data;\n                    } else {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        } catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        // TODO: Is this where the error should be thrown?\n                        if (sse.event == \"error\") {\n                            throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.APIError(undefined, data.error, data.message, undefined);\n                        }\n                        yield {\n                            event: sse.event,\n                            data: data\n                        };\n                    }\n                }\n                done = true;\n            } catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === \"AbortError\") return;\n                throw e;\n            } finally{\n                // If the user `break`s, abort the ongoing request.\n                if (!done) controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */ static fromReadableStream(readableStream, controller) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_3__.LineDecoder();\n            const iter = (0,_internal_stream_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.ReadableStreamToAsyncIterable)(readableStream);\n            for await (const chunk of iter){\n                for (const line of lineDecoder.decode(chunk)){\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()){\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error(\"Cannot iterate over a consumed stream, use `.tee()` to split the stream.\");\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()){\n                    if (done) continue;\n                    if (line) yield JSON.parse(line);\n                }\n                done = true;\n            } catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === \"AbortError\") return;\n                throw e;\n            } finally{\n                // If the user `break`s, abort the ongoing request.\n                if (!done) controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */ tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue)=>{\n            return {\n                next: ()=>{\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                }\n            };\n        };\n        return [\n            new Stream(()=>teeIterator(left), this.controller),\n            new Stream(()=>teeIterator(right), this.controller)\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */ toReadableStream() {\n        const self = this;\n        let iter;\n        const encoder = new TextEncoder();\n        return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.ReadableStream({\n            async start () {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull (ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done) return ctrl.close();\n                    const bytes = encoder.encode(JSON.stringify(value) + \"\\n\");\n                    ctrl.enqueue(bytes);\n                } catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel () {\n                await iter.return?.();\n            }\n        });\n    }\n}\nasync function* _iterSSEMessages(response, controller) {\n    if (!response.body) {\n        controller.abort();\n        throw new _error_mjs__WEBPACK_IMPORTED_MODULE_1__.OpenAIError(`Attempted to iterate over a response with no body`);\n    }\n    const sseDecoder = new SSEDecoder();\n    const lineDecoder = new _internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_3__.LineDecoder();\n    const iter = (0,_internal_stream_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.ReadableStreamToAsyncIterable)(response.body);\n    for await (const sseChunk of iterSSEChunks(iter)){\n        for (const line of lineDecoder.decode(sseChunk)){\n            const sse = sseDecoder.decode(line);\n            if (sse) yield sse;\n        }\n    }\n    for (const line of lineDecoder.flush()){\n        const sse = sseDecoder.decode(line);\n        if (sse) yield sse;\n    }\n}\n/**\n * Given an async iterable iterator, iterates over it and yields full\n * SSE chunks, i.e. yields when a double new-line is encountered.\n */ async function* iterSSEChunks(iterator) {\n    let data = new Uint8Array();\n    for await (const chunk of iterator){\n        if (chunk == null) {\n            continue;\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk) : typeof chunk === \"string\" ? new TextEncoder().encode(chunk) : chunk;\n        let newData = new Uint8Array(data.length + binaryChunk.length);\n        newData.set(data);\n        newData.set(binaryChunk, data.length);\n        data = newData;\n        let patternIndex;\n        while((patternIndex = (0,_internal_decoders_line_mjs__WEBPACK_IMPORTED_MODULE_3__.findDoubleNewlineIndex)(data)) !== -1){\n            yield data.slice(0, patternIndex);\n            data = data.slice(patternIndex);\n        }\n    }\n    if (data.length > 0) {\n        yield data;\n    }\n}\nclass SSEDecoder {\n    constructor(){\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith(\"\\r\")) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length) return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join(\"\\n\"),\n                raw: this.chunks\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(\":\")) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, \":\");\n        if (value.startsWith(\" \")) {\n            value = value.substring(1);\n        }\n        if (fieldname === \"event\") {\n            this.event = value;\n        } else if (fieldname === \"data\") {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [\n            str.substring(0, index),\n            delimiter,\n            str.substring(index + delimiter.length)\n        ];\n    }\n    return [\n        str,\n        \"\",\n        \"\"\n    ];\n} //# sourceMappingURL=streaming.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvc3RyZWFtaW5nLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW9EO0FBQ1Y7QUFDeUM7QUFDUDtBQUN6QjtBQUNaO0FBQ2hDLE1BQU1PO0lBQ1RDLFlBQVlDLFFBQVEsRUFBRUMsVUFBVSxDQUFFO1FBQzlCLElBQUksQ0FBQ0QsUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNDLFVBQVUsR0FBR0E7SUFDdEI7SUFDQSxPQUFPQyxnQkFBZ0JDLFFBQVEsRUFBRUYsVUFBVSxFQUFFO1FBQ3pDLElBQUlHLFdBQVc7UUFDZixnQkFBZ0JKO1lBQ1osSUFBSUksVUFBVTtnQkFDVixNQUFNLElBQUlDLE1BQU07WUFDcEI7WUFDQUQsV0FBVztZQUNYLElBQUlFLE9BQU87WUFDWCxJQUFJO2dCQUNBLFdBQVcsTUFBTUMsT0FBT0MsaUJBQWlCTCxVQUFVRixZQUFhO29CQUM1RCxJQUFJSyxNQUNBO29CQUNKLElBQUlDLElBQUlFLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFdBQVc7d0JBQy9CSixPQUFPO3dCQUNQO29CQUNKO29CQUNBLElBQUlDLElBQUlJLEtBQUssS0FBSyxRQUNkSixJQUFJSSxLQUFLLENBQUNELFVBQVUsQ0FBQyxnQkFDckJILElBQUlJLEtBQUssQ0FBQ0QsVUFBVSxDQUFDLGdCQUFnQjt3QkFDckMsSUFBSUQ7d0JBQ0osSUFBSTs0QkFDQUEsT0FBT0csS0FBS0MsS0FBSyxDQUFDTixJQUFJRSxJQUFJO3dCQUM5QixFQUNBLE9BQU9LLEdBQUc7NEJBQ05DLFFBQVFDLEtBQUssQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLEVBQUVULElBQUlFLElBQUk7NEJBQzVETSxRQUFRQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRVQsSUFBSVUsR0FBRzs0QkFDcEMsTUFBTUg7d0JBQ1Y7d0JBQ0EsSUFBSUwsUUFBUUEsS0FBS08sS0FB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O0FBQ0EsU0FBUzJCLFVBQVVDLEdBQUcsRUFBRUMsU0FBUztJQUM3QixNQUFNQyxRQUFRRixJQUFJRyxPQUFPLENBQUNGO0lBQzFCLElBQUlDLFVBQVUsQ0FBQyxHQUFHO1FBQ2QsT0FBTztZQUFDRixJQUFJTCxTQUFTLENBQUMsR0FBR087WUFBUUQ7WUFBV0QsSUFBSUwsU0FBUyxDQUFDTyxRQUFRRCxVQUFVeEMsTUFBTTtTQUFFO0lBQ3hGO0lBQ0EsT0FBTztRQUFDdUM7UUFBSztRQUFJO0tBQUc7QUFDeEIsRUFDQSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvc3RyZWFtaW5nLm1qcz83ZWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWRhYmxlU3RyZWFtIH0gZnJvbSBcIi4vX3NoaW1zL2luZGV4Lm1qc1wiO1xuaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IGZpbmREb3VibGVOZXdsaW5lSW5kZXgsIExpbmVEZWNvZGVyIH0gZnJvbSBcIi4vaW50ZXJuYWwvZGVjb2RlcnMvbGluZS5tanNcIjtcbmltcG9ydCB7IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlIH0gZnJvbSBcIi4vaW50ZXJuYWwvc3RyZWFtLXV0aWxzLm1qc1wiO1xuaW1wb3J0IHsgY3JlYXRlUmVzcG9uc2VIZWFkZXJzIH0gZnJvbSBcIi4vY29yZS5tanNcIjtcbmltcG9ydCB7IEFQSUVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5leHBvcnQgY2xhc3MgU3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVyYXRvciwgY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZSBvZiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5ldmVudCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3NlLmV2ZW50LnN0YXJ0c1dpdGgoJ3Jlc3BvbnNlLicpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBzc2UuZXZlbnQuc3RhcnRzV2l0aCgndHJhbnNjcmlwdC4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgdW5kZWZpbmVkLCBjcmVhdGVSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UuaGVhZGVycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShzc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBwYXJzZSBtZXNzYWdlIGludG8gSlNPTjpgLCBzc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRnJvbSBjaHVuazpgLCBzc2UucmF3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogSXMgdGhpcyB3aGVyZSB0aGUgZXJyb3Igc2hvdWxkIGJlIHRocm93bj9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzc2UuZXZlbnQgPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBUElFcnJvcih1bmRlZmluZWQsIGRhdGEuZXJyb3IsIGRhdGEubWVzc2FnZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHsgZXZlbnQ6IHNzZS5ldmVudCwgZGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBjYWxscyBgc3RyZWFtLmNvbnRyb2xsZXIuYWJvcnQoKWAsIHdlIHNob3VsZCBleGl0IHdpdGhvdXQgdGhyb3dpbmcuXG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgPT09ICdBYm9ydEVycm9yJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBgYnJlYWtgcywgYWJvcnQgdGhlIG9uZ29pbmcgcmVxdWVzdC5cbiAgICAgICAgICAgICAgICBpZiAoIWRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFN0cmVhbShpdGVyYXRvciwgY29udHJvbGxlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIFN0cmVhbSBmcm9tIGEgbmV3bGluZS1zZXBhcmF0ZWQgUmVhZGFibGVTdHJlYW1cbiAgICAgKiB3aGVyZSBlYWNoIGl0ZW0gaXMgYSBKU09OIHZhbHVlLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0ocmVhZGFibGVTdHJlYW0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyTGluZXMoKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgICAgICAgICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtKTtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGxpbmUgb2YgaXRlckxpbmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IgJiYgZS5uYW1lID09PSAnQWJvcnRFcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgdGhlIHN0cmVhbSBpbnRvIHR3byBzdHJlYW1zIHdoaWNoIGNhbiBiZVxuICAgICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAgICovXG4gICAgdGVlKCkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gW107XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBjb25zdCB0ZWVJdGVyYXRvciA9IChxdWV1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyKSxcbiAgICAgICAgICAgIG5ldyBTdHJlYW0oKCkgPT4gdGVlSXRlcmF0b3IocmlnaHQpLCB0aGlzLmNvbnRyb2xsZXIpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIHN0cmVhbSB0byBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtIG9mXG4gICAgICogSlNPTiBzdHJpbmdpZmllZCB2YWx1ZXMgaW4gdGhlIHN0cmVhbVxuICAgICAqIHdoaWNoIGNhbiBiZSB0dXJuZWQgYmFjayBpbnRvIGEgU3RyZWFtIHdpdGggYFN0cmVhbS5mcm9tUmVhZGFibGVTdHJlYW0oKWAuXG4gICAgICovXG4gICAgdG9SZWFkYWJsZVN0cmVhbSgpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBpdGVyO1xuICAgICAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgICAgICAgICAgaXRlciA9IHNlbGZbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgcHVsbChjdHJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gYXdhaXQgaXRlci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSBlbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkgKyAnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZW5xdWV1ZShieXRlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaXRlci5yZXR1cm4/LigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSB7XG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBBdHRlbXB0ZWQgdG8gaXRlcmF0ZSBvdmVyIGEgcmVzcG9uc2Ugd2l0aCBubyBib2R5YCk7XG4gICAgfVxuICAgIGNvbnN0IHNzZURlY29kZXIgPSBuZXcgU1NFRGVjb2RlcigpO1xuICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHJlc3BvbnNlLmJvZHkpO1xuICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlQ2h1bmsgb2YgaXRlclNTRUNodW5rcyhpdGVyKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZGVjb2RlKHNzZUNodW5rKSkge1xuICAgICAgICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgICAgICBpZiAoc3NlKVxuICAgICAgICAgICAgICAgIHlpZWxkIHNzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZmx1c2goKSkge1xuICAgICAgICBjb25zdCBzc2UgPSBzc2VEZWNvZGVyLmRlY29kZShsaW5lKTtcbiAgICAgICAgaWYgKHNzZSlcbiAgICAgICAgICAgIHlpZWxkIHNzZTtcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGFzeW5jIGl0ZXJhYmxlIGl0ZXJhdG9yLCBpdGVyYXRlcyBvdmVyIGl0IGFuZCB5aWVsZHMgZnVsbFxuICogU1NFIGNodW5rcywgaS5lLiB5aWVsZHMgd2hlbiBhIGRvdWJsZSBuZXctbGluZSBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24qIGl0ZXJTU0VDaHVua3MoaXRlcmF0b3IpIHtcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpdGVyYXRvcikge1xuICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmluYXJ5Q2h1bmsgPSBjaHVuayBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoY2h1bmspXG4gICAgICAgICAgICA6IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoY2h1bmspXG4gICAgICAgICAgICAgICAgOiBjaHVuaztcbiAgICAgICAgbGV0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIGJpbmFyeUNodW5rLmxlbmd0aCk7XG4gICAgICAgIG5ld0RhdGEuc2V0KGRhdGEpO1xuICAgICAgICBuZXdEYXRhLnNldChiaW5hcnlDaHVuaywgZGF0YS5sZW5ndGgpO1xuICAgICAgICBkYXRhID0gbmV3RGF0YTtcbiAgICAgICAgbGV0IHBhdHRlcm5JbmRleDtcbiAgICAgICAgd2hpbGUgKChwYXR0ZXJuSW5kZXggPSBmaW5kRG91YmxlTmV3bGluZUluZGV4KGRhdGEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHlpZWxkIGRhdGEuc2xpY2UoMCwgcGF0dGVybkluZGV4KTtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKHBhdHRlcm5JbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICB5aWVsZCBkYXRhO1xuICAgIH1cbn1cbmNsYXNzIFNTRURlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgfVxuICAgIGRlY29kZShsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lLmVuZHNXaXRoKCdcXHInKSkge1xuICAgICAgICAgICAgbGluZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGxpbmUubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAvLyBlbXB0eSBsaW5lIGFuZCB3ZSBkaWRuJ3QgcHJldmlvdXNseSBlbmNvdW50ZXIgYW55IG1lc3NhZ2VzXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnQgJiYgIXRoaXMuZGF0YS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBzc2UgPSB7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgICAgIHJhdzogdGhpcy5jaHVua3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgICAgICByZXR1cm4gc3NlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobGluZSk7XG4gICAgICAgIGlmIChsaW5lLnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IFtmaWVsZG5hbWUsIF8sIHZhbHVlXSA9IHBhcnRpdGlvbihsaW5lLCAnOicpO1xuICAgICAgICBpZiAodmFsdWUuc3RhcnRzV2l0aCgnICcpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGRuYW1lID09PSAnZXZlbnQnKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGRuYW1lID09PSAnZGF0YScpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXJ0aXRpb24oc3RyLCBkZWxpbWl0ZXIpIHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5pbmRleE9mKGRlbGltaXRlcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gW3N0ci5zdWJzdHJpbmcoMCwgaW5kZXgpLCBkZWxpbWl0ZXIsIHN0ci5zdWJzdHJpbmcoaW5kZXggKyBkZWxpbWl0ZXIubGVuZ3RoKV07XG4gICAgfVxuICAgIHJldHVybiBbc3RyLCAnJywgJyddO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtaW5nLm1qcy5tYXAiXSwibmFtZXMiOlsiUmVhZGFibGVTdHJlYW0iLCJPcGVuQUlFcnJvciIsImZpbmREb3VibGVOZXdsaW5lSW5kZXgiLCJMaW5lRGVjb2RlciIsIlJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlIiwiY3JlYXRlUmVzcG9uc2VIZWFkZXJzIiwiQVBJRXJyb3IiLCJTdHJlYW0iLCJjb25zdHJ1Y3RvciIsIml0ZXJhdG9yIiwiY29udHJvbGxlciIsImZyb21TU0VSZXNwb25zZSIsInJlc3BvbnNlIiwiY29uc3VtZWQiLCJFcnJvciIsImRvbmUiLCJzc2UiLCJfaXRlclNTRU1lc3NhZ2VzIiwiZGF0YSIsInN0YXJ0c1dpdGgiLCJldmVudCIsIkpTT04iLCJwYXJzZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJyYXciLCJ1bmRlZmluZWQiLCJoZWFkZXJzIiwibWVzc2FnZSIsIm5hbWUiLCJhYm9ydCIsImZyb21SZWFkYWJsZVN0cmVhbSIsInJlYWRhYmxlU3RyZWFtIiwiaXRlckxpbmVzIiwibGluZURlY29kZXIiLCJpdGVyIiwiY2h1bmsiLCJsaW5lIiwiZGVjb2RlIiwiZmx1c2giLCJTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidGVlIiwibGVmdCIsInJpZ2h0IiwidGVlSXRlcmF0b3IiLCJxdWV1ZSIsIm5leHQiLCJsZW5ndGgiLCJyZXN1bHQiLCJwdXNoIiwic2hpZnQiLCJ0b1JlYWRhYmxlU3RyZWFtIiwic2VsZiIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsInN0YXJ0IiwicHVsbCIsImN0cmwiLCJ2YWx1ZSIsImNsb3NlIiwiYnl0ZXMiLCJlbmNvZGUiLCJzdHJpbmdpZnkiLCJlbnF1ZXVlIiwiZXJyIiwiY2FuY2VsIiwicmV0dXJuIiwiYm9keSIsInNzZURlY29kZXIiLCJTU0VEZWNvZGVyIiwic3NlQ2h1bmsiLCJpdGVyU1NFQ2h1bmtzIiwiVWludDhBcnJheSIsImJpbmFyeUNodW5rIiwiQXJyYXlCdWZmZXIiLCJuZXdEYXRhIiwic2V0IiwicGF0dGVybkluZGV4Iiwic2xpY2UiLCJjaHVua3MiLCJlbmRzV2l0aCIsInN1YnN0cmluZyIsImpvaW4iLCJmaWVsZG5hbWUiLCJfIiwicGFydGl0aW9uIiwic3RyIiwiZGVsaW1pdGVyIiwiaW5kZXgiLCJpbmRleE9mIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/streaming.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createForm: () => (/* binding */ createForm),\n/* harmony export */   fileFromPath: () => (/* reexport safe */ _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.fileFromPath),\n/* harmony export */   isBlobLike: () => (/* binding */ isBlobLike),\n/* harmony export */   isFileLike: () => (/* binding */ isFileLike),\n/* harmony export */   isMultipartBody: () => (/* binding */ isMultipartBody),\n/* harmony export */   isResponseLike: () => (/* binding */ isResponseLike),\n/* harmony export */   isUploadable: () => (/* binding */ isUploadable),\n/* harmony export */   maybeMultipartFormRequestOptions: () => (/* binding */ maybeMultipartFormRequestOptions),\n/* harmony export */   multipartFormRequestOptions: () => (/* binding */ multipartFormRequestOptions),\n/* harmony export */   toFile: () => (/* binding */ toFile)\n/* harmony export */ });\n/* harmony import */ var _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_shims/index.mjs */ \"(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/_shims/index.mjs\");\n\n\nconst isResponseLike = (value)=>value != null && typeof value === \"object\" && typeof value.url === \"string\" && typeof value.blob === \"function\";\nconst isFileLike = (value)=>value != null && typeof value === \"object\" && typeof value.name === \"string\" && typeof value.lastModified === \"number\" && isBlobLike(value);\n/**\n * The BlobLike type omits arrayBuffer() because @types/node-fetch@^2.6.4 lacks it; but this check\n * adds the arrayBuffer() method type because it is available and used at runtime\n */ const isBlobLike = (value)=>value != null && typeof value === \"object\" && typeof value.size === \"number\" && typeof value.type === \"string\" && typeof value.text === \"function\" && typeof value.slice === \"function\" && typeof value.arrayBuffer === \"function\";\nconst isUploadable = (value)=>{\n    return isFileLike(value) || isResponseLike(value) || (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.isFsReadStream)(value);\n};\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file.  Can be an {@link Uploadable}, {@link BlobLikePart}, or {@link AsyncIterable} of {@link BlobLikePart}s\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */ async function toFile(value, name, options) {\n    // If it's a promise, resolve it.\n    value = await value;\n    // If we've been given a `File` we don't need to do anything\n    if (isFileLike(value)) {\n        return value;\n    }\n    if (isResponseLike(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop() ?? \"unknown_file\");\n        // we need to convert the `Blob` into an array buffer because the `Blob` class\n        // that `node-fetch` defines is incompatible with the web standard which results\n        // in `new File` interpreting it as a string instead of binary data.\n        const data = isBlobLike(blob) ? [\n            await blob.arrayBuffer()\n        ] : [\n            blob\n        ];\n        return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.File(data, name, options);\n    }\n    const bits = await getBytes(value);\n    name || (name = getName(value) ?? \"unknown_file\");\n    if (!options?.type) {\n        const type = bits[0]?.type;\n        if (typeof type === \"string\") {\n            options = {\n                ...options,\n                type\n            };\n        }\n    }\n    return new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.File(bits, name, options);\n}\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === \"string\" || ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n    value instanceof ArrayBuffer) {\n        parts.push(value);\n    } else if (isBlobLike(value)) {\n        parts.push(await value.arrayBuffer());\n    } else if (isAsyncIterableIterator(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value){\n            parts.push(chunk); // TODO, consider validating?\n        }\n    } else {\n        throw new Error(`Unexpected data type: ${typeof value}; constructor: ${value?.constructor?.name}; props: ${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    const props = Object.getOwnPropertyNames(value);\n    return `[${props.map((p)=>`\"${p}\"`).join(\", \")}]`;\n}\nfunction getName(value) {\n    return getStringFromMaybeBuffer(value.name) || getStringFromMaybeBuffer(value.filename) || // For fs.ReadStream\n    getStringFromMaybeBuffer(value.path)?.split(/[\\\\/]/).pop();\n}\nconst getStringFromMaybeBuffer = (x)=>{\n    if (typeof x === \"string\") return x;\n    if (typeof Buffer !== \"undefined\" && x instanceof Buffer) return String(x);\n    return undefined;\n};\nconst isAsyncIterableIterator = (value)=>value != null && typeof value === \"object\" && typeof value[Symbol.asyncIterator] === \"function\";\nconst isMultipartBody = (body)=>body && typeof body === \"object\" && body.body && body[Symbol.toStringTag] === \"MultipartBody\";\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */ const maybeMultipartFormRequestOptions = async (opts)=>{\n    if (!hasUploadableValue(opts.body)) return opts;\n    const form = await createForm(opts.body);\n    return (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions)(form, opts);\n};\nconst multipartFormRequestOptions = async (opts)=>{\n    const form = await createForm(opts.body);\n    return (0,_shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.getMultipartRequestOptions)(form, opts);\n};\nconst createForm = async (body)=>{\n    const form = new _shims_index_mjs__WEBPACK_IMPORTED_MODULE_0__.FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value])=>addFormValue(form, key, value)));\n    return form;\n};\nconst hasUploadableValue = (value)=>{\n    if (isUploadable(value)) return true;\n    if (Array.isArray(value)) return value.some(hasUploadableValue);\n    if (value && typeof value === \"object\") {\n        for(const k in value){\n            if (hasUploadableValue(value[k])) return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value)=>{\n    if (value === undefined) return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n        form.append(key, String(value));\n    } else if (isUploadable(value)) {\n        const file = await toFile(value);\n        form.append(key, file);\n    } else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry)=>addFormValue(form, key + \"[]\", entry)));\n    } else if (typeof value === \"object\") {\n        await Promise.all(Object.entries(value).map(([name, prop])=>addFormValue(form, `${key}[${name}]`, prop)));\n    } else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n}; //# sourceMappingURL=uploads.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBaUc7QUFDL0M7QUFDM0MsTUFBTUssaUJBQWlCLENBQUNDLFFBQVVBLFNBQVMsUUFDOUMsT0FBT0EsVUFBVSxZQUNqQixPQUFPQSxNQUFNQyxHQUFHLEtBQUssWUFDckIsT0FBT0QsTUFBTUUsSUFBSSxLQUFLLFdBQVc7QUFDOUIsTUFBTUMsYUFBYSxDQUFDSCxRQUFVQSxTQUFTLFFBQzFDLE9BQU9BLFVBQVUsWUFDakIsT0FBT0EsTUFBTUksSUFBSSxLQUFLLFlBQ3RCLE9BQU9KLE1BQU1LLFlBQVksS0FBSyxZQUM5QkMsV0FBV04sT0FBTztBQUN0Qjs7O0NBR0MsR0FDTSxNQUFNTSxhQUFhLENBQUNOLFFBQVVBLFNBQVMsUUFDMUMsT0FBT0EsVUFBVSxZQUNqQixPQUFPQSxNQUFNTyxJQUFJLEtBQUssWUFDdEIsT0FBT1AsTUFBTVEsSUFBSSxLQUFLLFlBQ3RCLE9BQU9SLE1BQU1TLElBQUksS0FBSyxjQUN0QixPQUFPVCxNQUFNVSxLQUFLLEtBQUssY0FDdkIsT0FBT1YsTUFBTVcsV0FBVyxLQUFLLFdBQVc7QUFDckMsTUFBTUMsZUFBZSxDQUFDWjtJQUN6QixPQUFPRyxXQUFXSCxVQUFVRCxlQUFlQyxVQUFVSCxnRUFBY0EsQ0FBQ0c7QUFDeEUsRUFBRTtBQUNGOzs7Ozs7OztDQVFDLEdBQ00sZUFBZWEsT0FBT2IsS0FBSyxFQUFFSSxJQUFJLEVBQUVVLE9BQU87SUFDN0MsaUNBQWlDO0lBQ2pDZCxRQUFRLE1BQU1BO0lBQ2QsNERBQTREO0lBQzVELElBQUlHLFdBQVdILFFBQVE7UUFDbkIsT0FBT0E7SUFDWDtJQUNBLElBQUlELGVBQWVDLFFBQVE7UUFDdkIsTUFBTUUsT0FBTyxNQUFNRixNQUFNRSxJQUFJO1FBQzdCRSxRQUFTQSxDQUFBQSxPQUFPLElB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YSxNQUFNLENBQUNQLEtBQUtRO0lBQ3JCLE9BQ0ssSUFBSU4sTUFBTUMsT0FBTyxDQUFDOUQsUUFBUTtRQUMzQixNQUFNd0QsUUFBUUMsR0FBRyxDQUFDekQsTUFBTW1DLEdBQUcsQ0FBQyxDQUFDaUMsUUFBVVIsYUFBYVAsTUFBTU0sTUFBTSxNQUFNUztJQUMxRSxPQUNLLElBQUksT0FBT3BFLFVBQVUsVUFBVTtRQUNoQyxNQUFNd0QsUUFBUUMsR0FBRyxDQUFDeEIsT0FBT3lCLE9BQU8sQ0FBQzFELE9BQU9tQyxHQUFHLENBQUMsQ0FBQyxDQUFDL0IsTUFBTWlFLEtBQUssR0FBS1QsYUFBYVAsTUFBTSxDQUFDLEVBQUVNLElBQUksQ0FBQyxFQUFFdkQsS0FBSyxDQUFDLENBQUMsRUFBRWlFO0lBQ3hHLE9BQ0s7UUFDRCxNQUFNLElBQUlKLFVBQVUsQ0FBQyxxR0FBcUcsRUFBRWpFLE1BQU0sUUFBUSxDQUFDO0lBQy9JO0FBQ0osR0FDQSxvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvdXBsb2Fkcy5tanM/ZDQ5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtRGF0YSwgRmlsZSwgZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMsIGlzRnNSZWFkU3RyZWFtLCB9IGZyb20gXCIuL19zaGltcy9pbmRleC5tanNcIjtcbmV4cG9ydCB7IGZpbGVGcm9tUGF0aCB9IGZyb20gXCIuL19zaGltcy9pbmRleC5tanNcIjtcbmV4cG9ydCBjb25zdCBpc1Jlc3BvbnNlTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUudXJsID09PSAnc3RyaW5nJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5ibG9iID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzRmlsZUxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLm5hbWUgPT09ICdzdHJpbmcnICYmXG4gICAgdHlwZW9mIHZhbHVlLmxhc3RNb2RpZmllZCA9PT0gJ251bWJlcicgJiZcbiAgICBpc0Jsb2JMaWtlKHZhbHVlKTtcbi8qKlxuICogVGhlIEJsb2JMaWtlIHR5cGUgb21pdHMgYXJyYXlCdWZmZXIoKSBiZWNhdXNlIEB0eXBlcy9ub2RlLWZldGNoQF4yLjYuNCBsYWNrcyBpdDsgYnV0IHRoaXMgY2hlY2tcbiAqIGFkZHMgdGhlIGFycmF5QnVmZmVyKCkgbWV0aG9kIHR5cGUgYmVjYXVzZSBpdCBpcyBhdmFpbGFibGUgYW5kIHVzZWQgYXQgcnVudGltZVxuICovXG5leHBvcnQgY29uc3QgaXNCbG9iTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcbmV4cG9ydCBjb25zdCBpc1VwbG9hZGFibGUgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gaXNGaWxlTGlrZSh2YWx1ZSkgfHwgaXNSZXNwb25zZUxpa2UodmFsdWUpIHx8IGlzRnNSZWFkU3RyZWFtKHZhbHVlKTtcbn07XG4vKipcbiAqIEhlbHBlciBmb3IgY3JlYXRpbmcgYSB7QGxpbmsgRmlsZX0gdG8gcGFzcyB0byBhbiBTREsgdXBsb2FkIG1ldGhvZCBmcm9tIGEgdmFyaWV0eSBvZiBkaWZmZXJlbnQgZGF0YSBmb3JtYXRzXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJhdyBjb250ZW50IG9mIHRoZSBmaWxlLiAgQ2FuIGJlIGFuIHtAbGluayBVcGxvYWRhYmxlfSwge0BsaW5rIEJsb2JMaWtlUGFydH0sIG9yIHtAbGluayBBc3luY0l0ZXJhYmxlfSBvZiB7QGxpbmsgQmxvYkxpa2VQYXJ0fXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgZmlsZS4gSWYgb21pdHRlZCwgdG9GaWxlIHdpbGwgdHJ5IHRvIGRldGVybWluZSBhIGZpbGUgbmFtZSBmcm9tIGJpdHMgaWYgcG9zc2libGVcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0aW9ucy50eXBlIHRoZSBNSU1FIHR5cGUgb2YgdGhlIGNvbnRlbnRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0aW9ucy5sYXN0TW9kaWZpZWQgdGhlIGxhc3QgbW9kaWZpZWQgdGltZXN0YW1wXG4gKiBAcmV0dXJucyBhIHtAbGluayBGaWxlfSB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ZpbGUodmFsdWUsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAvLyBJZiBpdCdzIGEgcHJvbWlzZSwgcmVzb2x2ZSBpdC5cbiAgICB2YWx1ZSA9IGF3YWl0IHZhbHVlO1xuICAgIC8vIElmIHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBgRmlsZWAgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHZhbHVlLmJsb2IoKTtcbiAgICAgICAgbmFtZSB8fCAobmFtZSA9IG5ldyBVUkwodmFsdWUudXJsKS5wYXRobmFtZS5zcGxpdCgvW1xcXFwvXS8pLnBvcCgpID8/ICd1bmtub3duX2ZpbGUnKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byBjb252ZXJ0IHRoZSBgQmxvYmAgaW50byBhbiBhcnJheSBidWZmZXIgYmVjYXVzZSB0aGUgYEJsb2JgIGNsYXNzXG4gICAgICAgIC8vIHRoYXQgYG5vZGUtZmV0Y2hgIGRlZmluZXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIHdlYiBzdGFuZGFyZCB3aGljaCByZXN1bHRzXG4gICAgICAgIC8vIGluIGBuZXcgRmlsZWAgaW50ZXJwcmV0aW5nIGl0IGFzIGEgc3RyaW5nIGluc3RlYWQgb2YgYmluYXJ5IGRhdGEuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBpc0Jsb2JMaWtlKGJsb2IpID8gWyhhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpXSA6IFtibG9iXTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGRhdGEsIG5hbWUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCBiaXRzID0gYXdhaXQgZ2V0Qnl0ZXModmFsdWUpO1xuICAgIG5hbWUgfHwgKG5hbWUgPSBnZXROYW1lKHZhbHVlKSA/PyAndW5rbm93bl9maWxlJyk7XG4gICAgaWYgKCFvcHRpb25zPy50eXBlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBiaXRzWzBdPy50eXBlO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGaWxlKGJpdHMsIG5hbWUsIG9wdGlvbnMpO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0Qnl0ZXModmFsdWUpIHtcbiAgICBsZXQgcGFydHMgPSBbXTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpIHx8IC8vIGluY2x1ZGVzIFVpbnQ4QXJyYXksIEJ1ZmZlciwgZXRjLlxuICAgICAgICB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHBhcnRzLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0Jsb2JMaWtlKHZhbHVlKSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGF3YWl0IHZhbHVlLmFycmF5QnVmZmVyKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGVJdGVyYXRvcih2YWx1ZSkgLy8gaW5jbHVkZXMgUmVhZGFibGUsIFJlYWRhYmxlU3RyZWFtLCBldGMuXG4gICAgKSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goY2h1bmspOyAvLyBUT0RPLCBjb25zaWRlciB2YWxpZGF0aW5nP1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgZGF0YSB0eXBlOiAke3R5cGVvZiB2YWx1ZX07IGNvbnN0cnVjdG9yOiAke3ZhbHVlPy5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgPy5uYW1lfTsgcHJvcHM6ICR7cHJvcHNGb3JFcnJvcih2YWx1ZSl9YCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIHByb3BzRm9yRXJyb3IodmFsdWUpIHtcbiAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgICByZXR1cm4gYFske3Byb3BzLm1hcCgocCkgPT4gYFwiJHtwfVwiYCkuam9pbignLCAnKX1dYDtcbn1cbmZ1bmN0aW9uIGdldE5hbWUodmFsdWUpIHtcbiAgICByZXR1cm4gKGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5uYW1lKSB8fFxuICAgICAgICBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIodmFsdWUuZmlsZW5hbWUpIHx8XG4gICAgICAgIC8vIEZvciBmcy5SZWFkU3RyZWFtXG4gICAgICAgIGdldFN0cmluZ0Zyb21NYXliZUJ1ZmZlcih2YWx1ZS5wYXRoKT8uc3BsaXQoL1tcXFxcL10vKS5wb3AoKSk7XG59XG5jb25zdCBnZXRTdHJpbmdGcm9tTWF5YmVCdWZmZXIgPSAoeCkgPT4ge1xuICAgIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB4O1xuICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB4IGluc3RhbmNlb2YgQnVmZmVyKVxuICAgICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuY29uc3QgaXNBc3luY0l0ZXJhYmxlSXRlcmF0b3IgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xuZXhwb3J0IGNvbnN0IGlzTXVsdGlwYXJ0Qm9keSA9IChib2R5KSA9PiBib2R5ICYmIHR5cGVvZiBib2R5ID09PSAnb2JqZWN0JyAmJiBib2R5LmJvZHkgJiYgYm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTXVsdGlwYXJ0Qm9keSc7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gICAgaWYgKCFoYXNVcGxvYWRhYmxlVmFsdWUob3B0cy5ib2R5KSlcbiAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzKSA9PiB7XG4gICAgY29uc3QgZm9ybSA9IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5KTtcbiAgICByZXR1cm4gZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMoZm9ybSwgb3B0cyk7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyAoYm9keSkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyhib2R5IHx8IHt9KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYWRkRm9ybVZhbHVlKGZvcm0sIGtleSwgdmFsdWUpKSk7XG4gICAgcmV0dXJuIGZvcm07XG59O1xuY29uc3QgaGFzVXBsb2FkYWJsZVZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHZhbHVlLnNvbWUoaGFzVXBsb2FkYWJsZVZhbHVlKTtcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChoYXNVcGxvYWRhYmxlVmFsdWUodmFsdWVba10pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBhZGRGb3JtVmFsdWUgPSBhc3luYyAoZm9ybSwga2V5LCB2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgUmVjZWl2ZWQgbnVsbCBmb3IgXCIke2tleX1cIjsgdG8gcGFzcyBudWxsIGluIEZvcm1EYXRhLCB5b3UgbXVzdCB1c2UgdGhlIHN0cmluZyAnbnVsbCdgKTtcbiAgICB9XG4gICAgLy8gVE9ETzogbWFrZSBuZXN0ZWQgZm9ybWF0cyBjb25maWd1cmFibGVcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIGZvcm0uYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzVXBsb2FkYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRvRmlsZSh2YWx1ZSk7XG4gICAgICAgIGZvcm0uYXBwZW5kKGtleSwgZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHZhbHVlLm1hcCgoZW50cnkpID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXkgKyAnW10nLCBlbnRyeSkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChPYmplY3QuZW50cmllcyh2YWx1ZSkubWFwKChbbmFtZSwgcHJvcF0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBgJHtrZXl9WyR7bmFtZX1dYCwgcHJvcCkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgdmFsdWUgZ2l2ZW4gdG8gZm9ybSwgZXhwZWN0ZWQgYSBzdHJpbmcsIG51bWJlciwgYm9vbGVhbiwgb2JqZWN0LCBBcnJheSwgRmlsZSBvciBCbG9iIGJ1dCBnb3QgJHt2YWx1ZX0gaW5zdGVhZGApO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGxvYWRzLm1qcy5tYXAiXSwibmFtZXMiOlsiRm9ybURhdGEiLCJGaWxlIiwiZ2V0TXVsdGlwYXJ0UmVxdWVzdE9wdGlvbnMiLCJpc0ZzUmVhZFN0cmVhbSIsImZpbGVGcm9tUGF0aCIsImlzUmVzcG9uc2VMaWtlIiwidmFsdWUiLCJ1cmwiLCJibG9iIiwiaXNGaWxlTGlrZSIsIm5hbWUiLCJsYXN0TW9kaWZpZWQiLCJpc0Jsb2JMaWtlIiwic2l6ZSIsInR5cGUiLCJ0ZXh0Iiwic2xpY2UiLCJhcnJheUJ1ZmZlciIsImlzVXBsb2FkYWJsZSIsInRvRmlsZSIsIm9wdGlvbnMiLCJVUkwiLCJwYXRobmFtZSIsInNwbGl0IiwicG9wIiwiZGF0YSIsImJpdHMiLCJnZXRCeXRlcyIsImdldE5hbWUiLCJwYXJ0cyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicHVzaCIsImlzQXN5bmNJdGVyYWJsZUl0ZXJhdG9yIiwiY2h1bmsiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicHJvcHNGb3JFcnJvciIsInByb3BzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm1hcCIsInAiLCJqb2luIiwiZ2V0U3RyaW5nRnJvbU1heWJlQnVmZmVyIiwiZmlsZW5hbWUiLCJwYXRoIiwieCIsIkJ1ZmZlciIsIlN0cmluZyIsInVuZGVmaW5lZCIsIlN5bWJvbCIsImFzeW5jSXRlcmF0b3IiLCJpc011bHRpcGFydEJvZHkiLCJib2R5IiwidG9TdHJpbmdUYWciLCJtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsIm9wdHMiLCJoYXNVcGxvYWRhYmxlVmFsdWUiLCJmb3JtIiwiY3JlYXRlRm9ybSIsIm11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyIsIlByb21pc2UiLCJhbGwiLCJlbnRyaWVzIiwia2V5IiwiYWRkRm9ybVZhbHVlIiwiQXJyYXkiLCJpc0FycmF5Iiwic29tZSIsImsiLCJUeXBlRXJyb3IiLCJhcHBlbmQiLCJmaWxlIiwiZW50cnkiLCJwcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/uploads.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/version.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/version.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VERSION: () => (/* binding */ VERSION)\n/* harmony export */ });\nconst VERSION = \"4.97.0\"; // x-release-please-version\n //# sourceMappingURL=version.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BLFVBQVUsU0FBUyxDQUFDLDJCQUEyQjtDQUM1RCxvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlcnZpZXcvLi9ub2RlX21vZHVsZXMvLnBucG0vb3BlbmFpQDQuOTcuMF96b2RAMy4yNC4zL25vZGVfbW9kdWxlcy9vcGVuYWkvdmVyc2lvbi5tanM/NmU0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0Ljk3LjAnOyAvLyB4LXJlbGVhc2UtcGxlYXNlLXZlcnNpb25cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24ubWpzLm1hcCJdLCJuYW1lcyI6WyJWRVJTSU9OIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/openai@4.97.0_zod@3.24.3/node_modules/openai/version.mjs\n");

/***/ })

};
;